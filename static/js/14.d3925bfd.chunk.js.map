{"version":3,"sources":["../../../../../src/.internal/core/elements/Ellipse.ts","../../../../../src/.internal/core/elements/Image.ts","../../../../../src/.internal/core/elements/Slice.ts","../../../../../src/.internal/core/elements/Preloader.ts","../../../../../src/.internal/core/elements/CloseButton.ts","../../../../../src/.internal/core/elements/SwitchButton.ts","../../../../../src/.internal/core/elements/Slider.ts","../../../../../src/.internal/core/elements/TextLink.ts","../../../../../src/.internal/core/elements/Trapezoid.ts","../../../../../src/.internal/core/elements/WavedCircle.ts","../../../../../src/.internal/core/elements/ZoomOutButton.ts","../../../../../src/.internal/core/elements/PlayButton.ts","../../../../../src/.internal/core/rendering/fills/ColorModifier.ts","../../../../../src/.internal/core/rendering/fills/GradientModifier.ts","../../../../../src/.internal/core/rendering/fills/LinearGradientModifier.ts","../../../../../src/.internal/core/elements/3d/Cone.ts","../../../../../src/.internal/core/rendering/filters/LightenFilter.ts","../../../../../src/.internal/core/elements/3d/Rectangle3D.ts","../../../../../src/.internal/core/elements/3d/Slice3D.ts","../../../../../src/.internal/core/rendering/fills/RadialGradientModifier.ts","../../../../../src/.internal/core/rendering/fills/LinePattern.ts","../../../../../src/.internal/core/rendering/fills/CirclePattern.ts","../../../../../src/.internal/core/rendering/fills/RectPattern.ts","../../../../../src/.internal/core/rendering/filters/ColorizeFilter.ts","../../../../../src/.internal/core/rendering/filters/DesaturateFilter.ts","../../../../../src/.internal/core/rendering/filters/BlurFilter.ts","../../../../../src/.internal/core/rendering/filters/FocusFilter.ts","../../../../../src/.internal/core/utils/PatternSet.ts","../../../../../src/.internal/core/utils/Plugin.ts","../../../../../src/.internal/core/elements/AmChartsLogo.ts","../../../../../src/.internal/core/utils/Instance.ts"],"names":["className","element","paper","add","applyTheme","draw","this","attr","radius","radiusY","innerHeight","value","height","invalidate","innerWidth","width","Circle","registeredClasses","href","widthRatio","heightRatio","attrNS","getPropertyValue","setPropertyValue","x","y","pixelWidth","pixelHeight","Sprite","setPercentProperty","strokeOpacity","slice","createChild","isMeasured","_disposers","push","path","startAngle","arc","pixelInnerRadius","cornerRadius","innerCornerRadius","shiftRadius","realFill","RadialGradient","updateGradient","realStroke","gradient","cx","cy","definedBBox","innerRect","outerRect","innerRadius","dx","ix","dy","iy","middleAngle","getTooltipX","p","Percent","getTooltipY","Container","interfaceColors","InterfaceColorSet","sliceContainer","shouldClone","backgroundSlice","fill","getFor","fillOpacity","progressSlice","label","Label","horizontalCenter","verticalCenter","align","valign","textAlign","background","opacity","contentAlign","contentValign","delay","states","create","properties","visible","hide","__disabled","validateLayout","text","Math","round","_started","undefined","events","once","animation","isFinished","interactionsEnabled","Date","getTime","show","padding","showSystemTooltip","cursorOverStyle","Mouse","pointer","bgc","stroke","strokeWidth","downColor","bhs","getKey","bds","icon","validate","w","h","invalidateLayout","applyInternalDefaults","readerTitle","language","translate","Button","tooltipY","layout","setStateOnChildren","leftLabel","isActive","button","circle","p100","marginLeft","marginRight","togglable","as","switchButton","on","rightLabel","role","focusable","_leftLabel","removeDispose","parent","_rightLabel","_switchButton","copyFrom","source","thumb","endGrip","startGrip","_start","position","_isBusy","__start","Scrollbar","selectable","brighten","topSide","bottomSide","leftSide","rightSide","ts","bs","ls","rs","x0","y0","x1","y1","x2","y2","x3","y3","mt","mr","mb","ml","horizontalNeck","hn","max","min","verticalNeck","vn","waveLength","waveHeight","tension","pixelRadius","points","getPoints","smooth","reverse","circleLength","PI","halfWaveHeight","halfWaveLength","count","i","angle1","angle2","pop","pixelPerfect","playIcon","Triangle","direction","stopIcon","RoundedRectangle","activeState","transitionDuration","defaultState","modify","Base","lightnesses","brightnesses","opacities","offsets","_lightnesses","_brightnesses","_opacities","_offsets","clear","length","lightness","brightness","color","lighten","offset","addColor","LinearGradient","clone","angle","topRadius","top","bottom","body","setElement","bodyFillModifier","fillModifier","radiusBase","orientation","rotation","feColorMatrix","filterPrimitives","v","Filter","depth","sideBack","sideBottom","sideLeft","sideRight","sideTop","sideFront","sin","cos","a","b","c","d","ah","bh","ch","dh","setFill","colorStr","Color","hex","stops","getIndex","filter","filters","filter2","filter3","filter4","filter5","edge","toBack","sideA","sideB","edgeFill","endAngle","innerRadiusY","a0","b0","c0","d0","edgePath","ceil","step","mangle","prevPoint","pp","toFront","_line","addElement","gap","Pattern","_circle","shapeRendering","rectHeight","rectWidth","_rect","intensity","applyFilter","r","g","ii","rgb","saturation","toString","feGaussianBlur","blur","scale","feFlood","feMorphology","feComposite","feBlend","setSprite","_sprite","group","removeStyle","addStyle","_list","_currentStep","_startIndex","_currentPass","baseColor","list","getLinePattern","getRectPattern","getCirclePattern","sqrt","size","thickness","strokeDashArray","pattern","strokeDasharray","outline","reset","next","currentStep","generatePatterns","processConfig","config","_disposed","init","isDisposed","dispose","shift","url","urlTarget","aColor","alternative","aGradient","aStroke","m","Polyspline","segments","tensionX","tensionY","desaturateFilter","desaturateFilterHover","hoverState","htmlElement","classType","htmlContainer","tmpContainer","document","createElement","style","visibility","appendChild","innerHTML","SVGContainer","Paper","svgContainer","append","moveHtmlContainer","relativeWidth","relativeHeight","container","topParent","uid","invalidSprites","invalidDatas","invalidPositions","invalidLayouts","baseId","isBaseSprite","focusFilter","baseSprites","baseSpritesByUid","maskRectangle","event","previousWidth","previousHeight","deepInvalidate","dom","autoDispose","window","setTimeout","addDisposer","Disposer","clearTimeout","tooltipContainer","tooltip","Tooltip","setBounds","maxWidth","maxHeight","preloader","hasLicense","ev","isHidden","isHiding","logo","numberFormatter","isStandaloneInstance","onlyShowOnViewport","viewportTarget","queue","addToQueue","disposers","viewPortHandler","targets","target","disposer","vpDisposer","log","Error","disposeAllCharts","sprite","indexOf","disableType","queueHandler","requestFrame","removeFromQueue","index","splice","nextSprite","enableType","dispatch","showOnInit","invalidateLabels","Component","invalidateData","reinit","appear","classError","chart","raiseCriticalError","createFromConfig","finalType","type","createDeferred","callback","scope","Promise","resolve","reject","deferred","args","rest","processNextDeferred","call","deferredDelay","useTheme","themes","unuseTheme","unuseAllThemes","addLicense","license","licenses"],"mappings":"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","file":"static/js/14.d3925bfd.chunk.js","sourcesContent":["/**\r\n * Ellipse module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Circle, ICircleProperties, ICircleAdapters, ICircleEvents } from \"./Circle\";\r\nimport { registry } from \"../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Ellipse]].\r\n */\r\nexport interface IEllipseProperties extends ICircleProperties {\r\n\r\n\t/**\r\n\t * Vertical radius.\r\n\t *\r\n\t * It's a relative size to the `radius`.\r\n\t *\r\n\t * E.g. 0.8 will mean the height of the ellipsis will be 80% of it's\r\n\t * horizontal radius.\r\n\t */\r\n\tradiusY?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Ellipse]].\r\n */\r\nexport interface IEllipseEvents extends ICircleEvents { }\r\n\r\n/**\r\n * Defines adapters\r\n * Includes both the [[Adapter]] definitions and properties\r\n * @see {@link Adapter}\r\n */\r\nexport interface IEllipseAdapters extends ICircleAdapters, IEllipseProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Draws an ellipse\r\n * @see {@link IEllipseEvents} for a list of available events\r\n * @see {@link IEllipseAdapters} for a list of available Adapters\r\n */\r\nexport class Ellipse extends Circle {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IEllipseProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IEllipseAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IEllipseEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Ellipse\";\r\n\r\n\t\tthis.element = this.paper.add(\"ellipse\");\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the ellipsis.\r\n\t */\r\n\tprotected draw() {\r\n\t\tsuper.draw();\r\n\t\tthis.element.attr({ \"rx\": this.radius });\r\n\t\tthis.element.attr({ \"ry\": this.radiusY });\r\n\t}\r\n\r\n\t/**\r\n\t * Vertical radius.\r\n\t *\r\n\t * It's a relative size to the `radius`.\r\n\t *\r\n\t * E.g. 0.8 will mean the height of the ellipsis will be 80% of it's\r\n\t * horizontal radius.\r\n\t *\r\n\t * @param value  Vertical radius\r\n\t */\r\n\tpublic set radiusY(value: number) {\r\n\t\tthis.height = value * 2;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical radius\r\n\t */\r\n\tpublic get radiusY(): number {\r\n\t\treturn this.innerHeight / 2;\r\n\t}\r\n\r\n\t/**\r\n\t * Horizontal radius.\r\n\t *\r\n\t * @param value  Horizontal radius\r\n\t */\r\n\tpublic set radius(value: number) {\r\n\t\tthis.width = value * 2;\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Horizontal radius\r\n\t */\r\n\tpublic get radius(): number {\r\n\t\treturn this.innerWidth / 2;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Ellipse\"] = Ellipse;\r\n","/**\r\n * Functionality for adding images in SVG tree.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite, ISpriteProperties, ISpriteAdapters, ISpriteEvents } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $dom from \"../utils/DOM\";\r\nimport * as $type from \"../utils/Type\";\r\nimport { IRectangle } from \"../defs/IRectangle\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Image]].\r\n */\r\nexport interface IImageProperties extends ISpriteProperties {\r\n\r\n\t/**\r\n\t * A URI of the image.\r\n\t */\r\n\thref?: string;\r\n\r\n\t/**\r\n\t * Sets image `width` in relation to its `height`.\r\n\t */\r\n\twidthRatio?: number;\r\n\r\n\t/**\r\n\t * Sets image `height` in relation to its `width`.\r\n\t */\r\n\theightRatio?: number;\r\n}\r\n\r\n/**\r\n * Defines events for [[Image]].\r\n */\r\nexport interface IImageEvents extends ISpriteEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Image]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IImageAdapters extends ISpriteAdapters, IImageProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Used to add `<image>` elements to SVG.\r\n *\r\n * @see {@link IImageEvents} for a list of available events\r\n * @see {@link IImageAdapters} for a list of available Adapters\r\n */\r\nexport class Image extends Sprite {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IImageProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IImageAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IImageEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Image\";\r\n\t\tthis.element = this.paper.add(\"image\");\r\n\t\tthis.applyTheme();\r\n\r\n\t\tthis.width = 50;\r\n\t\tthis.height = 50;\r\n\t}\r\n\r\n\t/**\r\n\t * Draws an `<image>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\t\tif (this.href) {\r\n\r\n\t\t\tlet width = this.innerWidth;\r\n\t\t\tlet height = this.innerHeight;\r\n\r\n\t\t\tif ($type.isNumber(this.widthRatio)) {\r\n\t\t\t\twidth = height * this.widthRatio;\r\n\t\t\t\tthis.width = width;\r\n\t\t\t}\r\n\r\n\t\t\tif ($type.isNumber(this.heightRatio)) {\r\n\t\t\t\theight = width * this.heightRatio;\r\n\t\t\t\tthis.height = height;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.element.attr({\r\n\t\t\t\t\"width\": width,\r\n\t\t\t\t\"height\": height\r\n\t\t\t});\r\n\t\t\tthis.element.attrNS($dom.XLINK, \"xlink:href\", this.href);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * An image URI.\r\n\t *\r\n\t * @param value  Image URI\r\n\t */\r\n\tpublic set href(value: string) {\r\n\t\tthis.setPropertyValue(\"href\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Image URI\r\n\t */\r\n\tpublic get href(): string {\r\n\t\treturn this.getPropertyValue(\"href\");\r\n\t}\r\n\r\n\t/**\r\n\t * Sets image `width` relatively to its `height`.\r\n\t *\r\n\t * If image's `height = 100` and `widthRatio = 0.5` the actual width will be\r\n\t * `50`.\r\n\t *\r\n\t * @param value  Ratio\r\n\t */\r\n\tpublic set widthRatio(value: number) {\r\n\t\tthis.setPropertyValue(\"widthRatio\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Ratio\r\n\t */\r\n\tpublic get widthRatio(): number {\r\n\t\treturn this.getPropertyValue(\"widthRatio\");\r\n\t}\r\n\r\n\t/**\r\n\t * Sets image `height` relatively to its `width`.\r\n\t *\r\n\t * If image's `width = 100` and `heightRatio = 0.5` the actual height will be\r\n\t * `50`.\r\n\t *\r\n\t * @param value  Ratio\r\n\t */\r\n\tpublic set heightRatio(value: number) {\r\n\t\tthis.setPropertyValue(\"heightRatio\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Ratio\r\n\t */\r\n\tpublic get heightRatio(): number {\r\n\t\treturn this.getPropertyValue(\"heightRatio\");\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Returns bounding box (square) for this element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic get bbox(): IRectangle {\r\n\t\treturn {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\twidth: this.pixelWidth,\r\n\t\t\theight: this.pixelHeight\r\n\t\t};\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Image\"] = Image;\r\n","/**\r\n * Slice module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../Container\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport { Percent } from \"../utils/Percent\";\r\nimport { IRectangle } from \"../defs/IRectangle\";\r\nimport { RadialGradient } from \"../rendering/fills/RadialGradient\";\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Slice]].\r\n */\r\nexport interface ISliceProperties extends IContainerProperties {\r\n\r\n\t/**\r\n\t * Radius of the slice in pixels.\r\n\t */\r\n\tradius?: number;\r\n\r\n\t/**\r\n\t * Vertical radius for creating skewed slices.\r\n\t *\r\n\t * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n\t * the `radius`.\r\n\t */\r\n\tradiusY?: number;\r\n\r\n\t/**\r\n\t * Inner radius of the slice for creating cut out (donut) slices, in px or %\r\n\t */\r\n\tinnerRadius?: number | Percent;\r\n\r\n\t/**\r\n\t * The angle at which left edge of the slice is drawn. (0-360)\r\n\t *\r\n\t * 0 is to the right of the center.\r\n\t */\r\n\tstartAngle?: number;\r\n\r\n\t/**\r\n\t * [arc description]\r\n\t *\r\n\t * @todo Description\r\n\t */\r\n\tarc?: number;\r\n\r\n\t/**\r\n\t * [shiftRadius description]\r\n\t *\r\n\t * @todo Description\r\n\t */\r\n\tshiftRadius?: number;\r\n\r\n\t/**\r\n\t * Radius of slice's outer corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t */\r\n\tcornerRadius?: number;\r\n\r\n\t/**\r\n\t * Radius of slice's inner corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t */\r\n\tinnerCornerRadius?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Slice]].\r\n */\r\nexport interface ISliceEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Slice]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ISliceAdapters extends IContainerAdapters, ISliceProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Draws a wedged semi-circle - slice. Usually used for Pie/Donut charts.\r\n *\r\n * @see {@link ISliceEvents} for a list of available events\r\n * @see {@link ISliceAdapters} for a list of available Adapters\r\n */\r\nexport class Slice extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ISliceProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ISliceAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ISliceEvents;\r\n\r\n\t/**\r\n\t * Main slice element.\r\n\t *\r\n\t * Slice itself is a [[Container]] so that [[Slice3D]] could extend it and\r\n\t * add 3D elements to it.\r\n\t */\r\n\tpublic slice: Sprite;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"Slice\";\r\n\r\n\t\t// Set defaults\r\n\t\tthis.setPropertyValue(\"cornerRadius\", 0);\r\n\t\tthis.setPropertyValue(\"startAngle\", 0);\r\n\t\tthis.setPercentProperty(\"innerRadius\", 0);\r\n\t\tthis.setPercentProperty(\"radius\", 0);\r\n\t\tthis.setPropertyValue(\"arc\", 0);\r\n\t\tthis.setPropertyValue(\"shiftRadius\", 0);\r\n\t\tthis.strokeOpacity = 1;\r\n\t\tthis.setPropertyValue(\"layout\", \"none\");\r\n\r\n\t\t// Create a slice wedge element\r\n\t\tthis.slice = this.createChild(Sprite);\r\n\t\tthis.slice.isMeasured = false;\r\n\r\n\t\tthis._disposers.push(this.slice);\r\n\r\n\t\t//this.element.attr({ \"stroke-linejoin\": \"round\" });\r\n\t\t//this.element.attr({ \"stroke-linecap\": \"round\" });\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\t\tlet radiusY = this.radiusY;\r\n\t\tif(this.radius > 0 && radiusY == 0){\r\n\t\t\tradiusY = 0.01;\r\n\t\t}\r\n\t\tthis.slice.path = $path.arc(this.startAngle, this.arc, this.radius, this.pixelInnerRadius, radiusY, this.cornerRadius, this.innerCornerRadius);\r\n\t\tthis.slice.invalidate();\r\n\t\tthis.shiftRadius = this.shiftRadius;\r\n\r\n\t\tif (this.realFill instanceof RadialGradient) {\r\n\t\t\tthis.updateGradient(this.realFill);\r\n\t\t}\r\n\t\tif (this.realStroke instanceof RadialGradient) {\r\n\t\t\tthis.updateGradient(this.realStroke);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected updateGradient(gradient: RadialGradient) {\r\n\t\tgradient.element.attr({ \"gradientUnits\": \"userSpaceOnUse\" });\r\n\t\tgradient.element.attr({ \"r\": this.radius });\r\n\t\tgradient.cx = 0;\r\n\t\tgradient.cy = 0;\r\n\t\tgradient.element.attr({ radius: this.radius });\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Returns bounding box (square) for this element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic get bbox(): IRectangle {\r\n\t\tif (this.definedBBox) {\r\n\t\t\treturn this.definedBBox;\r\n\t\t}\r\n\r\n\t\tif (this.isMeasured) {\r\n\t\t\tlet innerRect = $math.getArcRect(this.startAngle, this.startAngle + this.arc, this.pixelInnerRadius);\r\n\t\t\tlet outerRect = $math.getArcRect(this.startAngle, this.startAngle + this.arc, this.radius);\r\n\t\t\treturn $math.getCommonRectangle([innerRect, outerRect]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn { x: 0, y: 0, width: 0, height: 0 };\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * The angle at which left edge of the slice is drawn. (0-360)\r\n\t *\r\n\t * 0 is to the right of the center.\r\n\t *\r\n\t * @param value  Angle (0-360)\r\n\t */\r\n\tpublic set startAngle(value: number) {\r\n\t\tthis.setPropertyValue(\"startAngle\", $math.normalizeAngle(value), true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle (0-360)\r\n\t */\r\n\tpublic get startAngle(): number {\r\n\t\treturn this.getPropertyValue(\"startAngle\");\r\n\t}\r\n\r\n\t/**\r\n\t * [arc description]\r\n\t *\r\n\t * @todo Description\r\n\t * @param value [description]\r\n\t */\r\n\tpublic set arc(value: number) {\r\n\t\tif (!$type.isNumber(value)) {\r\n\t\t\tvalue = 0;\r\n\t\t}\r\n\t\tthis.setPropertyValue(\"arc\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return [description]\r\n\t */\r\n\tpublic get arc(): number {\r\n\t\treturn this.getPropertyValue(\"arc\");\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of the slice in pixels.\r\n\t *\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set radius(value: number) {\r\n\t\tthis.setPropertyValue(\"radius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get radius(): number {\r\n\t\tlet radius: number = this.getPropertyValue(\"radius\");\r\n\t\tif (!$type.isNumber(radius)) {\r\n\t\t\tradius = 0;\r\n\t\t}\r\n\t\treturn radius;\r\n\t}\r\n\r\n\t/**\r\n\t * Vertical radius for creating skewed slices.\r\n\t *\r\n\t * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n\t * the `radius`.\r\n\t *\r\n\t * @param value Vertical radius (0-1)\r\n\t */\r\n\tpublic set radiusY(value: number) {\r\n\t\tthis.setPropertyValue(\"radiusY\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical radius (0-1)\r\n\t */\r\n\tpublic get radiusY(): number {\r\n\t\tlet value: number = this.getPropertyValue(\"radiusY\");\r\n\r\n\t\tif (!$type.isNumber(value)) {\r\n\t\t\tvalue = this.radius;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\t/**\r\n\t * Inner radius of the slice for creating cut out (donut) slices.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px or %)\r\n\t */\r\n\tpublic set innerRadius(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px or %)\r\n\t */\r\n\tpublic get innerRadius(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"innerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius px\r\n\t */\r\n\tpublic get pixelInnerRadius(): number {\r\n\t\treturn $utils.relativeToValue(this.innerRadius, this.radius);\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of slice's outer corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set cornerRadius(value: number) {\r\n\t\tthis.setPropertyValue(\"cornerRadius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get cornerRadius(): number {\r\n\t\treturn this.getPropertyValue(\"cornerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of slice's inner corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set innerCornerRadius(value: number) {\r\n\t\tthis.setPropertyValue(\"innerCornerRadius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get innerCornerRadius(): number {\r\n\t\treturn this.getPropertyValue(\"innerCornerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates how far (relatively to center) a slice should be moved.\r\n\t *\r\n\t * The value is relative to the radius of the slice. Meaning 0 no shift,\r\n\t * 1 - slice shifted outside by whole of its radius.\r\n\t *\r\n\t * @param  value  Radius shift\r\n\t */\r\n\tpublic set shiftRadius(value: number) {\r\n\t\tthis.setPropertyValue(\"shiftRadius\", value);\r\n\t\tthis.dx = value * this.radius * this.ix;\r\n\t\tthis.dy = value * this.radiusY * this.iy;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius shift\r\n\t */\r\n\tpublic get shiftRadius(): number {\r\n\t\treturn this.getPropertyValue(\"shiftRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * [ix description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @return [description]\r\n\t */\r\n\tpublic get ix(): number {\r\n\t\treturn $math.cos(this.middleAngle);\r\n\t}\r\n\r\n\t/**\r\n\t * [iy description]\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Description\r\n\t * @return [description]\r\n\t */\r\n\tpublic get iy(): number {\r\n\t\treturn $math.sin(this.middleAngle);\r\n\t}\r\n\r\n\t/**\r\n\t * An angle of the slice's middle.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return Angle\r\n\t */\r\n\tpublic get middleAngle(): number {\r\n\t\treturn this.startAngle + this.arc / 2;\r\n\t}\r\n\r\n\t/**\r\n\t * X coordinate for the slice tooltip.\r\n\t *\r\n\t * @return X\r\n\t */\r\n\tpublic getTooltipX(): number {\r\n\t\tlet value = this.getPropertyValue(\"tooltipX\");\r\n\r\n\t\tif($type.isNumber(value)){\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\tlet p = 0.5;\r\n\t\tif(value instanceof Percent){\r\n\t\t\tp = value.value;\r\n\t\t}\r\n\t\tlet innerRadius = $utils.relativeToValue(this.innerRadius, this.radius);\r\n\t\treturn this.ix * (innerRadius + (this.radius - innerRadius) * p);\r\n\t}\r\n\r\n\t/**\r\n\t * Y coordinate for the slice tooltip.\r\n\t *\r\n\t * @return Y\r\n\t */\r\n\tpublic getTooltipY(): number {\r\n\t\tlet value = this.getPropertyValue(\"tooltipY\");\r\n\r\n\t\tif($type.isNumber(value)){\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\tlet p = 0.5;\r\n\t\tif(value instanceof Percent){\r\n\t\t\tp = value.value;\r\n\t\t}\r\n\t\tlet innerRadius = $utils.relativeToValue(this.innerRadius, this.radius);\r\n\t\treturn this.iy * (innerRadius + (this.radius - innerRadius) * p) + this.slice.dy;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Slice\"] = Slice;\r\n","/**\r\n * Preloader module.\r\n *\r\n * Preloader is a progress indicator.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../Container\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Slice } from \"./Slice\";\r\nimport { Label } from \"./Label\";\r\nimport { registry } from \"../Registry\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Preloader]].\r\n */\r\nexport interface IPreloaderProperties extends IContainerProperties {\r\n\r\n\t/**\r\n\t * Current preload progress. (0-1)\r\n\t *\r\n\t * * 0 - 0%\r\n\t * * 0.5 - 50%\r\n\t * * 1 - 100%\r\n\t */\r\n\tprogress?: number;\r\n\r\n\t/**\r\n\t * Delay display of preloader by X milliseconds.\r\n\t *\r\n\t * When loading starts (`progress` is set to <1) and finishes (`progress` is\r\n\t * set to 1) before `delay` ms, the loader is never shown.\r\n\t *\r\n\t * This is used to avoid brief flashing of the preload for very quick loads.\r\n\t *\r\n\t * @default 1000\r\n\t */\r\n\tdelay?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Preloader]].\r\n */\r\nexport interface IPreloaderEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Preloader]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IPreloaderAdapters extends IContainerAdapters, IPreloaderProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A class used to draw and display progress indicator.\r\n *\r\n * @see {@link IPreloaderEvents} for a list of available events\r\n * @see {@link IPreloaderAdapters} for a list of available Adapters\r\n */\r\nexport class Preloader extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IPreloaderProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IPreloaderAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IPreloaderEvents;\r\n\r\n\t/**\r\n\t * A [[Slice]] element that indicates load progress.\r\n\t *\r\n\t * This can be used to modify appearance of the preloader elements.\r\n\t */\r\n\tpublic progressSlice: Slice;\r\n\r\n\t/**\r\n\t * A [[Slice]] element that shows the full ring. (background for the\r\n\t * `progressSlice`)\r\n\t *\r\n\t * This can be used to modify appearance of the preloader elements.\r\n\t */\r\n\tpublic backgroundSlice: Slice;\r\n\r\n\t/**\r\n\t * Label that displays progress in percent.\r\n\t *\r\n\t * This can be used to modify appearance of the preloader elements.\r\n\t */\r\n\tpublic label: Label;\r\n\r\n\t/**\r\n\t * Logs the timestamp of when the loader was initiated. It will be used to\r\n\t * delay showing of the Preloader so for quick operations it does not even\r\n\t * appear on screen.\r\n\t */\r\n\tprotected _started: $type.Optional<number>;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"Preloader\";\r\n\r\n\t\t// Set dimensions\r\n\t\tthis.width = percent(100);\r\n\t\tthis.height = percent(100);\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\t// Create main container\r\n\t\tlet sliceContainer: Container = this.createChild(Container);\r\n\t\tsliceContainer.shouldClone = false;\r\n\r\n\t\t// Add background (100%) slice\r\n\t\tlet backgroundSlice: Slice = sliceContainer.createChild(Slice);\r\n\t\tbackgroundSlice.shouldClone = false;\r\n\t\tbackgroundSlice.radius = 53;\r\n\t\tbackgroundSlice.arc = 360;\r\n\t\tbackgroundSlice.fill = interfaceColors.getFor(\"fill\");\r\n\t\tbackgroundSlice.fillOpacity = 0.8;\r\n\t\tbackgroundSlice.innerRadius = 42;\r\n\t\tbackgroundSlice.isMeasured = false;\r\n\t\tthis.backgroundSlice = backgroundSlice;\r\n\r\n\t\t// Add progress slice\r\n\t\tlet progressSlice: Slice = sliceContainer.createChild(Slice);\r\n\t\tprogressSlice.shouldClone = false;\r\n\t\tprogressSlice.radius = 50;\r\n\t\tprogressSlice.innerRadius = 45;\r\n\t\tprogressSlice.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n\t\tprogressSlice.fillOpacity = 0.2;\r\n\t\tprogressSlice.isMeasured = false;\r\n\t\tthis.progressSlice = progressSlice;\r\n\r\n\t\t// Add text label element\r\n\t\tlet label: Label = sliceContainer.createChild(Label);\r\n\t\tlabel.shouldClone = false;\r\n\t\tlabel.horizontalCenter = \"middle\";\r\n\t\tlabel.verticalCenter = \"middle\";\r\n\t\tlabel.isMeasured = false;\r\n\t\tlabel.fill = interfaceColors.getFor(\"text\");\r\n\t\tlabel.align = \"center\";\r\n\t\tlabel.valign = \"middle\";\r\n\t\tlabel.textAlign = \"middle\";\r\n\t\tlabel.fillOpacity = 0.4;\r\n\t\tthis.label = label;\r\n\r\n\t\t// Set defaults\r\n\t\tthis.background.opacity = 1;\r\n\t\tthis.background.fill = interfaceColors.getFor(\"background\");\r\n\t\tthis.contentAlign = \"center\";\r\n\t\tthis.contentValign = \"middle\";\r\n\t\tthis.delay = 300;\r\n\r\n\t\t// Create hidden state\r\n\t\tlet hiddenState = this.states.create(\"hidden\");\r\n\t\thiddenState.properties.opacity = 0;\r\n\r\n\t\t// Hide by default\r\n\t\tthis.visible = false;\r\n\t\tthis.hide(0);\r\n\t\tthis.__disabled = true;\r\n\r\n\t\t// Make it disposable\r\n\t\t// @todo Maybe it's enough to just dispose `sliceContainer`?\r\n\t\tthis._disposers.push(this.backgroundSlice);\r\n\t\tthis._disposers.push(this.progressSlice);\r\n\t\tthis._disposers.push(this.label);\r\n\t\tthis._disposers.push(sliceContainer);\r\n\t}\r\n\r\n\t/**\r\n\t * Current preload progress. (0-1)\r\n\t *\r\n\t * * 0 - 0%\r\n\t * * 0.5 - 50%\r\n\t * * 1 - 100%\r\n\t *\r\n\t * Setting this to a value less than 1, will automatically reveal the\r\n\t * preloader, while setting it to 1 (100%) will hide it.\r\n\t *\r\n\t * @param value Progress (0-1)\r\n\t */\r\n\tpublic set progress(value: number) {\r\n\t\tthis.__disabled = false;\r\n\r\n\t\tthis.validateLayout(); // show not in center without this\r\n\r\n\t\tthis.setPropertyValue(\"progress\", value);\r\n\r\n\t\t/*if (!this.visible && value == 1) {\r\n\t\t\treturn;\r\n\t\t}*/\r\n\r\n\t\tthis.progressSlice.arc = 360 * value;\r\n\r\n\t\tif (this.label) {\r\n\t\t\tthis.label.text = Math.round(value * 100) + \"%\";\r\n\t\t}\r\n\r\n\t\tif (value >= 1) {\r\n\r\n\t\t\t// Cancel the timeout\r\n\t\t\tif (this._started) {\r\n\t\t\t\tthis._started = undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// TODO remove closure ?\r\n\t\t\tregistry.events.once(\"enterframe\", () => {\r\n\t\t\t\tlet animation = this.hide();\r\n\t\t\t\tif (animation && !animation.isFinished()) {\r\n\t\t\t\t\tanimation.events.once(\"animationended\", () => {\r\n\t\t\t\t\t\tthis.__disabled = true;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.__disabled = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.interactionsEnabled = false;\r\n\t\t\tthis.setPropertyValue(\"progress\", 0);\r\n\t\t}\r\n\t\telse if (value > 0) {\r\n\t\t\tif (this.delay) {\r\n\t\t\t\tif (!this._started) {\r\n\t\t\t\t\tthis._started = new Date().getTime();\r\n\t\t\t\t}\r\n\t\t\t\telse if ((this._started + this.delay) <= new Date().getTime()) {\r\n\t\t\t\t\tthis.__disabled = false;\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t\tthis.interactionsEnabled = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.__disabled = false;\r\n\t\t\t\tthis.show();\r\n\t\t\t\tthis.interactionsEnabled = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @return Progress (0-1)\r\n\t */\r\n\tpublic get progress(): number {\r\n\t\treturn this.getPropertyValue(\"progress\");\r\n\t}\r\n\r\n\t/**\r\n\t * Delay display of preloader by X milliseconds.\r\n\t *\r\n\t * When loading starts (`progress` is set to <1) and finishes (`progress` is\r\n\t * set to 1) before `delay` ms, the loader is never shown.\r\n\t *\r\n\t * This is used to avoid brief flashing of the preload for very quick loads.\r\n\t *\r\n\t * @default 1000\r\n\t * @param value  Delay (ms)\r\n\t */\r\n\tpublic set delay(value: number) {\r\n\t\tthis.setPropertyValue(\"delay\", value);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Delay (ms)\r\n\t */\r\n\tpublic get delay(): number {\r\n\t\treturn this.getPropertyValue(\"delay\");\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Preloader\"] = Preloader;\r\n","/**\r\n * Zoom out button functionality.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button, IButtonProperties, IButtonAdapters, IButtonEvents } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { RoundedRectangle } from \"./RoundedRectangle\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[CloseButton]].\r\n */\r\nexport interface ICloseButtonProperties extends IButtonProperties { }\r\n\r\n/**\r\n * Defines events for [[CloseButton]].\r\n */\r\nexport interface ICloseButtonEvents extends IButtonEvents { }\r\n\r\n/**\r\n * Defines adapters for [[CloseButton]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ICloseButtonAdapters extends IButtonAdapters, ICloseButtonProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link ICloseButtonEvents} for a list of available events\r\n * @see {@link ICloseButtonAdapters} for a list of available Adapters\r\n */\r\nexport class CloseButton extends Button {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ICloseButtonProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ICloseButtonAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ICloseButtonEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"CloseButton\";\r\n\r\n\t\tthis.padding(8, 8, 8, 8);\r\n\t\tthis.showSystemTooltip = true;\r\n\r\n\t\tthis.width = 30;\r\n\t\tthis.height = 30;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\tthis.cursorOverStyle = MouseCursorStyle.pointer;\r\n\r\n\t\tlet background: RoundedRectangle = this.background;\r\n\t\tbackground.cornerRadius(20, 20, 20, 20);\r\n\r\n\t\tlet bgc = interfaceColors.getFor(\"background\");\r\n\t\tbackground.fill = bgc;\r\n\t\tbackground.stroke = interfaceColors.getFor(\"primaryButton\");\r\n\t\tbackground.strokeOpacity = 1;\r\n\t\tbackground.strokeWidth = 1;\r\n\r\n\t\tlet downColor = interfaceColors.getFor(\"primaryButtonActive\")\r\n\r\n\t\tlet bhs =background.states.getKey(\"hover\");\r\n\t\tbhs.properties.strokeWidth = 3;\r\n\t\tbhs.properties.fill = bgc;\r\n\r\n\t\tlet bds = background.states.getKey(\"down\");\t\t\t\t\r\n\t\tbds.properties.stroke = downColor;\r\n\t\tbds.properties.fill = bgc;\r\n\r\n\t\t// Create an icon\r\n\t\tlet icon: Sprite = new Sprite();\r\n\t\ticon.element = this.paper.add(\"path\");\r\n\t\ticon.stroke = background.stroke;\r\n\r\n\t\tthis.icon = icon;\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\tpublic validate() {\r\n\t\tsuper.validate();\r\n\r\n\t\tlet w = this.pixelWidth / 3;\r\n\t\tlet h = this.pixelHeight / 3;\r\n\r\n\t\tlet path = $path.moveTo({ x: -w / 2, y: -h / 2 });\r\n\t\tpath += $path.lineTo({ x: w / 2, y: h / 2 });\r\n\t\tpath += $path.moveTo({ x: w / 2, y: -h / 2 });\r\n\t\tpath += $path.lineTo({ x: -w / 2, y: h / 2 });\r\n\t\tthis.icon.path = path;\r\n\t\tthis.invalidateLayout();\r\n\t}\r\n\r\n\t/**\r\n\t * Sets defaults that instantiate some objects that rely on parent, so they\r\n\t * cannot be set in constructor.\r\n\t */\r\n\tprotected applyInternalDefaults(): void {\r\n\t\tsuper.applyInternalDefaults();\r\n\t\tif (!$type.hasValue(this.readerTitle)) {\r\n\t\t\tthis.readerTitle = this.language.translate(\"Close\");\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CloseButton\"] = CloseButton;\r\n","/**\r\n * Functionality for drawing simple SwitchButtons.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../Container\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { Label } from \"./Label\";\r\nimport { RoundedRectangle } from \"../elements/RoundedRectangle\";\r\nimport { Button } from \"../elements/Button\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[SwitchButton]].\r\n */\r\nexport interface ISwitchButtonProperties extends IContainerProperties { }\r\n\r\n/**\r\n * Defines events for [[SwitchButton]].\r\n */\r\nexport interface ISwitchButtonEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[SwitchButton]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ISwitchButtonAdapters extends IContainerAdapters, ISwitchButtonProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * SwitchButton class is capable of drawing a simple rectangular SwitchButton with\r\n * optionally rounded corners and an icon in it.\r\n *\r\n * @see {@link ISwitchButtonEvents} for a list of available events\r\n * @see {@link ISwitchButtonAdapters} for a list of available Adapters\r\n */\r\nexport class SwitchButton extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ISwitchButtonProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ISwitchButtonAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ISwitchButtonEvents;\r\n\r\n\t/**\r\n\t * Icon reference.\r\n\t */\r\n\tprotected _icon: Sprite;\r\n\r\n\t/**\r\n\t * [[Label]] element for SwitchButton content.\r\n\t */\r\n\tprotected _leftLabel: $type.Optional<Label>;\r\n\r\n\t/**\r\n\t * [[Label]] element for SwitchButton content.\r\n\t */\r\n\tprotected _rightLabel: $type.Optional<Label>;\r\n\r\n\t/**\r\n\t * A type for background.\r\n\t */\r\n\tpublic _background: RoundedRectangle;\r\n\r\n\tprotected _switchButton: Button;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"SwitchButton\";\r\n\r\n\t\tthis.tooltipY = 0;\r\n\r\n\t\t// Set defaults\r\n\t\tthis.layout = \"horizontal\";\r\n\t\tthis.contentAlign = \"center\";\r\n\t\tthis.contentValign = \"middle\";\r\n\t\tthis.padding(8, 16, 8, 16);\r\n\t\tthis.setStateOnChildren = true;\r\n\t\tthis.states.create(\"active\");\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\t// Create the label element\r\n\t\tlet leftLabel = new Label();\r\n\t\tleftLabel.fillOpacity = 0.3;\r\n\t\tlet llas = leftLabel.states.create(\"active\");\r\n\t\tllas.properties.fillOpacity = 1;\r\n\t\tleftLabel.isActive = true;\r\n\t\tthis.leftLabel = leftLabel;\r\n\r\n\t\tlet button = new Button();\r\n\t\tlet circle = new Circle();\r\n\t\tbutton.contentValign = \"none\";\r\n\t\tbutton.padding(0, 0, 0, 0);\r\n\t\tcircle.radius = 10;\r\n\t\tbutton.icon = circle;\r\n\t\tbutton.icon.valign = \"middle\";\r\n\t\tbutton.label = undefined;\r\n\t\tlet p100 = percent(100);\r\n\t\tbutton.background.cornerRadius(p100, p100, p100, p100);\r\n\t\tbutton.width = circle.radius * 3.5;\r\n\t\tbutton.height = circle.radius * 2.1;\r\n\t\tbutton.marginLeft = 8;\r\n\t\tbutton.marginRight = 8;\r\n\t\tbutton.togglable = true;\r\n\t\tcircle.dx = -circle.radius * 0.7;\r\n\t\tcircle.fill = interfaceColors.getFor(\"primaryButton\");\r\n\r\n\t\tlet hs = circle.states.create(\"hover\");\r\n\t\ths.properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n\r\n\t\tlet as = circle.states.create(\"active\");\r\n\t\tas.properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n\t\tas.properties.dx = circle.radius * 0.7;\r\n\r\n\t\tthis.switchButton = button;\r\n\r\n\t\tthis.events.on(\"toggled\", () => {\r\n\t\t\tthis.leftLabel.isActive = !this.isActive;\r\n\t\t\tthis.rightLabel.isActive = this.isActive;\r\n\t\t})\r\n\r\n\t\t// Create the label element\r\n\t\tlet rightLabel = new Label();\r\n\t\trightLabel.fillOpacity = 0.3;\r\n\t\t\r\n\t\tlet rlas = rightLabel.states.create(\"active\");\r\n\t\trlas.properties.fillOpacity = 1;\r\n\t\tthis.rightLabel = rightLabel;\r\n\r\n\t\t// Set up accessibility\r\n\t\t// A Button should be always focusable\r\n\t\tthis.role = \"button\";\r\n\t\tthis.focusable = true;\r\n\r\n\t\trightLabel.valign = \"middle\";\r\n\t\tleftLabel.valign = \"middle\";\t\r\n\t\tbutton.valign = \"middle\"\t\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * [[Label]] element to be used for left text.\r\n\t *\r\n\t * @param left label element\r\n\t */\r\n\tpublic set leftLabel(label: $type.Optional<Label>) {\r\n\t\tif (this._leftLabel) {\r\n\t\t\tthis.removeDispose(this._leftLabel);\r\n\t\t}\r\n\t\tthis._leftLabel = label;\r\n\t\tif (label) {\r\n\t\t\tlabel.parent = this;\r\n\t\t\tlabel.interactionsEnabled = false;\r\n\t\t\tlabel.shouldClone = false;\r\n\t\t\tthis._disposers.push(this._leftLabel);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Left label element\r\n\t */\r\n\tpublic get leftLabel(): $type.Optional<Label> {\r\n\t\treturn this._leftLabel;\r\n\t}\r\n\r\n\t/**\r\n\t * [[Label]] element to be used for left text.\r\n\t *\r\n\t * @param rigth label element\r\n\t */\r\n\tpublic set rightLabel(label: $type.Optional<Label>) {\r\n\t\tif (this._rightLabel) {\r\n\t\t\tthis.removeDispose(this._rightLabel);\r\n\t\t}\r\n\t\tthis._rightLabel = label;\r\n\t\tif (label) {\r\n\t\t\tlabel.parent = this;\r\n\t\t\tlabel.interactionsEnabled = false;\r\n\t\t\tlabel.shouldClone = false;\r\n\t\t\tthis._disposers.push(this._rightLabel);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Rigth label element\r\n\t */\r\n\tpublic get rightLabel(): $type.Optional<Label> {\r\n\t\treturn this._rightLabel;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Left label element\r\n\t */\r\n\tpublic get switch(): $type.Optional<Button> {\r\n\t\treturn this._switchButton;\r\n\t}\r\n\r\n\t/**\r\n\t * [[Label]] element to be used for left text.\r\n\t *\r\n\t * @param rigth label element\r\n\t */\r\n\tpublic set switchButton(button: $type.Optional<Button>) {\r\n\t\tif (this._switchButton) {\r\n\t\t\tthis.removeDispose(this._switchButton);\r\n\t\t}\r\n\t\tthis._switchButton = button;\r\n\t\tif (button) {\r\n\t\t\tbutton.parent = this;\r\n\t\t\tbutton.shouldClone = false;\r\n\t\t\tthis._disposers.push(this._switchButton);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Copies properties and other attributes.\r\n\t *\r\n\t * @param source  Source\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tif (source.leftLabel) {\r\n\t\t\tthis.leftLabel.copyFrom(source.leftLabel)\r\n\t\t}\r\n\t\tif (source.rightLabel) {\r\n\t\t\tthis.rightLabel.copyFrom(source.rightLabel)\r\n\t\t}\r\n\t\tif (source.switchButton) {\r\n\t\t\tthis.switchButton.copyFrom(source.switchButton)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SwitchButton\"] = SwitchButton;\r\n","/**\r\n * Slider is a scrollbar with just one selection grip.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Scrollbar, IScrollbarProperties, IScrollbarAdapters, IScrollbarEvents } from \"../../core/elements/Scrollbar\";\r\nimport { registry } from \"../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Slider]].\r\n */\r\nexport interface ISliderProperties extends IScrollbarProperties { }\r\n\r\n/**\r\n * Defines events for [[Slider]].\r\n */\r\nexport interface ISliderEvents extends IScrollbarEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Slider]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ISliderAdapters extends IScrollbarAdapters, ISliderProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a slider - a version of scrollbar with just one grip.\r\n *\r\n * @see {@link ISliderEvents} for a list of available events\r\n * @see {@link ISliderAdapters} for a list of available Adapters\r\n */\r\nexport class Slider extends Scrollbar {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ISliderProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ISliderAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ISliderEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Slider\";\r\n\r\n\t\tthis.thumb.opacity = 0;\r\n\t\tthis.thumb.interactionsEnabled = false;\r\n\t\tthis.endGrip.opacity = 0;\r\n\t\tthis.endGrip.interactionsEnabled = false;\r\n\r\n\t\tthis.startGrip.events.on(\"drag\", () => {\r\n\t\t\tthis.endGrip.x = this.startGrip.x;\r\n\t\t\tthis.endGrip.y = this.startGrip.y;\r\n\t\t})\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * @return [description]\r\n\t */\r\n\tprotected get __end(): number {\r\n\t\treturn this._start;\r\n\t}\r\n\r\n\tprotected set __end(value: number) {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @return [description]\r\n\t */\r\n\tpublic get end(): number {\r\n\t\treturn this._start;\r\n\t}\r\n\r\n\t/**\r\n\t * Relative position (0-1) of the end grip.\r\n\t *\r\n\t * @param position  Position (0-1)\r\n\t */\r\n\tpublic set end(position: number) {\r\n\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Relative position (0-1) of the start grip.\r\n\t *\r\n\t * @param position  Position (0-1)\r\n\t */\r\n\tpublic set start(position: number) {\r\n\t\tif (!this._isBusy) {\r\n\t\t\tthis.__start = position;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Position (0-1)\r\n\t */\r\n\tpublic get start(): number {\r\n\t\treturn this._start;\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Slider\"] = Slider;\r\n","/**\r\n * A module that defines Text element used to indicate links.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Label, ILabelProperties, ILabelAdapters, ILabelEvents } from \"../../core/elements/Label\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { registry } from \"../Registry\";\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[TextLink]].\r\n */\r\nexport interface ITextLinkProperties extends ILabelProperties { }\r\n\r\n/**\r\n * Defines events for [[TextLink]].\r\n */\r\nexport interface ITextLinkEvents extends ILabelEvents { }\r\n\r\n/**\r\n * Defines adapters for [[TextLink]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ITextLinkAdapters extends ILabelAdapters, ITextLinkProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a text element with a link.\r\n *\r\n * @see {@link ITextLinkEvents} for a list of available events\r\n * @see {@link ITextLinkAdapters} for a list of available Adapters\r\n */\r\nexport class TextLink extends Label {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ITextLinkProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ITextLinkAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ITextLinkEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.className = \"TextLink\";\r\n\t\tthis.selectable = true;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\tthis.fill = interfaceColors.getFor(\"primaryButton\").brighten(0.3);\r\n\r\n\t\tlet hoverState = this.states.create(\"hover\");\r\n\t\thoverState.properties.fill = interfaceColors.getFor(\"primaryButtonHover\").brighten(0.3);\r\n\r\n\t\tlet downState = this.states.create(\"down\");\r\n\t\tdownState.properties.fill = interfaceColors.getFor(\"primaryButtonDown\").brighten(0.3);\r\n\r\n\t\tthis.cursorOverStyle = MouseCursorStyle.pointer;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"TextLink\"] = TextLink;\r\n","/**\r\n * Functionality for drawing a trapezoid.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite, ISpriteProperties, ISpriteAdapters, ISpriteEvents } from \"../Sprite\";\r\nimport { Percent, percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $type from \"../utils/Type\";\r\nimport * as $path from \"../rendering/Path\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Trapezoid]].\r\n */\r\nexport interface ITrapezoidProperties extends ISpriteProperties {\r\n\r\n\t/**\r\n\t * Wdith of the top side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t */\r\n\ttopSide?: number | Percent;\r\n\r\n\t/**\r\n\t * Wdith of the bottom side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t */\r\n\tbottomSide?: number | Percent;\r\n\r\n\t/**\r\n\t * Height of the left side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t */\r\n\tleftSide?: number | Percent;\r\n\r\n\t/**\r\n\t * Height of the right side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t */\r\n\trightSide?: number | Percent;\r\n\r\n\t/**\r\n\t * A relative vertical position of the \"neck\". If the top and bottom sides\r\n\t * are of different width, and `horizontalNeck` is set, a choke point\r\n\t * will be created at that position, creating a funnel shape.\r\n\t */\r\n\thorizontalNeck?: Percent;\r\n\r\n\t/**\r\n\t * A relative horizontal position of the \"neck\". If the left and right sides\r\n\t * are of different height, and `verticalNeck` is set, a choke point\r\n\t * will be created at that position, creating a funnel shape.\r\n\t */\r\n\tverticalNeck?: Percent;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Trapezoid]].\r\n */\r\nexport interface ITrapezoidEvents extends ISpriteEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Trapezoid]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ITrapezoidAdapters extends ISpriteAdapters, ITrapezoidProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Used to draw a Trapezoid.\r\n *\r\n * @see {@link ITrapezoidEvents} for a list of available events\r\n * @see {@link ITrapezoidAdapters} for a list of available Adapters\r\n */\r\nexport class Trapezoid extends Sprite {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ITrapezoidProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ITrapezoidAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ITrapezoidEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Trapezoid\";\r\n\t\tthis.element = this.paper.add(\"path\");\r\n\r\n\t\tthis.topSide = percent(100);\r\n\t\tthis.bottomSide = percent(100);\r\n\t\tthis.leftSide = percent(100);\r\n\t\tthis.rightSide = percent(100);\r\n\r\n\t\tthis.isMeasured = false; // todo: add measureElement\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\t\tlet w: number = this.pixelWidth;\r\n\t\tlet h: number = this.pixelHeight;\r\n\r\n\t\tlet ts: number = $utils.relativeToValue(this.topSide, w);\r\n\t\tlet bs: number = $utils.relativeToValue(this.bottomSide, w);\r\n\t\tlet ls: number = $utils.relativeToValue(this.leftSide, h);\r\n\t\tlet rs: number = $utils.relativeToValue(this.rightSide, h);\r\n\r\n\t\t// 1----2\r\n\t\t// |    |\r\n\t\t// 4----3\r\n\r\n\t\tlet x0: number = (w - ts) / 2;\r\n\t\tlet y0: number = (h - ls) / 2;\r\n\r\n\t\tlet x1: number = w - (w - ts) / 2;\r\n\t\tlet y1: number = (h - rs) / 2;\r\n\r\n\t\tlet x2: number = w - (w - bs) / 2;\r\n\t\tlet y2: number = h - (h - rs) / 2;\r\n\r\n\t\tlet x3: number = (w - bs) / 2;\r\n\t\tlet y3: number = h - (h - ls) / 2;\r\n\r\n\t\tlet mt: string = \"\";\r\n\t\tlet mr: string = \"\";\r\n\t\tlet mb: string = \"\";\r\n\t\tlet ml: string = \"\";\r\n\r\n\t\tif ($type.hasValue(this.horizontalNeck)) {\r\n\t\t\tlet hn: number = this.horizontalNeck.value;\r\n\t\t\tmt = $path.lineTo({ x: w * hn, y: Math.max(y0, y1) });\r\n\t\t\tmb = $path.lineTo({ x: w * hn, y: Math.min(y2, y3) });\r\n\t\t}\r\n\r\n\t\tif ($type.hasValue(this.verticalNeck)) {\r\n\t\t\tlet vn: number = this.verticalNeck.value;\r\n\t\t\tmr = $path.lineTo({ x: Math.min(x1, x2), y: h * vn });\r\n\t\t\tml = $path.lineTo({ x: Math.max(x0, x3), y: h * vn });\r\n\t\t}\r\n\r\n\r\n\t\tlet path: string = $path.moveTo({ x: x0, y: y0 })\r\n\t\t\t+ mt\r\n\t\t\t+ $path.lineTo({ x: x1, y: y1 })\r\n\t\t\t+ mr\r\n\t\t\t+ $path.lineTo({ x: x2, y: y2 })\r\n\t\t\t+ mb\r\n\t\t\t+ $path.lineTo({ x: x3, y: y3 })\r\n\t\t\t+ ml\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\t/**\r\n\t * Wdith of the top side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t * @param value  Width\r\n\t */\r\n\tpublic set topSide(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"topSide\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Width\r\n\t */\r\n\tpublic get topSide(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"topSide\");\r\n\t}\r\n\r\n\t/**\r\n\t * Wdith of the bottom side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t * @param value  Width\r\n\t */\r\n\tpublic set bottomSide(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"bottomSide\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Width\r\n\t */\r\n\tpublic get bottomSide(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"bottomSide\");\r\n\t}\r\n\r\n\t/**\r\n\t * Height of the left side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t * @param value  Height\r\n\t */\r\n\tpublic set leftSide(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"leftSide\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Height\r\n\t */\r\n\tpublic get leftSide(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"leftSide\");\r\n\t}\r\n\r\n\t/**\r\n\t * Height of the right side. Absolute (px) or relative ([[Percent]]).\r\n\t *\r\n\t * @default Percent(100)\r\n\t * @param value  Height\r\n\t */\r\n\tpublic set rightSide(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"rightSide\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Height\r\n\t */\r\n\tpublic get rightSide(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"rightSide\");\r\n\t}\r\n\r\n\t/**\r\n\t * A relative vertical position of the \"neck\". If the top and bottom sides\r\n\t * are of different width, and `horizontalNeck` is set, a choke point\r\n\t * will be created at that position, creating a funnel shape.\r\n\t *\r\n\t * @param value  Horizontal neck position\r\n\t */\r\n\tpublic set horizontalNeck(value: Percent) {\r\n\t\tthis.setPropertyValue(\"horizontalNeck\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Horizontal neck position\r\n\t */\r\n\tpublic get horizontalNeck(): Percent {\r\n\t\treturn this.getPropertyValue(\"horizontalNeck\");\r\n\t}\r\n\r\n\t/**\r\n\t * A relative horizontal position of the \"neck\". If the left and right sides\r\n\t * are of different height, and `verticalNeck` is set, a choke point\r\n\t * will be created at that position, creating a funnel shape.\r\n\t *\r\n\t * @param value  Vertical neck position\r\n\t */\r\n\tpublic set verticalNeck(value: Percent) {\r\n\t\tthis.setPropertyValue(\"verticalNeck\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical neck position\r\n\t */\r\n\tpublic get verticalNeck(): Percent {\r\n\t\treturn this.getPropertyValue(\"verticalNeck\");\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Trapezoid\"] = Trapezoid;\r\n","/**\r\n * Functionality for drawing waved circles.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Circle, ICircleProperties, ICircleAdapters, ICircleEvents } from \"./Circle\";\r\nimport { IWavedShape } from \"../defs/IWavedShape\";\r\nimport { IPoint } from \"../defs/IPoint\";\r\nimport { Percent } from \"../utils/Percent\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $utils from \"../utils/Utils\";\r\nimport * as $smoothing from \"../../core/rendering/Smoothing\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[WavedCircle]].\r\n */\r\nexport interface IWavedCircleProperties extends ICircleProperties {\r\n\r\n\t/**\r\n\t * Wave length in pixels.\r\n\t *\r\n\t * @default 16\r\n\t */\r\n\twaveLength?: number;\r\n\r\n\t/**\r\n\t * Wave height in pixels.\r\n\t *\r\n\t * @default 4\r\n\t */\r\n\twaveHeight?: number;\r\n\r\n\t/**\r\n\t * Wave tension.\r\n\t *\r\n\t * @default 0.8\r\n\t */\r\n\ttension?: number;\r\n\r\n\t/**\r\n\t * Inner radius of the circle in pixels.\r\n\t */\r\n\tinnerRadius?: number | Percent;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[WavedCircle]].\r\n */\r\nexport interface IWavedCircleEvents extends ICircleEvents { }\r\n\r\n/**\r\n * Defines adapters for [[WavedCircle]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IWavedCircleAdapters extends ICircleAdapters, IWavedCircleProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Draws a waved circle.\r\n *\r\n * @see {@link IWavedCircleEvents} for a list of available events\r\n * @see {@link IWavedCircleAdapters} for a list of available Adapters\r\n */\r\nexport class WavedCircle extends Circle implements IWavedShape {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IWavedCircleProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IWavedCircleAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IWavedCircleEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"WavedCircle\";\r\n\t\tthis.element = this.paper.add(\"path\");\r\n\t\tthis.waveLength = 16;\r\n\t\tthis.waveHeight = 4;\r\n\r\n\t\tthis.fill = undefined;\r\n\t\tthis.fillOpacity = 0;\r\n\t\tthis.tension = 0.8;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the waved line.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tlet path: string = \"\";\r\n\r\n\t\tlet radius: number = this.pixelRadius;\r\n\r\n\t\tif (radius > 0) {\r\n\t\t\tlet points: IPoint[] = this.getPoints(radius);\r\n\t\t\tpath = $path.moveTo(points[0]) + new $smoothing.Tension(this.tension, this.tension).smooth(points);\r\n\t\t}\r\n\r\n\t\tlet innerRadius: number = this.pixelInnerRadius;\r\n\t\tif (innerRadius > 0) {\r\n\t\t\tlet points: IPoint[] = this.getPoints(innerRadius);\r\n\t\t\tpoints.reverse();\r\n\t\t\tpath += $path.moveTo(points[0]) + new $smoothing.Tension(this.tension, this.tension).smooth(points);\r\n\t\t}\r\n\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns points that circle consists of.\r\n\t *\r\n\t * @param radius  Radius (px)\r\n\t * @return Points\r\n\t */\r\n\tprotected getPoints(radius: number): IPoint[] {\r\n\t\tlet circleLength: number = radius * Math.PI * 2;\r\n\t\tlet halfWaveHeight: number = this.waveHeight / 2;\r\n\r\n\t\tlet waveLength = circleLength / Math.round(circleLength / this.waveLength);\r\n\t\tlet halfWaveLength: number = waveLength / 2;\r\n\t\tlet points: IPoint[] = [];\r\n\r\n\t\tlet count = circleLength / waveLength;\r\n\t\tfor (let i = 0; i <= count; i++) {\r\n\t\t\tlet angle1: number = (i * waveLength) / circleLength * 360;\r\n\t\t\tlet angle2: number = (i * waveLength + halfWaveLength) / circleLength * 360;\r\n\r\n\t\t\tpoints.push({ x: (radius - halfWaveHeight) * $math.cos(angle1), y: (radius - halfWaveHeight) * $math.sin(angle1) });\r\n\t\t\tpoints.push({ x: (radius + halfWaveHeight) * $math.cos(angle2), y: (radius + halfWaveHeight) * $math.sin(angle2) });\r\n\t\t}\r\n\t\tpoints.pop();\r\n\t\treturn points;\r\n\t}\r\n\r\n\t/**\r\n\t * Inner radius of the circle in pixels (absolute) or [[Percent]] (relative).\r\n\t *\r\n\t * @param value  Inner radius\r\n\t */\r\n\tpublic set innerRadius(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Inner radius\r\n\t */\r\n\tpublic get innerRadius(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"innerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Calculated inner radius of the circle in pixels.\r\n\t *\r\n\t * @readonly\r\n\t * @return Inner radius (px)\r\n\t */\r\n\tpublic get pixelInnerRadius(): number {\r\n\t\treturn $utils.relativeToValue(this.innerRadius, $math.min(this.innerWidth / 2, this.innerHeight / 2));\r\n\t}\r\n\r\n\t/**\r\n\t * Wave length in pixels.\r\n\t *\r\n\t * @default 16\r\n\t * @param value  Wave length (px)\r\n\t */\r\n\tpublic set waveLength(value: number) {\r\n\t\tthis.setPropertyValue(\"waveLength\", value);\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Wave length (px)\r\n\t */\r\n\tpublic get waveLength(): number {\r\n\t\treturn this.getPropertyValue(\"waveLength\");\r\n\t}\r\n\r\n\t/**\r\n\t * Wave height in pixels.\r\n\t *\r\n\t * @default 4\r\n\t * @param value  Wave height (px)\r\n\t */\r\n\tpublic set waveHeight(value: number) {\r\n\t\tthis.setPropertyValue(\"waveHeight\", value);\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Wave height (px)\r\n\t */\r\n\tpublic get waveHeight(): number {\r\n\t\treturn this.getPropertyValue(\"waveHeight\");\r\n\t}\r\n\r\n\t/**\r\n\t * Tension of the wave.\r\n\t *\r\n\t * @default 0.8\r\n\t * @param value  Tension\r\n\t */\r\n\tpublic set tension(value: number) {\r\n\t\tthis.setPropertyValue(\"tension\", value);\r\n\t\tthis.invalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Tension\r\n\t */\r\n\tpublic get tension(): number {\r\n\t\treturn this.getPropertyValue(\"tension\");\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"WavedCircle\"] = WavedCircle;\r\n","/**\r\n * Zoom out button functionality.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button, IButtonProperties, IButtonAdapters, IButtonEvents } from \"./Button\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { RoundedRectangle } from \"./RoundedRectangle\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[ZoomOutButton]].\r\n */\r\nexport interface IZoomOutButtonProperties extends IButtonProperties { }\r\n\r\n/**\r\n * Defines events for [[ZoomOutButton]].\r\n */\r\nexport interface IZoomOutButtonEvents extends IButtonEvents { }\r\n\r\n/**\r\n * Defines adapters for [[ZoomOutButton]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IZoomOutButtonAdapters extends IButtonAdapters, IZoomOutButtonProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link IZoomOutButtonEvents} for a list of available events\r\n * @see {@link IZoomOutButtonAdapters} for a list of available Adapters\r\n */\r\nexport class ZoomOutButton extends Button {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IZoomOutButtonProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IZoomOutButtonAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IZoomOutButtonEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"ZoomOutButton\";\r\n\r\n\t\tthis.padding(9, 9, 9, 9);\r\n\t\t//this.dx = - 5;\r\n\t\t//this.dy = 5;\r\n\r\n\t\tthis.showSystemTooltip = true;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\tlet background: RoundedRectangle = this.background;\r\n\t\tbackground.cornerRadius(20, 20, 20, 20);\r\n\t\tbackground.fill = interfaceColors.getFor(\"primaryButton\");\r\n\t\tbackground.stroke = interfaceColors.getFor(\"primaryButtonStroke\");\r\n\t\tbackground.strokeOpacity = 0;\r\n\r\n\t\tbackground.states.getKey(\"hover\").properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n\t\tbackground.states.getKey(\"down\").properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n\r\n\t\t// Create an icon\r\n\t\tlet icon: Sprite = new Sprite();\r\n\t\ticon.element = this.paper.add(\"path\");\r\n\r\n\t\tlet path = $path.moveTo({ x: 0, y: 0 });\r\n\t\tpath += $path.lineTo({ x: 11, y: 0 });\r\n\t\ticon.path = path;\r\n\r\n\t\ticon.pixelPerfect = true;\r\n\t\ticon.padding(8, 3, 8, 3);\r\n\t\ticon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n\t\tthis.icon = icon;\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Sets defaults that instantiate some objects that rely on parent, so they\r\n\t * cannot be set in constructor.\r\n\t */\r\n\tprotected applyInternalDefaults(): void {\r\n\t\tsuper.applyInternalDefaults();\r\n\t\tif (!$type.hasValue(this.readerTitle)) {\r\n\t\t\tthis.readerTitle = this.language.translate(\"Zoom Out\");\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ZoomOutButton\"] = ZoomOutButton;\r\n","/**\r\n * Play button functionality.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Button, IButtonProperties, IButtonAdapters, IButtonEvents } from \"./Button\";\r\nimport { RoundedRectangle } from \"./RoundedRectangle\";\r\nimport { registry } from \"../Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Triangle } from \"./Triangle\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[PlayButton]].\r\n */\r\nexport interface IPlayButtonProperties extends IButtonProperties { }\r\n\r\n/**\r\n * Defines events for [[PlayButton]].\r\n */\r\nexport interface IPlayButtonEvents extends IButtonEvents { }\r\n\r\n/**\r\n * Defines adapters for [[PlayButton]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IPlayButtonAdapters extends IButtonAdapters, IPlayButtonProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a zoom out button.\r\n *\r\n * @see {@link IPlayButtonEvents} for a list of available events\r\n * @see {@link IPlayButtonAdapters} for a list of available Adapters\r\n */\r\nexport class PlayButton extends Button {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IPlayButtonProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IPlayButtonAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IPlayButtonEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"PlayButton\";\r\n\r\n\t\tthis.padding(12, 12, 12, 12);\r\n\r\n\t\tthis.showSystemTooltip = true;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\tlet background: RoundedRectangle = this.background;\r\n\t\tbackground.cornerRadius(25, 25, 25, 25);\r\n\t\tbackground.fill = interfaceColors.getFor(\"primaryButton\");\r\n\t\tbackground.stroke = interfaceColors.getFor(\"primaryButtonStroke\");\r\n\t\tbackground.strokeOpacity = 0;\r\n\r\n\t\tbackground.states.getKey(\"hover\").properties.fill = interfaceColors.getFor(\"primaryButtonHover\");\r\n\t\tbackground.states.getKey(\"down\").properties.fill = interfaceColors.getFor(\"primaryButtonActive\");\r\n\r\n\t\t// Create a play icon\r\n\t\tlet playIcon: Triangle = new Triangle();\r\n\t\tplayIcon.direction = \"right\";\r\n\t\tplayIcon.width = 9;\r\n\t\tplayIcon.height = 11;\r\n\t\tplayIcon.marginLeft = 1;\r\n\t\tplayIcon.marginRight = 1;\r\n\t\tplayIcon.horizontalCenter = \"middle\";\r\n\t\tplayIcon.verticalCenter = \"middle\";\r\n\r\n\t\tplayIcon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n\t\tplayIcon.fill = playIcon.stroke;\r\n\t\tthis.icon = playIcon;\r\n\r\n\t\t// Create a play icon\r\n\t\tlet stopIcon: RoundedRectangle = new RoundedRectangle();\r\n\t\tstopIcon.width = 11;\r\n\t\tstopIcon.height = 11;\r\n\t\tstopIcon.horizontalCenter = \"middle\";\r\n\t\tstopIcon.verticalCenter = \"middle\";\r\n\t\tstopIcon.cornerRadius(0, 0, 0, 0);\r\n\r\n\t\tstopIcon.stroke = interfaceColors.getFor(\"primaryButtonText\");\r\n\t\tstopIcon.fill = playIcon.stroke;\r\n\r\n\t\tthis.togglable = true;\r\n\r\n\t\tlet activeState = this.states.create(\"active\");\r\n\t\tactiveState.transitionDuration = 0;\r\n\t\tactiveState.properties.icon = stopIcon;\r\n\r\n\t\tthis.defaultState.transitionDuration = 0;\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Sets defaults that instantiate some objects that rely on parent, so they\r\n\t * cannot be set in constructor.\r\n\t */\r\n\tprotected applyInternalDefaults(): void {\r\n\t\tsuper.applyInternalDefaults();\r\n\t\tif (!$type.hasValue(this.readerTitle)) {\r\n\t\t\tthis.readerTitle = this.language.translate(\"Play\");\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PlayButton\"] = PlayButton;\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../../Base\";\r\nimport { LinearGradient } from \"./LinearGradient\";\r\nimport { RadialGradient } from \"./RadialGradient\";\r\nimport { Color } from \"../../utils/Color\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A base class for color modifiers.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class ColorModifier extends BaseObject {\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"ColorModifier\";\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies color value.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param value  Original color\r\n\t * @return Modified\r\n\t */\r\n\tpublic modify(value: Color): Color | LinearGradient | RadialGradient {\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColorModifier\"] = ColorModifier;\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColorModifier } from \"./ColorModifier\";\r\nimport { LinearGradient } from \"./LinearGradient\";\r\nimport { RadialGradient } from \"./RadialGradient\";\r\nimport { Color } from \"../../utils/Color\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * This class can be used to modify linear gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.GradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.GradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"GradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nexport class GradientModifier extends ColorModifier {\r\n\r\n\t/**\r\n\t * A reference to the gradient instance that this modifier is used for.\r\n\t */\r\n\tpublic gradient: LinearGradient | RadialGradient;\r\n\r\n\t/**\r\n\t * An array of lightness values for each step.\r\n\t */\r\n\tprotected _lightnesses!: number[];\r\n\r\n\t/**\r\n\t * An array of brightness values for each step.\r\n\t */\r\n\tprotected _brightnesses!: number[];\r\n\r\n\t/**\r\n\t * An array of opacity values for each step.\r\n\t */\r\n\tprotected _opacities!: number[];\r\n\r\n\t/**\r\n\t * An array of relative position (0-1) for each step.\r\n\t *\r\n\t * If not set, all steps will be of equal relative length.\r\n\t */\r\n\tprotected _offsets!: number[];\r\n\r\n\t/**\r\n\t * Constructor.\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.lightnesses = [];\r\n\t\tthis.brightnesses = [];\r\n\t\tthis.opacities = [];\r\n\t\tthis.offsets = [];\r\n\t\tthis.className = \"GradientModifier\";\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * An array of lightness values for each step.\r\n\t *\r\n\t * @param value  Lightness values\r\n\t */\r\n\tpublic set lightnesses(value: number[]) {\r\n\t\tthis._lightnesses = value;\r\n\t\tthis._brightnesses = [];\r\n\t}\r\n\r\n\t/**\r\n\t * @return Lightness values\r\n\t */\r\n\tpublic get lightnesses(): number[] {\r\n\t\treturn this._lightnesses;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of brightness values for each step.\r\n\t *\r\n\t * @param value  Brightness values\r\n\t */\r\n\tpublic set brightnesses(value: number[]) {\r\n\t\tthis._brightnesses = value;\r\n\t\tthis._lightnesses = [];\r\n\t}\r\n\r\n\t/**\r\n\t * @return Brightness values\r\n\t */\r\n\tpublic get brightnesses(): number[] {\r\n\t\treturn this._brightnesses;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of opacity values for each step.\r\n\t *\r\n\t * @param value  Opacity values\r\n\t */\r\n\tpublic set opacities(value: number[]) {\r\n\t\tthis._opacities = value;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Opacity values\r\n\t */\r\n\tpublic get opacities(): number[] {\r\n\t\treturn this._opacities;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of relative position (0-1) for each step.\r\n\t *\r\n\t * If not set, all steps will be of equal relative length.\r\n\t *\r\n\t * @param value  Offsets\r\n\t */\r\n\tpublic set offsets(value: number[]) {\r\n\t\tthis._offsets = value;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Offsets\r\n\t */\r\n\tpublic get offsets(): number[] {\r\n\t\treturn this._offsets;\r\n\t}\r\n\r\n\t/**\r\n\t * Modifies the color based on step setting.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param value  Source color\r\n\t * @return A gradient that matches set modification rules\r\n\t */\r\n\tpublic modify(value: Color): Color | LinearGradient | RadialGradient {\r\n\r\n\t\t// Clear current gradient\r\n\t\tthis.gradient.clear();\r\n\r\n\t\t// Get step count\r\n\t\tlet count: number = 0;\r\n\t\tif (this.opacities) {\r\n\t\t\tcount = $math.max(count, this.opacities.length);\r\n\t\t}\r\n\t\tif (this.lightnesses) {\r\n\t\t\tcount = $math.max(count, this.lightnesses.length);\r\n\t\t}\r\n\t\tif (this.brightnesses) {\r\n\t\t\tcount = $math.max(count, this.brightnesses.length);\r\n\t\t}\r\n\r\n\t\t// Init step values\r\n\t\tlet opacity: number = 1,\r\n\t\t\tlightness: $type.Optional<number>,\r\n\t\t\tbrightness: $type.Optional<number>;\r\n\r\n\t\t// Apply steps\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\r\n\t\t\t// Take base color\r\n\t\t\tlet color = value;\r\n\r\n\t\t\t// Check if there are any parameters for this step\r\n\t\t\tif (this.opacities && $type.isNumber(this.opacities[i])) {\r\n\t\t\t\topacity = this.opacities[i];\r\n\t\t\t}\r\n\t\t\tif (this.lightnesses && $type.isNumber(this.lightnesses[i])) {\r\n\t\t\t\tlightness = this.lightnesses[i];\r\n\t\t\t\tbrightness = undefined;\r\n\t\t\t}\r\n\t\t\tif (this.brightnesses && $type.isNumber(this.brightnesses[i])) {\r\n\t\t\t\tbrightness = this.brightnesses[i];\r\n\t\t\t\tlightness = undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if we need to brighten/lighten color\r\n\t\t\tif ($type.isNumber(brightness)) {\r\n\t\t\t\tcolor = value.brighten(this.brightnesses[i]);\r\n\t\t\t}\r\n\t\t\telse if ($type.isNumber(lightness)) {\r\n\t\t\t\tcolor = value.lighten(this.lightnesses[i]);\r\n\t\t\t}\r\n\r\n\t\t\t// Get offset (it's OK if it's undefined)\r\n\t\t\tlet offset: number = this.offsets[i];\r\n\r\n\t\t\t// Apply step\r\n\t\t\tthis.gradient.addColor(color, opacity, offset);\r\n\t\t}\r\n\t\treturn this.gradient;\r\n\t}\r\n\r\n\tpublic copyFrom(source: this) {\r\n\t\tsuper.copyFrom(source);\r\n\r\n\t\tthis._offsets = source.offsets;\r\n\t\tthis._brightnesses = source.brightnesses;\r\n\t\tthis._lightnesses = source.lightnesses;\r\n\t\tthis._opacities = source.opacities;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"GradientModifier\"] = GradientModifier;\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { LinearGradient } from \"./LinearGradient\";\r\nimport { GradientModifier } from \"./GradientModifier\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * This class can be used to modify linear gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"LinearGradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nexport class LinearGradientModifier extends GradientModifier {\r\n\r\n\t/**\r\n\t * A reference to the gradient instance that this modifier is used for.\r\n\t */\r\n\tpublic gradient: LinearGradient;\r\n\r\n\r\n\t/**\r\n\t * Constructor.\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"LinearGradientModifier\";\r\n\t\tthis.gradient = new LinearGradient();\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\tpublic copyFrom(source: this) {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.gradient = source.gradient.clone();\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinearGradientModifier\"] = LinearGradientModifier;\r\n","/**\r\n * Cone module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../../Container\";\r\nimport { Sprite, visualProperties } from \"../../Sprite\";\r\nimport { Ellipse } from \"../../elements/Ellipse\";\r\nimport { LinearGradientModifier } from \"../../rendering/fills/LinearGradientModifier\";\r\nimport { percent, Percent } from \"../../utils/Percent\";\r\nimport * as $object from \"../../utils/Object\";\r\nimport * as $path from \"../../rendering/Path\";\r\nimport { Orientation } from \"../../defs/Orientation\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Cone]].\r\n */\r\nexport interface IConeProperties extends IContainerProperties {\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t */\r\n\tangle?: number;\r\n\r\n\t/**\r\n\t * A relative radius of the cone's bottom (base).\r\n\t *\r\n\t * It is relevant to the inner width or height of the element.\r\n\t *\r\n\t * @default Percent(100)\r\n\t */\r\n\tradius?: Percent;\r\n\r\n\t/**\r\n\t * A relative radius of the cone's top (tip).\r\n\t *\r\n\t * It is relevant to the inner width or height of the element.\r\n\t *\r\n\t * @default Percent(0)\r\n\t */\r\n\ttopRadius?: Percent;\r\n\r\n\t/**\r\n\t * Orientation of the cone\r\n\t *\r\n\t * @default \"vertical\"\r\n\t */\r\n\torientation?: Orientation;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Cone]].\r\n */\r\nexport interface IConeEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Cone]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IConeAdapters extends IContainerAdapters, IConeProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Builds a round cone/cylinder.\r\n *\r\n * @see {@link IConeEvents} for a list of available events\r\n * @see {@link IConeAdapters} for a list of available Adapters\r\n */\r\nexport class Cone extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IConeProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IConeAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IConeEvents;\r\n\r\n\t/**\r\n\t * Bottom ellement.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic bottom: Ellipse;\r\n\r\n\t/**\r\n\t * Top element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic top: Ellipse;\r\n\r\n\t/**\r\n\t * Body element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic body: Sprite;\r\n\r\n\t/**\r\n\t * Gradient for the fill of the body.\r\n\t */\r\n\tpublic bodyFillModifier: LinearGradientModifier;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Cone\";\r\n\r\n\t\tthis.angle = 30;\r\n\t\tthis.radius = percent(100);\r\n\t\tthis.topRadius = percent(100);\r\n\r\n\t\tthis.top = this.createChild(Ellipse);\r\n\t\tthis.top.shouldClone = false;\r\n\r\n\t\tthis.bottom = this.createChild(Ellipse);\r\n\t\tthis.bottom.shouldClone = false;\r\n\r\n\t\tthis.body = this.createChild(Sprite);\r\n\t\tthis.body.shouldClone = false;\r\n\r\n\t\tthis.body.setElement(this.paper.add(\"path\"));\r\n\t\tthis.layout = \"none\";\r\n\r\n\t\tthis.bodyFillModifier = new LinearGradientModifier();\r\n\t\tthis.bodyFillModifier.lightnesses = [0, -0.25, 0];\r\n\t\tthis.body.fillModifier = this.bodyFillModifier;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\r\n\t\t$object.copyProperties(this, this.top, visualProperties);\r\n\t\t$object.copyProperties(this, this.bottom, visualProperties);\r\n\t\t$object.copyProperties(this, this.body, visualProperties);\r\n\r\n\t\tlet w: number = this.innerWidth;\r\n\t\tlet h: number = this.innerHeight;\r\n\r\n\t\tlet bottom: Ellipse = this.bottom;\r\n\t\tlet top: Ellipse = this.top;\r\n\r\n\t\tlet angle: number = this.angle;\r\n\t\tlet radiusBase: number;\r\n\t\tlet dx: number;\r\n\t\tlet dy: number;\r\n\r\n\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\tradiusBase = h / 2;\r\n\t\t\tbottom.y = h / 2;\r\n\t\t\ttop.y = h / 2;\r\n\t\t\ttop.x = w;\r\n\t\t\tdx = (90 - angle) / 90;\r\n\t\t\tdy = 0;\r\n\t\t\tthis.bodyFillModifier.gradient.rotation = 90;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdx = 0;\r\n\t\t\tdy = (90 - angle) / 90;\r\n\r\n\t\t\tradiusBase = w / 2;\r\n\t\t\tbottom.y = h;\r\n\t\t\tbottom.x = w / 2;\r\n\t\t\ttop.x = w / 2;\r\n\t\t\tthis.bodyFillModifier.gradient.rotation = 0;\r\n\t\t}\r\n\r\n\t\tlet radius: number = this.radius.value * radiusBase;\r\n\t\tlet topRadius: number = this.topRadius.value * radiusBase;\r\n\r\n\t\tbottom.radius = radius - radius * dx;\r\n\t\tbottom.radiusY = radius - radius * dy;\r\n\r\n\t\ttop.radius = topRadius - topRadius * dx;\r\n\t\ttop.radiusY = topRadius - topRadius * dy;\r\n\r\n\t\tlet path: string;\r\n\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\tpath = $path.moveTo({ x: 0, y: h / 2 - bottom.radiusY }) + $path.arcTo(-90, -180, bottom.radius, bottom.radiusY) + $path.lineTo({ x: w, y: h / 2 + top.radiusY }) + $path.arcTo(90, 180, top.radius, top.radiusY) + $path.closePath();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpath = $path.moveTo({ x: w / 2 - top.radius, y: 0 }) + $path.arcTo(180, -180, top.radius, top.radiusY) + $path.lineTo({ x: w / 2 + bottom.radius, y: h }) + $path.arcTo(0, 180, bottom.radius, bottom.radiusY) + $path.closePath();\r\n\t\t}\r\n\r\n\t\tthis.body.path = path;\r\n\t}\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t * @param value  Angle\r\n\t */\r\n\tpublic set angle(value: number) {\r\n\t\tthis.setPropertyValue(\"angle\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle\r\n\t */\r\n\tpublic get angle(): number {\r\n\t\treturn this.getPropertyValue(\"angle\");\r\n\t}\r\n\r\n\t/**\r\n\t * A relative radius of the cone's bottom (base).\r\n\t *\r\n\t * It is relevant to the inner width or height of the element.\r\n\t *\r\n\t * @default Percent(100)\r\n\t * @param value  Bottom radius\r\n\t */\r\n\tpublic set radius(value: Percent) {\r\n\t\tthis.setPropertyValue(\"radius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Bottom radius\r\n\t */\r\n\tpublic get radius(): Percent {\r\n\t\treturn this.getPropertyValue(\"radius\");\r\n\t}\r\n\r\n\t/**\r\n\t * A relative radius of the cone's top (tip).\r\n\t *\r\n\t * It is relevant to the inner width or height of the element.\r\n\t *\r\n\t * @default Percent(0)\r\n\t * @param value  Top radius\r\n\t */\r\n\tpublic set topRadius(value: Percent) {\r\n\t\tthis.setPropertyValue(\"topRadius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Top radius\r\n\t */\r\n\tpublic get topRadius(): Percent {\r\n\t\treturn this.getPropertyValue(\"topRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Orientation of the cone\r\n\t *\r\n\t * @default \"vertical\"\r\n\t * @param value  Orientation\r\n\t */\r\n\tpublic set orientation(value: Orientation) {\r\n\t\tthis.setPropertyValue(\"orientation\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * Orientation\r\n\t */\r\n\tpublic get orientation(): Orientation {\r\n\t\treturn this.getPropertyValue(\"orientation\");\r\n\t}\r\n\r\n}\r\n","/**\r\n * Module for \"Lighten\" filter.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter, FilterProperties } from \"./Filter\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines additional properties relative to the \"Lighten\" filter\r\n */\r\nexport interface LightenFilterProperties extends FilterProperties {\r\n\r\n\t/**\r\n\t * Lightness.\r\n\t */\r\n\tlightness: number;\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a \"Lighten\" filter.\r\n */\r\nexport class LightenFilter extends Filter {\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: LightenFilterProperties;\r\n\r\n\t/**\r\n\t * A storage for Filter property/value pairs.\r\n\t * @see [@link LightenFilterProperties]\r\n\t */\r\n\t//public propertyValues: Dictionary<LightenFilterProperties, any>;\r\n\r\n\t/**\r\n\t * Reference to the `<feColorMatrix>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feColorMatrix: AMElement;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"LightenFilter\";\r\n\r\n\t\t// Create elements\r\n\t\t// NOTE: we do not need to add each individual element to `_disposers`\r\n\t\t// because `filterPrimitives` has an event handler which automatically adds\r\n\t\t// anything added to it to `_disposers`\r\n\t\tthis.feColorMatrix = this.paper.add(\"feColorMatrix\");\r\n\t\tthis.feColorMatrix.attr({ \"type\": \"matrix\" });\r\n\t\tthis.filterPrimitives.push(this.feColorMatrix);\r\n\r\n\t\t// Set default properties\r\n\t\tthis.lightness = 0;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Lightness of the target colors.\r\n\t *\r\n\t * If `lightness` is a positive number, the filter will make all colors\r\n\t * lighter.\r\n\t *\r\n\t * If `lightness` is negative, colors will be darkened.\r\n\t *\r\n\t * @param value  Lightness\r\n\t */\r\n\tpublic set lightness(value: number) {\r\n\t\tthis.properties[\"lightness\"] = value;\r\n\t\tlet v = value + 1;\r\n\t\tthis.feColorMatrix.attr({ \"values\": v + \" 0 0 0 0 0 \" + v + \" 0 0 0 0 0 \" + v + \" 0 0 0 0 0 1 0\" });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Lightness\r\n\t */\r\n\tpublic get lightness(): number {\r\n\t\treturn this.properties[\"lightness\"];\r\n\t}\r\n\r\n}\r\n\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LightenFilter\"] = LightenFilter;\r\n","/**\r\n * Creates a 3D rectangle.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../../Container\";\r\nimport { Sprite } from \"../../Sprite\";\r\nimport { IPoint } from \"../../defs/IPoint\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $path from \"../../rendering/Path\";\r\nimport { Color, color, toColor } from \"../../utils/Color\";\r\nimport { RadialGradient } from \"../../rendering/fills/RadialGradient\";\r\nimport { LinearGradient } from \"../../rendering/fills/LinearGradient\";\r\nimport { Pattern } from \"../../rendering/fills/Pattern\";\r\nimport { LightenFilter } from \"../../rendering/filters/LightenFilter\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Rectangle3D]].\r\n */\r\nexport interface Rectangle3DProperties extends IContainerProperties {\r\n\r\n\t/**\r\n\t * Depth (Z dimension) of the 3D rectangle in pixels.\r\n\t *\r\n\t * @default 30\r\n\t */\r\n\tdepth?: number;\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t */\r\n\tangle?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Rectangle3D]]\r\n */\r\nexport interface Rectangle3DEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Rectangle3D]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface Rectangle3DAdapters extends IContainerAdapters, Rectangle3DProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Builds a 3D rectangle\r\n * @see {@link IRectangle3DEvents} for a list of available events\r\n * @see {@link IRectangle3DAdapters} for a list of available Adapters\r\n */\r\nexport class Rectangle3D extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: Rectangle3DProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: Rectangle3DAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: Rectangle3DEvents;\r\n\r\n\t/**\r\n\t * Left side element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideLeft: Sprite;\r\n\r\n\t/**\r\n\t * Right side element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideRight: Sprite;\r\n\r\n\t/**\r\n\t * Top element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideTop: Sprite;\r\n\r\n\t/**\r\n\t * Bottom element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideBottom: Sprite;\r\n\r\n\t/**\r\n\t * Back element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideBack: Sprite;\r\n\r\n\t/**\r\n\t * Front element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideFront: Sprite;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.angle = 30;\r\n\t\tthis.depth = 30;\r\n\t\tthis.className = \"Rectangle3D\";\r\n\t\tthis.layout = \"none\";\r\n\r\n\t\tlet sideBack: Sprite = this.createChild(Sprite);\r\n\t\tsideBack.shouldClone = false;\r\n\t\tsideBack.setElement(this.paper.add(\"path\"));\r\n\t\tsideBack.isMeasured = false;\r\n\r\n\t\tthis.sideBack = sideBack;\r\n\t\tthis._disposers.push(this.sideBack);\r\n\r\n\t\tlet sideBottom: Sprite = this.createChild(Sprite);\r\n\t\tsideBottom.shouldClone = false;\r\n\t\tsideBottom.setElement(this.paper.add(\"path\"));\r\n\t\tsideBottom.isMeasured = false;\r\n\t\tthis.sideBottom = sideBottom;\r\n\t\tthis._disposers.push(this.sideBottom);\r\n\r\n\t\tlet sideLeft: Sprite = this.createChild(Sprite);\r\n\t\tsideLeft.shouldClone = false;\r\n\t\tsideLeft.setElement(this.paper.add(\"path\"));\r\n\t\tsideLeft.isMeasured = false;\r\n\t\tthis.sideLeft = sideLeft;\r\n\t\tthis._disposers.push(this.sideLeft);\r\n\r\n\t\tlet sideRight: Sprite = this.createChild(Sprite);\r\n\t\tsideRight.shouldClone = false;\r\n\t\tsideRight.setElement(this.paper.add(\"path\"));\r\n\t\tsideRight.isMeasured = false;\r\n\t\tthis.sideRight = sideRight;\r\n\t\tthis._disposers.push(this.sideRight);\r\n\r\n\t\tlet sideTop: Sprite = this.createChild(Sprite);\r\n\t\tsideTop.shouldClone = false;\r\n\t\tsideTop.setElement(this.paper.add(\"path\"));\r\n\t\tsideTop.isMeasured = false;\r\n\t\tthis.sideTop = sideTop;\r\n\t\tthis._disposers.push(this.sideTop);\r\n\r\n\t\tlet sideFront: Sprite = this.createChild(Sprite);\r\n\t\tsideFront.shouldClone = false;\r\n\t\tsideFront.setElement(this.paper.add(\"path\"));\r\n\t\tsideFront.isMeasured = false;\r\n\t\tthis.sideFront = sideFront;\r\n\t\tthis._disposers.push(this.sideFront);\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\r\n\t\tlet w: number = this.innerWidth;\r\n\t\tlet h: number = this.innerHeight;\r\n\r\n\t\tlet depth: number = this.depth;\r\n\t\tlet angle: number = this.angle;\r\n\t\tlet sin: number = $math.sin(angle);\r\n\t\tlet cos: number = $math.cos(angle);\r\n\r\n\t\tlet a: IPoint = { x: 0, y: 0 };\r\n\t\tlet b: IPoint = { x: w, y: 0 };\r\n\t\tlet c: IPoint = { x: w, y: h };\r\n\t\tlet d: IPoint = { x: 0, y: h };\r\n\r\n\t\tlet ah: IPoint = { x: depth * cos, y: -depth * sin };\r\n\t\tlet bh: IPoint = { x: depth * cos + w, y: -depth * sin };\r\n\t\tlet ch: IPoint = { x: depth * cos + w, y: -depth * sin + h };\r\n\t\tlet dh: IPoint = { x: depth * cos, y: -depth * sin + h };\r\n\r\n\t\tthis.sideFront.path = $path.moveTo(a) + $path.lineTo(b) + $path.lineTo(c) + $path.lineTo(d) + $path.closePath();\r\n\t\tthis.sideBack.path = $path.moveTo(ah) + $path.lineTo(bh) + $path.lineTo(ch) + $path.lineTo(dh) + $path.closePath();\r\n\t\tthis.sideLeft.path = $path.moveTo(a) + $path.lineTo(ah) + $path.lineTo(dh) + $path.lineTo(d) + $path.closePath();\r\n\t\tthis.sideRight.path = $path.moveTo(b) + $path.lineTo(bh) + $path.lineTo(ch) + $path.lineTo(c) + $path.closePath();\r\n\t\tthis.sideBottom.path = $path.moveTo(d) + $path.lineTo(dh) + $path.lineTo(ch) + $path.lineTo(c) + $path.closePath();\r\n\t\tthis.sideTop.path = $path.moveTo(a) + $path.lineTo(ah) + $path.lineTo(bh) + $path.lineTo(b) + $path.closePath();\r\n\t}\r\n\r\n\t/**\r\n\t * Depth (Z dimension) of the 3D rectangle in pixels.\r\n\t *\r\n\t * @default 30\r\n\t * @param value  Depth (px)\r\n\t */\r\n\tpublic set depth(value: number) {\r\n\t\tthis.setPropertyValue(\"depth\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Depth (px)\r\n\t */\r\n\tpublic get depth(): number {\r\n\t\treturn this.getPropertyValue(\"depth\");\r\n\t}\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t * @param value  Angle\r\n\t */\r\n\tpublic set angle(value: number) {\r\n\t\tthis.setPropertyValue(\"angle\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle\r\n\t */\r\n\tpublic get angle(): number {\r\n\t\treturn this.getPropertyValue(\"angle\");\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Sets actual `fill` property on the SVG element, including applicable color\r\n\t * modifiers.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param value  Fill\r\n\t */\r\n\tprotected setFill(value: $type.Optional<Color | Pattern | LinearGradient | RadialGradient>): void {\r\n\t\tsuper.setFill(value);\r\n\r\n\t\tif (!$type.isObject(value) || \"r\" in value) {\r\n\t\t\tvalue = toColor(value);\r\n\t\t}\r\n\r\n\t\tlet colorStr: string;\r\n\t\tif (value instanceof Color) {\r\n\t\t\tcolorStr = value.hex;\r\n\t\t}\r\n\t\telse if (value instanceof LinearGradient || value instanceof RadialGradient) {\r\n\t\t\tcolorStr = value.stops.getIndex(0).color.hex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet filter = new LightenFilter();\r\n\t\t\tfilter.lightness = -0.2;\r\n\t\t\tthis.sideBack.filters.push(filter);\r\n\r\n\t\t\tlet filter2 = filter.clone()\r\n\t\t\tfilter2.lightness = -0.4;\r\n\t\t\tthis.sideLeft.filters.push(filter2);\r\n\r\n\t\t\tlet filter3 = filter.clone()\r\n\t\t\tfilter3.lightness = -0.2;\r\n\t\t\tthis.sideRight.filters.push(filter3);\r\n\r\n\t\t\tlet filter4 = filter.clone()\r\n\t\t\tfilter4.lightness = -0.1;\r\n\t\t\tthis.sideTop.filters.push(filter4);\r\n\r\n\t\t\tlet filter5 = filter.clone()\r\n\t\t\tfilter5.lightness = -0.5;\r\n\t\t\tthis.sideBottom.filters.push(filter5);\r\n\t\t}\r\n\r\n\t\tif (colorStr) {\r\n\t\t\tthis.sideBack.fill = color(colorStr).lighten(-0.2);\r\n\t\t\tthis.sideLeft.fill = color(colorStr).lighten(-0.4);\r\n\t\t\tthis.sideRight.fill = color(colorStr).lighten(-0.2);\r\n\t\t\tthis.sideTop.fill = color(colorStr).lighten(-0.1);\r\n\t\t\tthis.sideBottom.fill = color(colorStr).lighten(-0.5);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all properties and related data from a different instance of Rectangle3D.\r\n\t *\r\n\t * @param source Source Rectangle3D\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.sideBack.copyFrom(source.sideBack);\r\n\t\tthis.sideLeft.copyFrom(source.sideLeft);\r\n\t\tthis.sideRight.copyFrom(source.sideRight);\r\n\t\tthis.sideTop.copyFrom(source.sideTop);\r\n\t\tthis.sideBottom.copyFrom(source.sideBottom);\r\n\t}\r\n\r\n}\r\n","/**\r\n * 3D slice module\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Slice, ISliceProperties, ISliceAdapters, ISliceEvents } from \"../Slice\";\r\nimport { Sprite } from \"../../Sprite\";\r\nimport { IPoint } from \"../../defs/IPoint\";\r\nimport * as $math from \"../../utils/Math\";\r\nimport * as $path from \"../../rendering/Path\";\r\nimport * as $type from \"../../utils/Type\";\r\nimport { Color, color } from \"../../utils/Color\";\r\nimport { RadialGradient } from \"../../rendering/fills/RadialGradient\";\r\nimport { LinearGradient } from \"../../rendering/fills/LinearGradient\";\r\nimport { Pattern } from \"../../rendering/fills/Pattern\";\r\nimport { LightenFilter } from \"../../rendering/filters/LightenFilter\";\r\n\r\n/**\r\n * Defines properties for [[Slice3D]].\r\n */\r\nexport interface ISlice3DProperties extends ISliceProperties {\r\n\r\n\t/**\r\n\t * Depth (height) of the 3D slice in pixels.\r\n\t *\r\n\t * @default 20\r\n\t */\r\n\tdepth?: number;\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t */\r\n\tangle?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[Slice3D]].\r\n */\r\nexport interface ISlice3DEvents extends ISliceEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Slice3D]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface ISlice3DAdapters extends ISliceAdapters, ISlice3DProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Used to draw a 3D slice of a Pie chart.\r\n *\r\n * @see {@link ISlice3DEvents} for a list of available events\r\n * @see {@link ISlice3DAdapters} for a list of available Adapters\r\n */\r\nexport class Slice3D extends Slice {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: ISlice3DProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: ISlice3DAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: ISlice3DEvents;\r\n\r\n\t/**\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic edge: Sprite;\r\n\r\n\t/**\r\n\t * Side element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideA: Sprite;\r\n\r\n\t/**\r\n\t * Side element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic sideB: Sprite;\r\n\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"Slice3D\";\r\n\t\tthis.layout = \"none\";\r\n\r\n\t\t// Create edge container\r\n\t\tlet edge = this.createChild(Sprite);\r\n\t\tthis.edge = edge;\r\n\t\tedge.shouldClone = false;\r\n\t\tedge.isMeasured = false;\r\n\t\tedge.toBack();\r\n\r\n\t\t// Set defaults\r\n\t\tthis.angle = 30;\r\n\t\tthis.depth = 20;\r\n\r\n\t\t// Create side A element\r\n\t\tlet sideA = this.createChild(Sprite);\r\n\t\tthis.sideA = sideA;\r\n\t\tsideA.shouldClone = false;\r\n\t\tsideA.isMeasured = false;\r\n\t\t//sideA.setElement(this.paper.add(\"path\"));\r\n\t\t//sideA.strokeOpacity = 0;\r\n\r\n\t\t// Crate side B element\r\n\t\tlet sideB = this.createChild(Sprite);\r\n\t\tthis.sideB = sideB;\r\n\t\tsideB.shouldClone = false;\r\n\t\tsideB.isMeasured = false;\r\n\t\t//sideB.setElement(this.paper.add(\"path\"));\r\n\t\t//sideB.strokeOpacity = 0;\r\n\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Sets actual `fill` property on the SVG element, including applicable color\r\n\t * modifiers.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param value  Fill\r\n\t */\r\n\tprotected setFill(value: $type.Optional<Color | Pattern | LinearGradient | RadialGradient>): void {\r\n\t\tsuper.setFill(value);\r\n\r\n\t\tlet colorStr: string;\r\n\t\tif (value instanceof Color) {\r\n\t\t\tcolorStr = value.hex;\r\n\t\t}\r\n\t\telse if (value instanceof LinearGradient || value instanceof RadialGradient) {\r\n\t\t\tcolorStr = value.stops.getIndex(0).color.hex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet filter = new LightenFilter();\r\n\t\t\tfilter.lightness = -0.25;\r\n\t\t\tthis.edge.filters.push(filter);\r\n\t\t\tthis.sideA.filters.push(filter.clone());\r\n\t\t\tthis.sideB.filters.push(filter.clone());\r\n\t\t}\r\n\r\n\t\tif (colorStr) {\r\n\t\t\tlet edgeFill = color(colorStr).lighten(-0.25);\r\n\r\n\t\t\tthis.edge.fill = edgeFill;\r\n\t\t\tthis.sideA.fill = edgeFill;\r\n\t\t\tthis.sideB.fill = edgeFill;\r\n\r\n\t\t\tthis.edge.stroke = edgeFill;\r\n\t\t\tthis.sideA.stroke = edgeFill;\r\n\t\t\tthis.sideB.stroke = edgeFill;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tthis.cornerRadius = 0;\r\n\t\tthis.innerCornerRadius = 0;\r\n\r\n\t\tsuper.draw();\r\n\r\n\t\tif (this.arc !== 0 && this.radius > 0 && this.depth > 0) {\r\n\t\t\tthis.sideB.show(0);\r\n\t\t\tthis.sideA.show(0);\r\n\t\t\tthis.edge.show(0);\r\n\r\n\t\t\tlet startAngle = this.startAngle;\r\n\t\t\tlet arc = this.arc;\r\n\t\t\tlet innerRadius = this.pixelInnerRadius || 0;\r\n\t\t\tlet radiusY = this.radiusY || 0;\r\n\r\n\t\t\t//let cornerRadius = this.cornerRadius || 0;\r\n\t\t\t//let innerCornerRadius = this.innerCornerRadius;\r\n\t\t\tlet radius = this.radius;\r\n\r\n\t\t\t// this is code duplicate with $path.arc. @todo to think how to avoid it\r\n\r\n\t\t\tlet endAngle = startAngle + arc;\r\n\t\t\t//let crSin = $math.sin($math.min(arc, 45) / 2);\r\n\r\n\t\t\t//innerCornerRadius = innerCornerRadius || cornerRadius;\r\n\r\n\t\t\tlet innerRadiusY = (radiusY / radius) * innerRadius;\r\n\t\t\t//let cornerRadiusY = (radiusY / radius) * cornerRadius;\r\n\t\t\t//let innerCornerRadiusY = (radiusY / radius) * innerCornerRadius;\r\n\r\n\t\t\t//cornerRadius = $math.fitToRange(cornerRadius, 0, (radius - innerRadius) / 2);\r\n\t\t\t//cornerRadiusY = $math.fitToRange(cornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n\r\n\t\t\t//innerCornerRadius = $math.fitToRange(innerCornerRadius, 0, (radius - innerRadius) / 2);\r\n\t\t\t//innerCornerRadiusY = $math.fitToRange(innerCornerRadiusY, 0, (radiusY - innerRadiusY) / 2);\r\n\r\n\t\t\t//cornerRadius = $math.fitToRange(cornerRadius, 0, radius * crSin);\r\n\t\t\t//cornerRadiusY = $math.fitToRange(cornerRadiusY, 0, radiusY * crSin);\r\n\r\n\t\t\t//innerCornerRadius = $math.fitToRange(innerCornerRadius, 0, innerRadius * crSin);\r\n\t\t\t//innerCornerRadiusY = $math.fitToRange(innerCornerRadiusY, 0, innerRadiusY * crSin);\r\n\r\n\t\t\t//let crAngle: number = Math.asin(cornerRadius / radius / 2) * $math.DEGREES * 2;\r\n\t\t\t//let crAngleY: number = Math.asin(cornerRadiusY / radiusY / 2) * $math.DEGREES * 2;\r\n\r\n\t\t\t//if (innerRadius < innerCornerRadius) {\r\n\t\t\t//\tinnerRadius = innerCornerRadius;\r\n\t\t\t//}\r\n\r\n\t\t\t//if (innerRadiusY < innerCornerRadiusY) {\r\n\t\t\t//\tinnerRadiusY = innerCornerRadiusY;\r\n\t\t\t//}\r\n\r\n\t\t\t//let crInnerAngle: number = Math.asin(innerCornerRadius / innerRadius / 2) * $math.DEGREES * 2;\r\n\t\t\t//let crInnerAngleY: number = Math.asin(innerCornerRadiusY / innerRadiusY / 2) * $math.DEGREES * 2;\r\n\r\n\t\t\t//if (!$type.isNumber(crInnerAngle)) {\r\n\t\t\t//\tcrInnerAngle = 0;\r\n\t\t\t//}\r\n\t\t\t//if (!$type.isNumber(crInnerAngleY)) {\r\n\t\t\t//\tcrInnerAngleY = 0;\r\n\t\t\t//}\r\n\r\n\t\t\t//let middleAngle = startAngle + arc / 2;\r\n\t\t\t//let mPoint = { x: $math.round($math.cos(middleAngle) * innerRadius, 4), y: $math.round($math.sin(middleAngle) * innerRadiusY, 4) };\r\n\r\n\t\t\tlet a0 = { x: $math.cos(startAngle) * (innerRadius), y: $math.sin(startAngle) * (innerRadiusY) };\r\n\t\t\tlet b0 = { x: $math.cos(startAngle) * (radius), y: $math.sin(startAngle) * (radiusY) };\r\n\t\t\tlet c0 = { x: $math.cos(endAngle) * (radius), y: $math.sin(endAngle) * (radiusY) };\r\n\t\t\tlet d0 = { x: $math.cos(endAngle) * (innerRadius), y: $math.sin(endAngle) * (innerRadiusY) };\r\n\t\t\t// end of duplicate\r\n\r\n\t\t\tlet h: number = this.depth;\r\n\t\t\tlet ah: IPoint = { x: a0.x, y: a0.y - h };\r\n\t\t\tlet bh: IPoint = { x: b0.x, y: b0.y - h };\r\n\t\t\tlet ch: IPoint = { x: c0.x, y: c0.y - h };\r\n\t\t\tlet dh: IPoint = { x: d0.x, y: d0.y - h };\r\n\r\n\t\t\tlet edgePath = \"\";\r\n\t\t\tlet count = Math.ceil(arc / 5);\r\n\t\t\tlet step = arc / count;\r\n\t\t\tlet mangle = startAngle;\r\n\r\n\t\t\tlet prevPoint = bh;\r\n\r\n\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tmangle += step;\r\n\t\t\t\tif (mangle > 0 && mangle < 180) {\r\n\t\t\t\t\tedgePath += $path.moveTo(prevPoint);\r\n\t\t\t\t\tlet pp = { x: $math.cos(mangle) * (radius), y: $math.sin(mangle) * (radiusY) - h };\r\n\t\t\t\t\tedgePath += $path.lineTo({ x: prevPoint.x, y: prevPoint.y + h });\r\n\t\t\t\t\tedgePath += $path.arcToPoint({ x: pp.x, y: pp.y + h }, radius, radiusY, true);\r\n\t\t\t\t\tedgePath += $path.lineTo(pp);\r\n\t\t\t\t\tedgePath += $path.arcToPoint(prevPoint, radius, radiusY);\r\n\t\t\t\t\tedgePath += \"z\";\r\n\t\t\t\t\tprevPoint = pp;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tedgePath += $path.moveTo(prevPoint);\r\n\t\t\t\t\tlet pp = { x: $math.cos(mangle) * (radius), y: $math.sin(mangle) * (radiusY) - h };\r\n\t\t\t\t\tedgePath += $path.arcToPoint(pp, radius, radiusY, true);\r\n\t\t\t\t\tedgePath += $path.lineTo({ x: pp.x, y: pp.y + h });\r\n\t\t\t\t\tedgePath += $path.arcToPoint({ x: prevPoint.x, y: prevPoint.y + h }, radius, radiusY);\r\n\t\t\t\t\tedgePath += $path.lineTo(prevPoint);\r\n\t\t\t\t\tedgePath += \"z\";\r\n\t\t\t\t\tprevPoint = pp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tprevPoint = ah;\r\n\t\t\tmangle = startAngle;\r\n\r\n\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tmangle += step;\r\n\t\t\t\tif (mangle > 0 && mangle < 180) {\r\n\t\t\t\t\tedgePath += $path.moveTo(prevPoint);\r\n\t\t\t\t\tlet pp = { x: $math.cos(mangle) * (innerRadius), y: $math.sin(mangle) * (innerRadiusY) - h };\r\n\t\t\t\t\tedgePath += $path.lineTo({ x: prevPoint.x, y: prevPoint.y + h });\r\n\t\t\t\t\tedgePath += $path.arcToPoint({ x: pp.x, y: pp.y + h }, innerRadius, innerRadiusY, true);\r\n\t\t\t\t\tedgePath += $path.lineTo(pp);\r\n\t\t\t\t\tedgePath += $path.arcToPoint(prevPoint, innerRadius, innerRadiusY);\r\n\t\t\t\t\tedgePath += \"z\";\r\n\t\t\t\t\tprevPoint = pp;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tedgePath += $path.moveTo(prevPoint);\r\n\t\t\t\t\tlet pp = { x: $math.cos(mangle) * (innerRadius), y: $math.sin(mangle) * (innerRadiusY) - h };\r\n\t\t\t\t\tedgePath += $path.arcToPoint(pp, innerRadius, innerRadiusY, true);\r\n\t\t\t\t\tedgePath += $path.lineTo({ x: pp.x, y: pp.y + h });\r\n\t\t\t\t\tedgePath += $path.arcToPoint({ x: prevPoint.x, y: prevPoint.y + h }, innerRadius, innerRadiusY);\r\n\t\t\t\t\tedgePath += $path.lineTo(prevPoint);\r\n\t\t\t\t\tedgePath += \"z\";\r\n\t\t\t\t\tprevPoint = pp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.edge.path = edgePath;\r\n/*\r\n\t\t\ta0 = { x: $math.cos(startAngle) * (innerRadius + innerCornerRadius), y: $math.sin(startAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n\t\t\tb0 = { x: $math.cos(startAngle) * (radius - cornerRadius), y: $math.sin(startAngle) * (radiusY - cornerRadiusY) };\r\n\t\t\tc0 = { x: $math.cos(endAngle) * (radius - cornerRadius), y: $math.sin(endAngle) * (radiusY - cornerRadiusY) };\r\n\t\t\td0 = { x: $math.cos(endAngle) * (innerRadius + innerCornerRadius), y: $math.sin(endAngle) * (innerRadiusY + innerCornerRadiusY) };\r\n\t\t\t// end of duplicate\r\n\r\n\t\t\tah = { x: a0.x, y: a0.y - h };\r\n\t\t\tbh = { x: b0.x, y: b0.y - h };\r\n\t\t\tch = { x: c0.x, y: c0.y - h };\r\n\t\t\tdh = { x: d0.x, y: d0.y - h };\r\n*/\r\n\t\t\tthis.sideA.path = $path.moveTo(a0) + $path.lineTo(b0) + $path.lineTo(bh) + $path.lineTo(ah) + $path.closePath();\r\n\t\t\tthis.sideB.path = $path.moveTo(c0) + $path.lineTo(d0) + $path.lineTo(dh) + $path.lineTo(ch) + $path.closePath();\r\n\r\n\t\t\tif (this.startAngle < 90) {\r\n\t\t\t\tthis.sideA.toBack();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.sideA.toFront();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.startAngle + this.arc > 90) {\r\n\t\t\t\tthis.sideB.toBack();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.sideB.toFront();\r\n\t\t\t}\r\n\r\n\t\t\tthis.slice.dy = -h;\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.sideA.hide(0);\r\n\t\t\tthis.sideB.hide(0);\r\n\t\t\tthis.edge.hide(0);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Depth (height) of the 3D slice in pixels.\r\n\t *\r\n\t * @default 20\r\n\t * @param depth  Depth (px)\r\n\t */\r\n\tpublic set depth(depth: number) {\r\n\t\tthis.setPropertyValue(\"depth\", depth, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Depth (px)\r\n\t */\r\n\tpublic get depth(): number {\r\n\t\treturn this.getPropertyValue(\"depth\");\r\n\t}\r\n\r\n\t/**\r\n\t * Angle of the point of view to the 3D element. (0-360)\r\n\t *\r\n\t * @default 30\r\n\t * @param value  Angle\r\n\t */\r\n\tpublic set angle(value: number) {\r\n\t\tthis.setPropertyValue(\"angle\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle\r\n\t */\r\n\tpublic get angle(): number {\r\n\t\tlet angle: number = this.getPropertyValue(\"angle\");\r\n\t\tif (!$type.isNumber(angle)) {\r\n\t\t\tangle = 0;\r\n\t\t}\r\n\t\treturn angle;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical radius (0-1)\r\n\t */\r\n\tpublic get radiusY(): number {\r\n\t\tlet radiusY: number = this.getPropertyValue(\"radiusY\");\r\n\t\tif (!$type.isNumber(radiusY)) {\r\n\t\t\tradiusY = this.radius - this.radius * this.angle / 90;\r\n\t\t}\r\n\t\treturn radiusY;\r\n\t}\r\n\r\n\t/**\r\n\t * Vertical radius for creating skewed slices.\r\n\t *\r\n\t * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n\t * the `radius`.\r\n\t *\r\n\t * @param value Vertical radius (0-1)\r\n\t */\r\n\tpublic set radiusY(value: number) {\r\n\t\tthis.setPropertyValue(\"radiusY\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all properties and related data from a different instance of Axis.\r\n\t *\r\n\t * @param source Source Axis\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.edge.copyFrom(source.edge);\r\n\t\tthis.sideA.copyFrom(source.sideA);\r\n\t\tthis.sideB.copyFrom(source.sideB);\r\n\t}\r\n\r\n}\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { RadialGradient } from \"./RadialGradient\";\r\nimport { GradientModifier } from \"./GradientModifier\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * This class can be used to modify radial gradient steps, changing visual\r\n * properties like lightness, brightness, opacity of each set.\r\n *\r\n * It can also set offsets for each gradient step.\r\n *\r\n * E.g. if I want to fill a columns in a column series to be a solid fill from\r\n * top to 80% of height, then gradually fades out, I can use the following\r\n * gradient modifier as a `fillModifier`:\r\n *\r\n * ```TypeScript\r\n * let fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JavaScript\r\n * var fillModifier = new am4core.LinearGradientModifier();\r\n * fillModifier.opacities = [1, 1, 0];\r\n * fillModifier.offsets = [0, 0.8, 1];\r\n * columnSeries.columns.template.fillModifier = fillModifier;\r\n * ```\r\n * ```JSON\r\n * \"series\": [{\r\n *   \"type\": \"ColumnSeries\",\r\n *   \"columns\": {\r\n *     \"fillModifier\": {\r\n *       \"type\": \"LinearGradientModifier\",\r\n *       \"opacities\": [1, 1, 0],\r\n *       \"offsets\": [0, 0.8, 1]\r\n *     }\r\n *   }\r\n * }]\r\n * ```\r\n */\r\nexport class RadialGradientModifier extends GradientModifier {\r\n\t/**\r\n\t * A reference to the gradient instance that this modifier is used for.\r\n\t */\r\n\tpublic gradient: RadialGradient;\r\n\t/**\r\n\t * Constructor.\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"RadialGradientModifier\";\r\n\t\tthis.gradient = new RadialGradient();\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\r\n\tpublic copyFrom(source: this) {\r\n\t\tsuper.copyFrom(source);\r\n\t\tthis.gradient = source.gradient.clone();\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadialGradientModifier\"] = RadialGradientModifier;\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern, PatternProperties } from \"./Pattern\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $path from \"../../rendering/Path\";\r\n\r\nexport interface LinePatternProperties extends PatternProperties {\r\n\tgap: number;\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Line pattern.\r\n */\r\nexport class LinePattern extends Pattern {\r\n\r\n\t/**\r\n\t * SVG `<line>` element used for pattern.\r\n\t */\r\n\tprotected _line: AMElement;\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: LinePatternProperties;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.properties[\"gap\"] = 0;\r\n\t\tthis._line = this.paper.add(\"path\");\r\n\t\tthis.addElement(this._line);\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the pattern.\r\n\t */\r\n\tprotected draw(): void {\r\n\t\tsuper.draw();\r\n\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\tthis.properties[\"shapeRendering\"] = \"auto\";\r\n\t\t}\r\n\t\tif (this._line) {\r\n\t\t\tlet w = this.width;\r\n\t\t\tlet h = this.height;\r\n\r\n\t\t\tlet path = \"\";\r\n\r\n\t\t\tif (!this.gap) {\r\n\t\t\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\t\t\tpath = $path.moveTo({ x: -w, y: h / 2 }) + $path.lineTo({ x: w * 2, y: h / 2 });\r\n\r\n\t\t\t\t\tthis.properties[\"rotationX\"] = this.width / 2;\r\n\t\t\t\t\tthis.properties[\"rotationY\"] = this.height / 2;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tpath = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: w, y: 0 });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet step = this.gap + this.strokeWidth;\r\n\t\t\t\tlet count = this.height / step;\r\n\r\n\t\t\t\tfor (let i = -count / 2; i < count * 1.5; i++) {\r\n\t\t\t\t\tif (Math.round(this.rotation / 90) != this.rotation / 90) {\r\n\t\t\t\t\t\tpath += $path.moveTo({ x: -w, y: (i + 0.5) * step }) + $path.lineTo({ x: w * 2, y: (i + 0.5) * step });\r\n\r\n\t\t\t\t\t\tthis.properties[\"rotationX\"] = this.width / 2;\r\n\t\t\t\t\t\tthis.properties[\"rotationY\"] = this.height / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tpath += $path.moveTo({ x: -w, y: i * step }) + $path.lineTo({ x: w * 2, y: i * step });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._line.attr({ \"d\": path });\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Number of pixels between pattern lines.\r\n\t *\r\n\t * The pattern will automatically draw required number of lines to fill\r\n\t * pattern area maintaining `gap` distance between them.\r\n\t *\r\n\t * 0 (zero) means only single line will be drawn.\r\n\t *\r\n\t * @default 0\r\n\t * @since 4.7.7\r\n\t */\r\n\tpublic set gap(value: number) {\r\n\t\tthis.properties[\"gap\"] = value;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\t/**\r\n\t * @return gap\r\n\t */\r\n\tpublic get gap(): number {\r\n\t\treturn this.properties[\"gap\"];\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LinePattern\"] = LinePattern;\r\n","/**\r\n * Rectangular pattern module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern, PatternProperties } from \"./Pattern\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for circle pattern\r\n */\r\nexport interface CirclePatternProperties extends PatternProperties {\r\n\tradius: number;\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Circular pattern\r\n */\r\nexport class CirclePattern extends Pattern {\r\n\r\n\t/**\r\n\t * Reference to `<circle>` element used in pattern.\r\n\t */\r\n\tprotected _circle: $type.Optional<AMElement>;\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: CirclePatternProperties;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.properties[\"radius\"] = 2;\r\n\t\tthis._circle = this.paper.add(\"circle\");\r\n\t\tthis.addElement(this._circle);\r\n\t\tthis.shapeRendering = \"auto\";\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the circle element.\r\n\t */\r\n\tprotected draw(): void {\r\n\t\tsuper.draw();\r\n\t\tif (this._circle) {\r\n\t\t\tthis._circle.attr({ \"r\": this.radius, \"cx\": this.width / 2, \"cy\":this.height / 2});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Circle radius in pixels.\r\n\t *\r\n\t * @param value Radius (px)\r\n\t */\r\n\tpublic set radius(value: number) {\r\n\t\tthis.properties[\"radius\"] = value;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get radius(): number {\r\n\t\treturn this.properties[\"radius\"];\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CirclePattern\"] = CirclePattern;\r\n","/**\r\n * Rectangular pattern module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Pattern, PatternProperties } from \"./Pattern\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for rectangular pattern\r\n */\r\nexport interface RectPatternProperties extends PatternProperties {\r\n\trectWidth: number;\r\n\trectHeight: number;\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Rectangular pattern\r\n */\r\nexport class RectPattern extends Pattern {\r\n\r\n\t/**\r\n\t * Reference to `<rect>` element used in pattern.\r\n\t */\r\n\tprotected _rect: $type.Optional<AMElement>;\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: RectPatternProperties;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.rectHeight = 1;\r\n\t\tthis.rectWidth = 1;\r\n\t\tthis._rect = this.paper.add(\"rect\");\r\n\t\tthis.addElement(this._rect);\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the rectangular element.\r\n\t */\r\n\tprotected draw(): void {\r\n\t\tsuper.draw();\r\n\t\tthis.properties[\"rotationX\"] = this.width / 2;\r\n\t\tthis.properties[\"rotationY\"] = this.height / 2;\t\t\r\n\t\tif (this._rect) {\r\n\t\t\tthis._rect.attr({ \"width\": this.rectWidth, \"height\": this.rectHeight, \"x\":(this.width - this.rectWidth) / 2, \"y\":(this.height - this.rectHeight) / 2 });\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Rectangle width in pixels.\r\n\t *\r\n\t * @param value Width (px)\r\n\t */\r\n\tpublic set rectWidth(value: number) {\r\n\t\tthis.properties[\"rectWidth\"] = value;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Width (px)\r\n\t */\r\n\tpublic get rectWidth(): number {\r\n\t\treturn this.properties[\"rectWidth\"];\r\n\t}\r\n\r\n\t/**\r\n\t * Rectangle height in pixels.\r\n\t *\r\n\t * @param value Height (px)\r\n\t */\r\n\tpublic set rectHeight(value: number) {\r\n\t\tthis.properties[\"rectHeight\"] = value;\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Height (px)\r\n\t */\r\n\tpublic get rectHeight(): number {\r\n\t\treturn this.properties[\"rectHeight\"];\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RectPattern\"] = RectPattern;\r\n","/**\r\n * Module for \"Colorize\" filter.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter, FilterProperties } from \"./Filter\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { Color } from \"../../utils/Color\";\r\nimport { registry } from \"../../Registry\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines additional properties relative to the \"Colorize\" filter.\r\n */\r\nexport interface ColorizeFilterProperties extends FilterProperties {\r\n\r\n\t/**\r\n\t * Color.\r\n\t */\r\n\tcolor?: Color;\r\n\r\n\t/**\r\n\t * Intensity. (0-1)\r\n\t *\r\n\t * @default 1\r\n\t */\r\n\tintensity: number;\r\n\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a \"Colorize\" filter.\r\n */\r\nexport class ColorizeFilter extends Filter {\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: ColorizeFilterProperties;\r\n\r\n\t/**\r\n\t * A storage for Filter property/value pairs.\r\n\t * @see [@link ColorizeFilterProperties]\r\n\t */\r\n\t//public propertyValues: Dictionary<ColorizeFilterProperties, any>;\r\n\r\n\t/**\r\n\t * Reference to the `<feColorMatrix>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feColorMatrix: AMElement;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"ColorizeFilter\";\r\n\r\n\t\t// Create elements\r\n\t\t// NOTE: we do not need to add each individual element to `_disposers`\r\n\t\t// because `filterPrimitives` has an event handler which automatically adds\r\n\t\t// anything added to it to `_disposers`\r\n\t\tthis.feColorMatrix = this.paper.add(\"feColorMatrix\");\r\n\t\tthis.feColorMatrix.attr({ \"type\": \"matrix\" });\r\n\t\t//this.feColorMatrix.setAttribute(\"in\", \"SourceAlpha\");\r\n\t\tthis.filterPrimitives.push(this.feColorMatrix);\r\n\r\n\t\t// Set default properties\r\n\t\tthis.intensity = 1;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * (Re)applies colors to the already existing filter by modifying filyer's\r\n\t * color matrix element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic applyFilter(): void {\r\n\r\n\t\tlet i: number = this.intensity;\r\n\t\tlet ii = 1 - i;\r\n\r\n\t\tlet r: number;\r\n\t\tlet g: number;\r\n\t\tlet b: number;\r\n\r\n\t\tconst color = this.color;\r\n\r\n\t\tif (color && color.rgb) {\r\n\t\t\tr = color.rgb.r / 255 * i;\r\n\t\t\tg = color.rgb.g / 255 * i;\r\n\t\t\tb = color.rgb.b / 255 * i;\r\n\r\n\t\t} else {\r\n\t\t\tr = 0;\r\n\t\t\tg = 0;\r\n\t\t\tb = 0;\r\n\t\t}\r\n\r\n\t\tthis.feColorMatrix.attr({ \"values\": ii + \" 0 0 0 \" + r + \" 0 \" + ii + \" 0 0 \" + g + \" 0 0 \" + ii + \" 0 \" + b + \" 0 0 0 1 0\" });\r\n\t}\r\n\r\n\t/**\r\n\t * Target color to apply to the element.\r\n\t *\r\n\t * Depending on the `intensity`, all colors of the target element will steer\r\n\t * towards this color.\r\n\t *\r\n\t * E.g. setting to `am4core.color(\"greener\")` will make all colors greener.\r\n\t *\r\n\t * @param value  Color\r\n\t */\r\n\tpublic set color(value: $type.Optional<Color>) {\r\n\t\tthis.properties[\"color\"] = value;\r\n\t\tthis.applyFilter();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Color\r\n\t */\r\n\tpublic get color(): $type.Optional<Color> {\r\n\t\treturn this.properties[\"color\"];\r\n\t}\r\n\r\n\t/**\r\n\t * Intensity of the color (0-1).\r\n\t *\r\n\t * The bigger the number the more of a `color` target's colors will become.\r\n\t *\r\n\t * 0 means the colors will remain as they are.\r\n\t * 1 means all colors will become the target `color`.\r\n\t *\r\n\t * @default 1\r\n\t * @param value  Intensity (0-1)\r\n\t */\r\n\tpublic set intensity(value: number) {\r\n\t\tthis.properties.intensity = value;\r\n\t\tthis.applyFilter();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Intensity (0-1)\r\n\t */\r\n\tpublic get intensity(): number {\r\n\t\treturn this.properties.intensity;\r\n\t}\r\n\r\n}\r\n\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColorizeFilter\"] = ColorizeFilter;\r\n","/**\r\n * Module for \"Desaturate\" filter.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter, FilterProperties } from \"./Filter\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines additional properties relative to the \"Desaturate\" filter\r\n */\r\nexport interface DesaturateFilterProperties extends FilterProperties {\r\n\r\n\t/**\r\n\t * Saturation. (0-1)\r\n\t */\r\n\tsaturation: number;\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creats a \"Desaturate\" filter\r\n */\r\nexport class DesaturateFilter extends Filter {\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: DesaturateFilterProperties;\r\n\r\n\t/**\r\n\t * A storage for Filter property/value pairs.\r\n\t * @see [@link DesaturateFilterProperties]\r\n\t */\r\n\t//public propertyValues: Dictionary<DesaturateFilterProperties, any>;\r\n\r\n\t/**\r\n\t * Reference to the `<feColorMatrix>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feColorMatrix: AMElement;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"DesaturateFilter\";\r\n\r\n\t\t// Create elements\r\n\t\t// NOTE: we do not need to add each individual element to `_disposers`\r\n\t\t// because `filterPrimitives` has an event handler which automatically adds\r\n\t\t// anything added to it to `_disposers`\r\n\t\tthis.feColorMatrix = this.paper.add(\"feColorMatrix\");\r\n\t\tthis.feColorMatrix.attr({ \"type\": \"saturate\" });\r\n\t\tthis.filterPrimitives.push(this.feColorMatrix);\r\n\r\n\t\t// Set default properties\r\n\t\tthis.width = 120;\r\n\t\tthis.height = 120;\r\n\r\n\t\tthis.saturation = 0;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Saturation.\r\n\t *\r\n\t * 0 - completely desaturated.\r\n\t * 1 - fully saturated (gray).\r\n\t *\r\n\t * @param value  Saturation (0-1)\r\n\t */\r\n\tpublic set saturation(value: number) {\r\n\t\tthis.properties[\"saturation\"] = value;\r\n\t\tthis.feColorMatrix.attr({ \"values\": value.toString() });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Saturation (0-1)\r\n\t */\r\n\tpublic get saturation(): number {\r\n\t\treturn this.properties[\"saturation\"];\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DesaturateFilter\"] = DesaturateFilter;\r\n","/**\r\n * Module for \"Blur\" filter.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Filter, FilterProperties } from \"./Filter\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { Color } from \"../../utils/Color\";\r\nimport { registry } from \"../../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines additional properties relative to the \"Blur\" filter.\r\n */\r\nexport interface BlurFilterProperties extends FilterProperties {\r\n\r\n\t/**\r\n\t * Horizontal offset in pixels.\r\n\t *\r\n\t * @ignore Deprecated\r\n\t * @deprecated ?\r\n\t * @todo Remove?\r\n\t */\r\n\tdx?: number;\r\n\r\n\t/**\r\n\t * Vertical offset in pixels.\r\n\t *\r\n\t * @ignore Deprecated\r\n\t * @deprecated ?\r\n\t * @todo Remove?\r\n\t */\r\n\tdy?: number;\r\n\r\n\t/**\r\n\t * Blur value.\r\n\t */\r\n\tblur: number;\r\n\r\n\t/**\r\n\t * Opacity. (0-1)\r\n\t *\r\n\t * @ignore Deprecated\r\n\t * @deprecated ?\r\n\t * @todo Remove?\r\n\t */\r\n\topacity?: number;\r\n\r\n\t/**\r\n\t * Color.\r\n\t *\r\n\t * @ignore Deprecated\r\n\t * @deprecated ?\r\n\t * @todo Remove?\r\n\t */\r\n\tcolor?: Color;\r\n\r\n};\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a \"Blur\" filter.\r\n */\r\nexport class BlurFilter extends Filter {\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: BlurFilterProperties;\r\n\r\n\t/**\r\n\t * A storage for Filter property/value pairs.\r\n\t * @see [@link BlurFilterProperties]\r\n\t */\r\n\t//public propertyValues: Dictionary<BlurFilterProperties, any>;\r\n\r\n\t/**\r\n\t * Reference to the `<feGaussianBlur>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feGaussianBlur: AMElement;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.className = \"BlurFilter\";\r\n\r\n\t\t// Create elements\r\n\t\t// NOTE: we do not need to add each individual element to `_disposers`\r\n\t\t// because `filterPrimitives` has an event handler which automatically adds\r\n\t\t// anything added to it to `_disposers`\r\n\r\n\t\tthis.feGaussianBlur = this.paper.add(\"feGaussianBlur\");\r\n\t\tthis.feGaussianBlur.attr({ \"result\": \"blurOut\", \"in\": \"SourceGraphic\" });\r\n\t\tthis.filterPrimitives.push(this.feGaussianBlur);\r\n\r\n\t\t// Set default properties\r\n\t\tthis.width = 200;\r\n\t\tthis.height = 200;\r\n\t\tthis.blur = 1.5;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Blur value.\r\n\t *\r\n\t * The bigger the value, the blurrier the target element will become.\r\n\t *\r\n\t * @default 1.5\r\n\t * @param value Blur\r\n\t */\r\n\tpublic set blur(value: number) {\r\n\t\tthis.properties.blur = value;\r\n\t\tthis.feGaussianBlur.attr({ \"stdDeviation\": value / this.scale });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Blur\r\n\t */\r\n\tpublic get blur(): number {\r\n\t\treturn this.properties.blur;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"BlurFilter\"] = BlurFilter;\r\n","/**\r\n * Module for \"Focus\" filter.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../../Sprite\";\r\nimport { Filter, FilterProperties } from \"./Filter\";\r\nimport { AMElement } from \"../AMElement\";\r\nimport { Color } from \"../../utils/Color\";\r\nimport { InterfaceColorSet } from \"../../utils/InterfaceColorSet\";\r\nimport * as $type from \"../../utils/Type\";\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines additional properties relative to the \"Focus\" filter.\r\n */\r\nexport interface FocusFilterProperties extends FilterProperties {\r\n\r\n\t/**\r\n\t * Opacity of the outline. (0-1)\r\n\t */\r\n\topacity?: number;\r\n\r\n\t/**\r\n\t * Stroke (outline) color.\r\n\t */\r\n\tstroke?: Color;\r\n\r\n\t/**\r\n\t * Stroke (outline) thickness in pixels.\r\n\t */\r\n\tstrokeWidth?: number;\r\n\r\n\t/**\r\n\t * Stroke (outline) opacity. (0-1)\r\n\t */\r\n\tstrokeOpacity?: number;\r\n\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a \"Focus\" filter.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/accessibility/} more about accessibility\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/changing-appearance-of-focused-items/} cusomizing focus appearance\r\n */\r\nexport class FocusFilter extends Filter {\r\n\r\n\t/**\r\n\t * Defines property types.\r\n\t */\r\n\tpublic _properties!: FocusFilterProperties;\r\n\r\n\t/**\r\n\t * A storage for Filter property/value pairs.\r\n\t * @see [@link FocusFilterProperties]\r\n\t */\r\n\t//public propertyValues: Dictionary<FocusFilterProperties, any>;\r\n\r\n\t/**\r\n\t * Reference to the `<feFlood>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feFlood: AMElement;\r\n\r\n\t/**\r\n\t * Reference to the `<feMorphology>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feMorphology: AMElement;\r\n\r\n\t/**\r\n\t * Reference to the `<feFlood>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feColorMatrix: AMElement;\r\n\r\n\t/**\r\n\t * Reference to the `<feComposite>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feComposite: AMElement;\r\n\r\n\t/**\r\n\t * Reference to the `<feFlood>` element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic feBlend: AMElement;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.className = \"FocusFilter\";\r\n\r\n\t\t// Create elements\r\n\t\t// NOTE: we do not need to add each individual element to `_disposers`\r\n\t\t// because `filterPrimitives` has an event handler which automatically adds\r\n\t\t// anything added to it to `_disposers`\r\n\t\tthis.feFlood = this.paper.add(\"feFlood\");\r\n\t\tthis.feFlood.attr({ \"flood-color\": new InterfaceColorSet().getFor(\"primaryButtonHover\"), \"result\": \"base\" });\r\n\t\tthis.filterPrimitives.push(this.feFlood);\r\n\r\n\t\tthis.feMorphology = this.paper.add(\"feMorphology\");\r\n\t\tthis.feMorphology.attr({ \"result\": \"bigger\", \"in\": \"SourceGraphic\", \"operator\": \"dilate\", \"radius\": \"2\" });\r\n\t\tthis.filterPrimitives.push(this.feMorphology);\r\n\r\n\t\tthis.feColorMatrix = this.paper.add(\"feColorMatrix\");\r\n\t\tthis.feColorMatrix.attr({ \"result\": \"mask\", \"in\": \"bigger\", \"type\": \"matrix\", \"values\": \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\" });\r\n\t\tthis.filterPrimitives.push(this.feColorMatrix);\r\n\r\n\t\tthis.feComposite = this.paper.add(\"feComposite\");\r\n\t\tthis.feComposite.attr({ \"result\": \"drop\", \"in\": \"base\", \"in2\": \"mask\", \"operator\": \"in\" });\r\n\t\tthis.filterPrimitives.push(this.feComposite);\r\n\r\n\t\tthis.feBlend = this.paper.add(\"feBlend\");\r\n\t\tthis.feBlend.attr({ \"in\": \"SourceGraphic\", \"in2\": \"drop\", \"mode\": \"normal\" });\r\n\t\tthis.filterPrimitives.push(this.feBlend);\r\n\r\n\t\t// Set default properties\r\n\t\tthis.width = 130;\r\n\t\tthis.height = 130;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Stroke (outline) color.\r\n\t *\r\n\t * @param value  Color\r\n\t */\r\n\tpublic set stroke(value: $type.Optional<Color>) {\r\n\t\tthis.properties[\"stroke\"] = value;\r\n\t\tthis.feFlood.attr({ \"flood-color\": value });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Color\r\n\t */\r\n\tpublic get stroke(): $type.Optional<Color> {\r\n\t\treturn this.properties[\"stroke\"];\r\n\t}\r\n\r\n\t/**\r\n\t * Stroke (outline) thickness in pixels.\r\n\t *\r\n\t * @param value  Outline thickness (px)\r\n\t */\r\n\tpublic set strokeWidth(value: $type.Optional<number>) {\r\n\t\tthis.properties[\"strokeWidth\"] = value;\r\n\t\tthis.feMorphology.attr({ \"radius\": value });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Outline thickness (px)\r\n\t */\r\n\tpublic get strokeWidth(): $type.Optional<number> {\r\n\t\treturn this.properties[\"strokeWidth\"];\r\n\t}\r\n\r\n\t/**\r\n\t * Opacity of the outline. (0-1)\r\n\t *\r\n\t * @param value  Outline opacity (0-1)\r\n\t */\r\n\tpublic set opacity(value: $type.Optional<number>) {\r\n\t\tthis.properties[\"opacity\"] = value;\r\n\t\tthis.feColorMatrix.attr({ \"values\": \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \" + value + \" 0\" });\r\n\t}\r\n\r\n\t/**\r\n\t * @return Outline opacity (0-1)\r\n\t */\r\n\tpublic get opacity(): $type.Optional<number> {\r\n\t\treturn this.properties[\"opacity\"];\r\n\t}\r\n\r\n\t/**\r\n\t * Sets filter's target element.\r\n\t *\r\n\t * In addition it also disables built-in focus outline on element this\r\n\t * filter is applied to.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param value  Element filter is being attached to\r\n\t */\r\n\tprotected setSprite(value: Sprite): void {\r\n\t\tif (this._sprite && this._sprite != value) {\r\n\t\t\tthis._sprite.group.removeStyle(\"outline\");\r\n\t\t}\r\n\t\tvalue.group.addStyle({\r\n\t\t\t\"outline\": \"none\"\r\n\t\t});\r\n\t\tsuper.setSprite(value);\r\n\t}\r\n\r\n}\r\n","/**\r\n * This module contains PatternSet object definition\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { BaseObject } from \"../Base\";\r\nimport { Color } from \"./Color\";\r\nimport { InterfaceColorSet } from \"./InterfaceColorSet\";\r\nimport { Pattern } from \"../rendering/fills/Pattern\";\r\nimport { LinePattern } from \"../rendering/fills/LinePattern\";\r\nimport { RectPattern } from \"../rendering/fills/RectPattern\";\r\nimport { CirclePattern } from \"../rendering/fills/CirclePattern\";\r\nimport { registry } from \"../Registry\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines an interable list of distinctive patterns that can be used in\r\n * conjunction to colors to generate various fill patterns.\r\n *\r\n * @important\r\n * @since 4.7.5\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/colors/} for color-related info\r\n */\r\nexport class PatternSet extends BaseObject {\r\n\r\n\t/**\r\n\t * Holds the list of the colors in this set. (preset or auto-generated)\r\n\t */\r\n\tprotected _list: Pattern[] = [];\r\n\r\n\t/**\r\n\t * Current step.\r\n\t */\r\n\tprotected _currentStep: number = 0;\r\n\r\n\t/**\r\n\t * If set to non-zero value, the PatternSet will start iterating patterns from\r\n\t * that particular index, not the first pattern in the list.\r\n\t */\r\n\tprotected _startIndex: number = 0;\r\n\r\n\t/**\r\n\t * Current pass in cycle. Once all patterns in the list are iterated,\r\n\t * iteration restarts from beginning and currentPass is incremented.\r\n\t */\r\n\tprotected _currentPass: number = 0;\r\n\r\n\t/**\r\n\t * A base color. If there are no colors pre-set in the color list, ColorSet\r\n\t * will use this color as a base when generating new ones, applying\r\n\t * `stepOptions` and `passOptions` to this base color.\r\n\t */\r\n\tpublic baseColor: Color = new Color({\r\n\t\tr: 103,\r\n\t\tg: 183,\r\n\t\tb: 220\r\n\t});\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"PatternSet\";\r\n\r\n\t\t// Set base color to be used for pattern elements\r\n\t\tconst interfaceColors = new InterfaceColorSet();\r\n\r\n\t\t// Set default patterns\r\n\t\tthis.list = [\r\n\t\t\tthis.getLinePattern(1000, 45, 1, 6),\r\n\t\t\tthis.getRectPattern(10, 0, 4),\r\n\t\t\tthis.getLinePattern(1000, -45, 1, 6),\r\n\t\t\tthis.getCirclePattern(11, 2, true),\r\n\t\t\tthis.getLinePattern(6, 90, 1),\r\n\t\t\tthis.getRectPattern(12, 45, 6, true),\r\n\t\t\tthis.getLinePattern(6, 0, 1),\r\n\t\t\tthis.getRectPattern(7, 0, 4),\r\n\t\t\tthis.getLinePattern(1000, 45, 2, 3, \"4,2\"),\r\n\t\t\tthis.getCirclePattern(9, 3, false),\r\n\t\t\tthis.getLinePattern(1000, -45, 2, 3, \"4,2\"),\r\n\t\t\tthis.getRectPattern(10, 45, Math.sqrt(50)),\r\n\t\t\tthis.getLinePattern(1000, -45, 2, 1),\r\n\t\t\tthis.getRectPattern(10, 0, 9),\r\n\t\t\tthis.getLinePattern(1000, 45, 2, 1),\r\n\t\t\tthis.getLinePattern(1000, 0, 3, 1),\r\n\t\t\tthis.getRectPattern(10, 45, 10),\r\n\t\t\tthis.getLinePattern(1000, 90, 3, 1)\r\n\t\t];\r\n\r\n\t\tthis.baseColor = interfaceColors.getFor(\"stroke\");\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\tpublic getLinePattern(size: number, rotation: number, thickness: number, gap?: number, strokeDashArray?: string): LinePattern {\r\n\t\tlet pattern = new LinePattern();\r\n\t\tpattern.width = size;\r\n\t\tpattern.height = size;\r\n\t\tpattern.stroke = this.baseColor;\r\n\t\tpattern.gap = gap;\r\n\t\tpattern.strokeDasharray = strokeDashArray;\r\n\t\tpattern.strokeWidth = thickness;\r\n\t\tpattern.rotation = rotation;\r\n\t\treturn pattern;\r\n\t}\r\n\r\n\tpublic getRectPattern(size: number, rotation: number, thickness: number, outline?:boolean): RectPattern {\r\n\t\tlet pattern = new RectPattern();\r\n\t\tpattern.width = size;\r\n\t\tpattern.height = size;\r\n\t\tpattern.rectWidth = thickness;\r\n\t\tpattern.rectHeight = thickness;\r\n\r\n\t\tif(outline){\r\n\t\t\tpattern.stroke = this.baseColor;\r\n\t\t\tpattern.strokeWidth = 1;\r\n\t\t\tpattern.fillOpacity = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpattern.fill = this.baseColor;\r\n\t\t\tpattern.strokeWidth = 0;\r\n\t\t}\r\n\r\n\t\tif(rotation != 0){\r\n\t\t\tpattern.shapeRendering = \"auto\";\r\n\t\t}\r\n\r\n\t\tpattern.rotation = rotation;\r\n\t\treturn pattern;\r\n\t}\r\n\r\n\tpublic getCirclePattern(size: number, radius: number, outline:boolean): CirclePattern {\r\n\t\tlet pattern = new CirclePattern();\r\n\t\tpattern.width = size;\r\n\t\tpattern.height = size;\r\n\t\tpattern.shapeRendering = \"auto\";\r\n\t\tpattern.radius = radius;\r\n\t\tif(outline){\r\n\t\t\tpattern.stroke = this.baseColor;\r\n\t\t\tpattern.strokeWidth = 1;\r\n\t\t\tpattern.fillOpacity = 0;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpattern.fill = this.baseColor;\r\n\t\t\tpattern.strokeWidth = 0;\r\n\t\t}\r\n\t\treturn pattern;\r\n\t}\r\n\r\n\t/**\r\n\t * List of pre-defined patterns to be used in set.\r\n\t *\r\n\t * @param value Pattern list\r\n\t */\r\n\tpublic set list(value: Pattern[]) {\r\n\t\tthis._list = value;\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Pattern list\r\n\t */\r\n\tpublic get list(): Pattern[] {\r\n\t\treturn this._list;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the next pattern in list.\r\n\t *\r\n\t * @return Pattern\r\n\t */\r\n\tpublic next(): Pattern {\r\n\t\tconst pattern = this.getIndex(this.currentStep);\r\n\t\tthis._currentStep++;\r\n\t\treturn pattern;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a color at specific index in the list.\r\n\t *\r\n\t * @param  i  Index\r\n\t * @return Pattern\r\n\t */\r\n\tpublic getIndex(i: number): Pattern {\r\n\t\tlet pattern;\r\n\t\twhile (this.list.length <= i) {\r\n\t\t\tthis.generatePatterns();\r\n\t\t}\r\n\t\tpattern = this.list[i];\r\n\t\treturn pattern.clone();\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a new set of patterns.\r\n\t */\r\n\tprivate generatePatterns(): void {\r\n\t\tconst count = this.list.length / (this._currentPass + 1);\r\n\t\tthis._currentPass++;\r\n\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\tthis.list.push(this.list[i].clone());\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Resets internal iterator.\r\n\t *\r\n\t * Calling `next()` after this will return the very first color in the color\r\n\t * list, even if it was already returned before.\r\n\t */\r\n\tpublic reset(): void {\r\n\t\tthis._currentStep = this._startIndex;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets current color iteration. You can use this property to skip some\r\n\t * colors from iteration. E.g. setting it to `10` will skip first ten\r\n\t * colors.\r\n\t *\r\n\t * Please note that the number is zero-based.\r\n\t *\r\n\t * @param value  Step\r\n\t */\r\n\tpublic set currentStep(value: number) {\r\n\t\tthis._currentStep = value;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Step\r\n\t */\r\n\tpublic get currentStep(): number {\r\n\t\treturn this._currentStep;\r\n\t}\r\n\r\n\t/**\r\n\t * If set to non-zero value, the ColorSet will start iterating colors from\r\n\t * that particular index, not the first color in the list.\r\n\t *\r\n\t * @default 0\r\n\t * @param  value  Index\r\n\t */\r\n\tpublic set startIndex(value: number) {\r\n\t\tthis._startIndex = value;\r\n\t\tthis.reset();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Index\r\n\t */\r\n\tpublic get startIndex(): number {\r\n\t\treturn this._startIndex;\r\n\t}\r\n\r\n\t/**\r\n\t * Processes JSON-based config before it is applied to the object.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param config  Config\r\n\t */\r\n\tpublic processConfig(config?: { [index: string]: any }): void {\r\n\r\n\t\t// if (config) {\r\n\r\n\t\t// \t// Set up axis ranges\r\n\t\t// \tif ($type.hasValue(config.list) && $type.isArray(config.list)) {\r\n\t\t// \t\tfor (let i = 0, len = config.list.length; i < len; i++) {\r\n\t\t// \t\t\tif (!(config.list[i] instanceof Color)) {\r\n\t\t// \t\t\t\tconfig.list[i] = color(config.list[i]);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tsuper.processConfig(config);\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PatternSet\"] = PatternSet;","/**\r\n * A plugin base class.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Optional } from \"./Type\";\r\nimport { IDisposer } from \"./Disposer\";\r\nimport { Sprite } from \"../Sprite\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport interface IPlugin extends IDisposer {\r\n\ttarget: Optional<Sprite>;\r\n\tinit(): void;\r\n}\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * This is a base class that provides core functionality for plugins.\r\n *\r\n * The easiest way to start off with a new plugin is to extend this class.\r\n *\r\n * It will provide all the mandatory functionality, such as disposers.\r\n *\r\n * @since 4.2.2\r\n */\r\nexport class Plugin implements IPlugin {\r\n\r\n\r\n\t/**\r\n\t * A target object plugin is for.\r\n\t */\r\n\tpublic target: Optional<Sprite>;\r\n\r\n\t/**\r\n\t * Is this object disposed?\r\n\t */\r\n\tprotected _disposed: boolean = false;\r\n\r\n\t/**\r\n\t * List of IDisposer which will be disposed when the BaseObject is disposed.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tprotected _disposers: Array<IDisposer> = [];\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\t// Nothing to do here\r\n\t}\r\n\r\n\t/**\r\n\t * Decorates series with required events and adapters used to hijack its\r\n\t * data.\r\n\t */\r\n\tpublic init(): void {\r\n\t\t// Does nothing\r\n\t\t// Override it\r\n\t}\r\n\r\n\t/**\r\n\t * Returns if this element is already disposed.\r\n\t *\r\n\t * @return Is disposed?\r\n\t */\r\n\tpublic isDisposed(): boolean {\r\n\t\treturn this._disposed;\r\n\t}\r\n\r\n\t/**\r\n\t * Disposes this object and related stuff.\r\n\t */\r\n\tpublic dispose(): void {\r\n\t\tif (!this._disposed) {\r\n\t\t\tthis._disposed = true;\r\n\r\n\t\t\tconst a = this._disposers;\r\n\r\n\t\t\tthis._disposers = <any>null;\r\n\r\n\t\t\twhile (a.length !== 0) {\r\n\t\t\t\tconst disposer = a.shift();\r\n\t\t\t\tdisposer.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","/**\r\n * AmChartsLogo module.\r\n *\r\n * AmChartsLogo shows amCharts logo for non-commercial users of a library.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../Container\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Polyspline } from \"./Polyspline\";\r\nimport { color } from \"../utils/Color\";\r\nimport { LinearGradient } from \"../rendering/fills/LinearGradient\";\r\nimport { DesaturateFilter } from \"../rendering/filters/DesaturateFilter\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[AmChartsLogo]].\r\n * @ignore Exclude from docs\r\n */\r\nexport interface IAmChartsLogoProperties extends IContainerProperties { }\r\n\r\n/**\r\n * Defines events for [[AmChartsLogo]].\r\n * @ignore Exclude from docs\r\n */\r\nexport interface IAmChartsLogoEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[AmChartsLogo]].\r\n *\r\n * @see {@link Adapter}\r\n * @ignore Exclude from docs\r\n */\r\nexport interface IAmChartsLogoAdapters extends IContainerAdapters, IAmChartsLogoProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * A class used to draw and display progress indicator.\r\n *\r\n * @see {@link IAmChartsLogoEvents} for a list of available events\r\n * @see {@link IAmChartsLogoAdapters} for a list of available Adapters\r\n * @ignore Exclude from docs\r\n */\r\nexport class AmChartsLogo extends Container {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IAmChartsLogoProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IAmChartsLogoAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IAmChartsLogoEvents;\r\n\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\r\n\t\t// Init\r\n\t\tsuper();\r\n\t\tthis.className = \"AmChartsLogo\";\r\n\r\n\t\tthis.valign = \"bottom\";\r\n\r\n\t\tlet d = 0.3;\r\n\t\tthis.opacity = 0.3;\r\n\t\tthis.defaultState.properties.opacity = 0.4;\r\n\t\tthis.url = \"https://www.amcharts.com/\";\r\n\t\tthis.urlTarget = \"_blank\";\r\n\r\n\t\tthis.showSystemTooltip = true;\r\n\t\tthis.readerTitle = \"Chart created using amCharts library\";\r\n\t\tthis.width = 220 * d;\r\n\t\tthis.height = 70 * d;\r\n\t\tthis.background.opacity = 0;\r\n\r\n\t\tlet aColor = color(\"#474758\");\r\n\t\tif (new InterfaceColorSet().getFor(\"background\").alternative.hex == \"#ffffff\") {\r\n\t\t\taColor = color(\"#ffffff\");\r\n\t\t}\r\n\r\n\t\tlet aGradient = new LinearGradient();\r\n\r\n\t\taGradient.addColor(aColor);\r\n\t\taGradient.addColor(aColor, 1, 0.75);\r\n\t\taGradient.addColor(color(\"#3cabff\"), 1, 0.755);\r\n\t\taGradient.rotation = -10;\r\n\r\n\t\tlet aStroke = aGradient;\r\n\r\n\t\tlet m = this.createChild(Polyspline)\r\n\t\tm.shouldClone = false;\r\n\t\tm.isMeasured = false;\r\n\t\tm.segments = [[{ x: 50 * d, y: 50 * d }, { x: 90 * d, y: 50 * d }, { x: 120 * d, y: 20 * d }, { x: 135 * d, y: 35 * d }, { x: 150 * d, y: 20 * d }, { x: 180 * d, y: 50 * d }, { x: 200 * d, y: 50 * d }]]\r\n\t\tm.strokeWidth = 6 * d;\r\n\t\tm.tensionX = 0.8;\r\n\t\tm.tensionY = 1;\r\n\r\n\t\tm.stroke = color(\"#3cabff\");\r\n\r\n\t\tlet a = this.createChild(Polyspline);\r\n\t\ta.shouldClone = false;\r\n\t\ta.isMeasured = false;\r\n\t\ta.segments = [[{ x: 20 * d, y: 50 * d }, { x: 50 * d, y: 50 * d }, { x: 90 * d, y: 12 * d }, { x: 133 * d, y: 50 * d }, { x: 170 * d, y: 50 * d }, { x: 200 * d, y: 50 * d }]]\r\n\t\ta.strokeWidth = 6 * d;\r\n\t\ta.tensionX = 0.75;\r\n\t\ta.tensionY = 1;\r\n\t\ta.stroke = aStroke;\r\n\r\n\t\tthis._disposers.push(a);\r\n\r\n\t\tlet desaturateFilter = new DesaturateFilter();\r\n\t\tthis.filters.push(desaturateFilter);\r\n\r\n\t\tlet desaturateFilterHover = new DesaturateFilter();\r\n\t\tdesaturateFilterHover.saturation = 1;\r\n\r\n\t\tlet hoverState = this.states.create(\"hover\");\r\n\t\thoverState.properties.opacity = 1;\r\n\t\thoverState.filters.push(desaturateFilterHover);\r\n\r\n\t\t// Apply theme\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n}\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { system } from \"../System\";\r\nimport { registry } from \"../Registry\";\r\nimport { Sprite } from \"../Sprite\";\r\nimport { Container } from \"../Container\";\r\nimport { Component } from \"../Component\";\r\nimport { Paper } from \"../rendering/Paper\";\r\nimport { SVGContainer, svgContainers } from \"../rendering/SVGContainer\";\r\nimport { FocusFilter } from \"../rendering/filters/FocusFilter\";\r\nimport { Preloader } from \"../elements/Preloader\";\r\nimport { AmChartsLogo } from \"../elements/AmChartsLogo\";\r\nimport { ITheme } from \"../../themes/ITheme\";\r\nimport { Tooltip } from \"../elements/Tooltip\";\r\nimport { Disposer, MultiDisposer } from \"../utils/Disposer\";\r\nimport { percent } from \"./Percent\";\r\nimport { options } from \"../Options\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\nimport * as $dom from \"./DOM\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $log from \"./Log\";\r\n\r\n/**\r\n * ============================================================================\r\n * INSTANTIATION FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates all HTML and SVG containers needed for the chart instance, as well\r\n * as the new [[Sprite]] (as specified in `classType` parameter).\r\n *\r\n * @param htmlElement  A container to creat elements in\r\n * @param classType    A class definition of the new element to create\r\n * @return Newly-created Sprite object\r\n */\r\nfunction createChild<T extends Sprite>(htmlElement: $type.Optional<HTMLElement | string>, classType: { new(): T; }): T {\r\n\tlet htmlContainer = $dom.getElement(htmlElement);\r\n\r\n\t// If there's no container available yet, we create a fake one\r\n\tlet tmpContainer = false;\r\n\tif (!htmlContainer) {\r\n\t\thtmlContainer = document.createElement(\"div\");\r\n\t\thtmlContainer.style.width = \"200px\";\r\n\t\thtmlContainer.style.height = \"200px\";\r\n\t\thtmlContainer.style.visibility = \"hidden\";\r\n\t\thtmlContainer.style.position = \"absolute\";\r\n\t\tdocument.body.appendChild(htmlContainer);\r\n\t\ttmpContainer = true;\r\n\t}\r\n\r\n\tif (htmlContainer) {\r\n\r\n\t\thtmlContainer.innerHTML = \"\";\r\n\t\t//htmlContainer.style.overflow = \"hidden\";\r\n\r\n\t\tlet svgDiv = new SVGContainer(htmlContainer);\r\n\t\tlet paper = new Paper(svgDiv.SVGContainer, \"svg-\" + (svgContainers.length - 1));\r\n\r\n\t\t// the approach with masks is chosen because overflow:visible is set on SVG element in order tooltips could go outside\r\n\t\t// svg area - this is often needed when working with small charts.\r\n\r\n\t\t// main container which holds content container and tooltips container\r\n\t\tlet container = new Container();\r\n\t\tcontainer.htmlContainer = htmlContainer;\r\n\t\tcontainer.svgContainer = svgDiv;\r\n\t\tcontainer.width = percent(100);\r\n\t\tcontainer.height = percent(100);\r\n\t\tcontainer.background.fillOpacity = 0;\r\n\t\tcontainer.paper = paper;\r\n\t\tpaper.append(container.group);\r\n\r\n\t\t// Set up moving to proper element container if it's not yet ready at call time\r\n\t\tif (tmpContainer) {\r\n\t\t\t$dom.ready(() => {\r\n\t\t\t\tcontainer.moveHtmlContainer(htmlElement);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// this is set from parent container, but this one doesn't have, so do it manually.\r\n\t\tcontainer.relativeWidth = 1;\r\n\t\tcontainer.relativeHeight = 1;\r\n\r\n\t\tsvgDiv.container = container;\r\n\r\n\t\t// creating classType instance\r\n\t\tlet sprite = container.createChild(classType);\r\n\t\tsprite.topParent = container;\r\n\t\tlet uid = sprite.uid;\r\n\r\n\t\tregistry.invalidSprites[uid] = [];\r\n\t\tregistry.invalidDatas[uid] = [];\r\n\t\tregistry.invalidPositions[uid] = [];\r\n\t\tregistry.invalidLayouts[uid] = [];\r\n\r\n\t\tcontainer.baseId = uid;\r\n\r\n\t\tsprite.isBaseSprite = true;\r\n\t\tsprite.focusFilter = new FocusFilter();\r\n\t\tregistry.baseSprites.push(sprite);\r\n\t\tregistry.baseSpritesByUid[uid] = sprite;\r\n\r\n\t\tsprite.maskRectangle = { x: 0, y: 0, width: Math.max(svgDiv.width || 0, 0), height: Math.max(svgDiv.height || 0, 0) };\r\n\r\n\t\t// this solves issues with display:none, as all children are measured as 0x0\r\n\t\tcontainer.events.on(\"maxsizechanged\", (event) => {\r\n\t\t\tif (event.previousWidth == 0 || event.previousHeight == 0) {\r\n\t\t\t\tcontainer.deepInvalidate();\r\n\t\t\t}\r\n\t\t\tif (sprite.maskRectangle) {\r\n\t\t\t\tsprite.maskRectangle = { x: 0, y: 0, width: Math.max(svgDiv.width || 0, 0), height: Math.max(svgDiv.height || 0, 0) };\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet loopTimer: number | null = null;\r\n\r\n\t\t// Checks to see whether the chart was properly disposed or not\r\n\t\tconst loop = () => {\r\n\t\t\tif (!sprite.isDisposed()) {\r\n\t\t\t\tif ($dom.getRoot(sprite.dom) == null) {\r\n\t\t\t\t\tif (options.autoDispose) {\r\n\t\t\t\t\t\tcontainer.htmlContainer = undefined;\r\n\t\t\t\t\t\tsvgDiv.htmlElement = undefined;\r\n\t\t\t\t\t\tsprite.dispose();\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$log.warn(\"Chart was not disposed\", sprite.uid);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tloopTimer = null;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloopTimer = window.setTimeout(loop, 1000);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tloopTimer = null;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tloop();\r\n\r\n\t\tsprite.addDisposer(new Disposer(() => {\r\n\t\t\tif (loopTimer !== null) {\r\n\t\t\t\tclearTimeout(loopTimer);\r\n\t\t\t}\r\n\t\t\t$array.remove(registry.baseSprites, sprite);\r\n\t\t\tregistry.baseSpritesByUid[sprite.uid] = undefined;\r\n\t\t}));\r\n\r\n\t\t// TODO figure out a better way of doing this\r\n\t\tsprite.addDisposer(container);\r\n\r\n\t\t// tooltip container\r\n\t\tlet tooltipContainer: Container = container.createChild(Container);\r\n\t\ttooltipContainer.topParent = container;\r\n\t\ttooltipContainer.width = percent(100);\r\n\t\ttooltipContainer.height = percent(100);\r\n\t\ttooltipContainer.isMeasured = false;\r\n\t\tcontainer.tooltipContainer = tooltipContainer;\r\n\r\n\t\tsprite.tooltip = new Tooltip();\r\n\t\tsprite.tooltip.hide(0);\r\n\t\tsprite.tooltip.setBounds({ x: 0, y: 0, width: tooltipContainer.maxWidth, height: tooltipContainer.maxHeight });\r\n\r\n\t\ttooltipContainer.events.on(\"maxsizechanged\", () => {\r\n\t\t\t$type.getValue(sprite.tooltip).setBounds({ x: 0, y: 0, width: tooltipContainer.maxWidth, height: tooltipContainer.maxHeight });\r\n\t\t}, undefined, false)\r\n\r\n\t\t//@todo: maybe we don't need to create one by default but only on request?\r\n\r\n\t\tlet preloader = new Preloader();\r\n\t\tpreloader.events.on(\"inited\", () => {\r\n\t\t\tpreloader.__disabled = true;\r\n\t\t}, undefined, false);\r\n\t\tcontainer.preloader = preloader;\r\n\r\n\t\t//if (!options.commercialLicense) {\r\n\t\tif (sprite instanceof Container && !sprite.hasLicense()) {\r\n\t\t\tlet logo = tooltipContainer.createChild(AmChartsLogo);\r\n\t\t\ttooltipContainer.events.on(\"maxsizechanged\", (ev) => {\r\n\t\t\t\tif ((tooltipContainer.maxWidth <= 100) || (tooltipContainer.maxHeight <= 50)) {\r\n\t\t\t\t\tlogo.hide();\r\n\t\t\t\t}\r\n\t\t\t\telse if (logo.isHidden || logo.isHiding) {\r\n\t\t\t\t\tlogo.show();\r\n\t\t\t\t}\r\n\t\t\t}, undefined, false);\r\n\t\t\tsprite.logo = logo;\r\n\t\t\tlogo.align = \"left\";\r\n\t\t\tlogo.valign = \"bottom\";\r\n\t\t}\r\n\r\n\t\t$utils.used(sprite.numberFormatter); // need to create one.\r\n\r\n\t\t// Set this as an autonomouse instance\r\n\t\t// Controls like Preloader, Export will use this.\r\n\t\tcontainer.isStandaloneInstance = true;\r\n\r\n\t\tif (options.onlyShowOnViewport) {\r\n\t\t\tif (!$dom.isElementInViewport(htmlContainer, options.viewportTarget)) {\r\n\t\t\t\tsprite.__disabled = true;\r\n\t\t\t\tsprite.tooltipContainer.__disabled = true;\r\n\r\n\t\t\t\tlet disposers = [\r\n\t\t\t\t\t$dom.addEventListener(window, \"DOMContentLoaded\", function() { viewPortHandler(sprite); }),\r\n\t\t\t\t\t$dom.addEventListener(window, \"load\", function() { viewPortHandler(sprite); }),\r\n\t\t\t\t\t$dom.addEventListener(window, \"resize\", function() { viewPortHandler(sprite); }),\r\n\t\t\t\t\t$dom.addEventListener(window, \"scroll\", function() { viewPortHandler(sprite); })\r\n\t\t\t\t];\r\n\r\n\t\t\t\tif (options.viewportTarget) {\r\n\t\t\t\t\tconst targets = $type.isArray(options.viewportTarget) ? options.viewportTarget : options.viewportTarget ? [options.viewportTarget] : [];\r\n\t\t\t\t\tfor (let i = 0; i < targets.length; i++) {\r\n\t\t\t\t\t\tconst target = targets[i];\r\n\t\t\t\t\t\tdisposers.push($dom.addEventListener(target, \"resize\", function() { viewPortHandler(sprite); }));\r\n\t\t\t\t\t\tdisposers.push($dom.addEventListener(target, \"scroll\", function() { viewPortHandler(sprite); }));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet disposer = new MultiDisposer(disposers);\r\n\r\n\t\t\t\tsprite.addDisposer(disposer);\r\n\t\t\t\tsprite.vpDisposer = disposer;\r\n\t\t\t}\r\n\t\t\telse if (options.queue) {\r\n\t\t\t\taddToQueue(sprite);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (options.queue) {\r\n\t\t\taddToQueue(sprite);\r\n\t\t}\r\n\r\n\t\treturn sprite;\r\n\t}\r\n\telse {\r\n\t\tsystem.log(\"html container not found\");\r\n\t\tthrow new Error(\"html container not found\");\r\n\t}\r\n}\r\n\r\n/**\r\n * Disposes all of the currently active charts.\r\n */\r\nexport function disposeAllCharts(): void {\r\n\twhile (registry.baseSprites.length !== 0) {\r\n\t\tregistry.baseSprites.pop().dispose();\r\n\t}\r\n}\r\n\r\nexport function addToQueue(sprite: Sprite) {\r\n\tif (registry.queue.indexOf(sprite) == -1) {\r\n\t\tsprite.__disabled = true;\r\n\t\tsprite.tooltipContainer.__disabled = true;\r\n\t\tsprite.events.disableType(\"appeared\");\r\n\r\n\t\tif (registry.queue.length == 0) {\r\n\t\t\tregistry.events.once(\"exitframe\", () => {\r\n\t\t\t\tqueueHandler(sprite);\r\n\t\t\t})\r\n\t\t\tsystem.requestFrame();\r\n\t\t}\r\n\r\n\t\tsprite.addDisposer(new Disposer(() => {\r\n\t\t\tremoveFromQueue(sprite);\r\n\t\t}))\r\n\r\n\t\tregistry.queue.push(sprite);\r\n\t}\r\n}\r\n\r\nexport function removeFromQueue(sprite: Sprite) {\r\n\tlet index = registry.queue.indexOf(sprite);\r\n\tif (index >= 0) {\r\n\t\tregistry.queue.splice(registry.queue.indexOf(sprite), 1);\r\n\t\tlet nextSprite = registry.queue[index];\r\n\t\tif (nextSprite) {\r\n\t\t\tqueueHandler(nextSprite);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function viewPortHandler(sprite: Sprite) {\r\n\tif (sprite.__disabled && $dom.isElementInViewport(sprite.htmlContainer, options.viewportTarget)) {\r\n\r\n\t\tif (sprite.vpDisposer) {\r\n\t\t\tsprite.vpDisposer.dispose();\r\n\t\t}\r\n\r\n\t\taddToQueue(sprite);\r\n\t}\r\n}\r\n\r\nexport function queueHandler(sprite: Sprite) {\r\n\tsprite.__disabled = false;\r\n\tsprite.tooltipContainer.__disabled = false;\r\n\tsprite.events.enableType(\"appeared\");\r\n\tsprite.dispatch(\"removedfromqueue\");\r\n\r\n\tif (sprite.showOnInit) {\r\n\t\tsprite.events.on(\"appeared\", () => {\r\n\t\t\tremoveFromQueue(sprite);\r\n\t\t})\r\n\t}\r\n\r\n\tif (sprite.vpDisposer) {\r\n\t\tsprite.vpDisposer.dispose();\r\n\t}\r\n\tif (sprite instanceof Container) {\r\n\t\tsprite.invalidateLabels();\r\n\t}\r\n\r\n\tif (sprite.tooltipContainer) {\r\n\t\tsprite.tooltipContainer.invalidateLayout();\r\n\t}\r\n\tif (sprite instanceof Component) {\r\n\t\tsprite.invalidateData();\r\n\t\tsprite.reinit();\r\n\r\n\t\tsprite.events.once(\"datavalidated\", () => {\r\n\t\t\tif (sprite.showOnInit) {\r\n\t\t\t\tsprite.appear();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tremoveFromQueue(sprite);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\tsprite.reinit();\r\n\t\tsprite.events.once(\"inited\", () => {\r\n\t\t\tremoveFromQueue(sprite);\r\n\t\t})\r\n\t\tif (sprite.showOnInit) {\r\n\t\t\tsprite.appear();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * A shortcut to creating a chart instance.\r\n *\r\n * The first argument is either a reference to or an id of a DOM element to be\r\n * used as a container for the chart.\r\n *\r\n * The second argument is the type reference of the chart type. (for plain\r\n * JavaScript users this can also be a string indicating chart type)\r\n *\r\n * ```TypeScript\r\n * let chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n * ```\r\n * ```JavaScript\r\n * // Can pass in chart type reference like this:\r\n * var chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n *\r\n * // ... or chart class type as a string:\r\n * var chart = am4core.create(\"chartdiv\", \"PieChart\");\r\n * ```\r\n *\r\n * @param htmlElement  Reference or id of the target container element\r\n * @param classType    Class type of the target chart type\r\n * @return Chart instance\r\n */\r\nexport function create<T extends Sprite>(htmlElement: $type.Optional<HTMLElement | string>, classType: { new(): T; }): T {\r\n\r\n\t// This is a nasty hack for the benefit of vanilla JS users, who do not\r\n\t// enjoy benefits of type-check anyway.\r\n\t// We're allowing passing in a name of the class rather than type reference\r\n\t// itself.\r\n\tlet classError: $type.Optional<Error>;\r\n\tif ($type.isString(classType)) {\r\n\t\tif ($type.hasValue(registry.registeredClasses[classType])) {\r\n\t\t\tclassType = registry.registeredClasses[classType];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tclassType = registry.registeredClasses[\"Container\"];\r\n\t\t\tclassError = new Error(\"Class [\" + classType + \"] is not loaded.\");\r\n\t\t}\r\n\t}\r\n\r\n\t// Create the chart\r\n\tlet chart = createChild(htmlElement, classType);\r\n\r\n\t// Error?\r\n\tif (classError) {\r\n\t\tchart.raiseCriticalError(classError);\r\n\t}\r\n\r\n\treturn chart;\r\n\r\n}\r\n\r\n/**\r\n * A shortcut to creating a chart from a config object.\r\n *\r\n * Example:\r\n *\r\n * ```TypeScript\r\n * let chart am4core.createFromConfig({ ... }, \"chartdiv\", am4charts.XYChart );\r\n * ```\r\n * ```JavaScript\r\n * var chart am4core.createFromConfig({ ... }, \"chartdiv\", \"XYChart\" );\r\n * ```\r\n *\r\n * If `chartType` parameter is not supplied it must be set in a config object,\r\n * via reference to chart type, e.g.:\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": am4charts.XYChart,\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": am4charts.XYChart,\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * Or via string: (if you are using JavaScript)\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * A `container` can either be a reference to an HTML container to put chart\r\n * in, or it's unique id.\r\n *\r\n * If `container` is not specified, it must be included in the config object:\r\n *\r\n * ```TypeScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   \"container\": \"chartdiv\",\r\n *   // ...\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * {\r\n *   \"type\": \"XYChart\",\r\n *   \"container\": \"chartdiv\",\r\n *   // ...\r\n * }\r\n * ```\r\n *\r\n * @param config       Config object in property/value pairs\r\n * @param htmlElement  Container reference or ID\r\n * @param objectType   Chart type\r\n * @return A newly created chart instance\r\n * @todo Throw exception if type is not correct\r\n */\r\nexport function createFromConfig(config: { [index: string]: any }, htmlElement?: string | HTMLElement, classType?: { new(): Sprite; } | string): Sprite {\r\n\r\n\t// Extract chart type from config if necessary\r\n\tif (!$type.hasValue(classType)) {\r\n\t\tclassType = config.type;\r\n\t\tdelete config.type;\r\n\t}\r\n\r\n\t// Extract element from config if necessary\r\n\tif (!$type.hasValue(htmlElement)) {\r\n\t\thtmlElement = config.container;\r\n\t\tdelete config.container;\r\n\t}\r\n\r\n\t// Check if we need to extract actual type reference\r\n\tlet finalType;\r\n\tlet classError: $type.Optional<Error>;\r\n\tif ($type.isString(classType) && $type.hasValue(registry.registeredClasses[classType])) {\r\n\t\tfinalType = registry.registeredClasses[classType];\r\n\t}\r\n\telse if (typeof classType !== \"function\") {\r\n\t\tfinalType = Container;\r\n\t\tclassError = new Error(\"Class [\" + classType + \"] is not loaded.\");\r\n\t}\r\n\telse {\r\n\t\tfinalType = classType;\r\n\t}\r\n\r\n\t// Create the chart\r\n\tlet chart = createChild(htmlElement, finalType);\r\n\r\n\t// Set config\r\n\tif (classError) {\r\n\t\tchart.raiseCriticalError(classError);\r\n\t}\r\n\telse {\r\n\t\tchart.config = config;\r\n\t}\r\n\r\n\treturn chart;\r\n\r\n}\r\n\r\n/**\r\n * Useful in creating real queues form mult-chart creation.\r\n *\r\n * Accepts a reference to a function which crates and returns actual chart\r\n * object.\r\n *\r\n * It returns a `Promise` which you can use to catch chart instance once it's\r\n * created.\r\n *\r\n * ```TypeScript\r\n * am4core.createDeferred(function(div) {\r\n *   // Create first chart\r\n *   let chart = am4core.create(div, am4charts.XYChart);\r\n *   // ...\r\n *   return chart;\r\n * }, \"chartdiv1\").then(chart) {\r\n *   // `chart` variable holds an instance of the chart\r\n *   console.log(\"Chart ready\", chart);\r\n * }\r\n *\r\n * am4core.createDeferred(function(div) {\r\n *   // Create second chart\r\n *   let chart = am4core.create(div, am4charts.PieChart);\r\n *   // ...\r\n *   return chart;\r\n * }, \"chartdiv2\").then(chart) {\r\n *   // `chart` variable holds an instance of the chart\r\n *   console.log(\"Chart ready\", chart);\r\n * }\r\n * ```\r\n * ```JavaScript\r\n * am4core.createDeferred(function(div) {\r\n *   // Create first chart\r\n *   var chart = am4core.create(div, am4charts.XYChart);\r\n *   // ...\r\n *   return chart;\r\n * }, \"chartdiv1\").then(chart) {\r\n *   // `chart` variable holds an instance of the chart\r\n *   console.log(\"Chart ready\", chart);\r\n * }\r\n *\r\n * am4core.createDeferred(function(div) {\r\n *   // Create second chart\r\n *   var chart = am4core.create(div, am4charts.PieChart);\r\n *   // ...\r\n *   return chart;\r\n * }, \"chartdiv2\").then(chart) {\r\n *   // `chart` variable holds an instance of the chart\r\n *   console.log(\"Chart ready\", chart);\r\n * }\r\n * ```\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/performance/#Deferred_daisy_chained_instantiation} for more information\r\n * @since 4.10.0\r\n * @param  callback  Callback function that creates chart\r\n * @param  scope     Scope to call callback in\r\n * @param  ...rest   Parameters to pass into callback\r\n * @return           Promise with chart instance\r\n */\r\nexport function createDeferred(callback: (...args: Array<any>) => Sprite, scope?: any, ...rest: Array<any>): Promise<Sprite> {\r\n\treturn new Promise<Sprite>((resolve, reject) => {\r\n\t\tregistry.deferred.push({\r\n\t\t\tscope: scope,\r\n\t\t\tcallback: callback,\r\n\t\t\targs: rest,\r\n\t\t\tresolve: resolve\r\n\t\t});\r\n\t\tif (registry.deferred.length == 1) {\r\n\t\t\tprocessNextDeferred();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction processNextDeferred(): void {\r\n\tlet next = registry.deferred[0];\r\n\tif (next) {\r\n\t\tlet sprite = next.callback.call(next.scope, ...next.args);\r\n\t\tsprite.events.on(\"ready\", () => {\r\n\t\t\tnext.resolve(sprite);\r\n\t\t\tregistry.deferred.shift();\r\n\t\t\tif (options.deferredDelay) {\r\n\t\t\t\tsetTimeout(processNextDeferred, options.deferredDelay);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tprocessNextDeferred();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * Applies a theme to System, and subsequently all chart instances created\r\n * from that point forward.\r\n *\r\n * amCharts supports multiple themes. Calling `useTheme` multiple times will\r\n * make the System apply multiple themes, rather than overwrite previously\r\n * set one.\r\n *\r\n * This enables combining features from multiple themes on the same chart.\r\n * E.g.:\r\n *\r\n * ```TypeScript\r\n * am4core.useTheme(am4themes.material);\r\n * am4core.useTheme(am4themes.animated);\r\n * ```\r\n * ```JavaScript\r\n * am4core.useTheme(am4themes.material);\r\n * am4core.useTheme(am4themes.animated);\r\n * ```\r\n *\r\n * The above will apply both the Material color and animation options to all\r\n * charts created.\r\n *\r\n * @param value  A reference to a theme\r\n */\r\nexport function useTheme(value: ITheme): void {\r\n\tif (registry.themes.indexOf(value) === -1) {\r\n\t\tregistry.themes.push(value);\r\n\t}\r\n}\r\n\r\n/**\r\n * Removes a theme from \"active themes\" list, so it won't get applied to any\r\n * charts created subsequently.\r\n *\r\n * @param value  A reference to a theme\r\n */\r\nexport function unuseTheme(value: ITheme): void {\r\n\t$array.remove(registry.themes, value);\r\n}\r\n\r\n/**\r\n * Removes all \"active\" themes. Any charts created subsequently will not have\r\n * any theme applied to them.\r\n */\r\nexport function unuseAllThemes(): void {\r\n\tregistry.themes = [];\r\n}\r\n\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am4core.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am4core.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @since 4.5.16\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license: string): void {\r\n\toptions.licenses.push(license);\r\n}\r\n"],"sourceRoot":""}