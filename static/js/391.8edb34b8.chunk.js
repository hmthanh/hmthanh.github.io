/*! For license information please see 391.8edb34b8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhmthanh_github_io=self.webpackChunkhmthanh_github_io||[]).push([[391],{27391:function(t,e,i){i.r(e),i.d(e,{Graticule:function(){return Er},GraticuleSeries:function(){return Br},GraticuleSeriesDataItem:function(){return zr},HeatLegend:function(){return rt},Legend:function(){return S},LegendDataItem:function(){return L},LegendSettings:function(){return w},MapArc:function(){return Yr},MapArcSeries:function(){return $r},MapArcSeriesDataItem:function(){return qr},MapChart:function(){return Zr},MapChartDataItem:function(){return Wr},MapImage:function(){return Ze},MapImageSeries:function(){return Vr},MapImageSeriesDataItem:function(){return Sr},MapLine:function(){return jr},MapLineObject:function(){return wr},MapLineSeries:function(){return Dr},MapLineSeriesDataItem:function(){return kr},MapObject:function(){return We},MapPolygon:function(){return gi},MapPolygonSeries:function(){return yi},MapPolygonSeriesDataItem:function(){return mi},MapSeries:function(){return Be},MapSeriesDataItem:function(){return ze},MapSpline:function(){return Xr},MapSplineSeries:function(){return Kr},MapSplineSeriesDataItem:function(){return Ur},Projection:function(){return br},SmallMap:function(){return _r},ZoomControl:function(){return Jr},d3geo:function(){return o},geo:function(){return n},getBackground:function(){return fi},getCircle:function(){return di},multiGeoLineToMultiLine:function(){return pi},multiGeoPolygonToMultipolygon:function(){return ci},multiGeoToPoint:function(){return li},multiLineToGeo:function(){return ai},multiPointToGeo:function(){return si},multiPolygonToGeo:function(){return oi},pointToGeo:function(){return ui},projections:function(){return r}});var n={};i.r(n),i.d(n,{geoToPoint:function(){return Lr},normalizeMultiline:function(){return Cr},normalizePoint:function(){return Mr},wrapAngleTo180:function(){return Tr}});var r={};i.r(r),i.d(r,{Albers:function(){return ko},AlbersUsa:function(){return Eo},AzimuthalEqualArea:function(){return zo},Eckert6:function(){return xo},EqualEarth:function(){return pa},Mercator:function(){return no},Miller:function(){return vo},NaturalEarth1:function(){return Go},Orthographic:function(){return To},Projection:function(){return br},Stereographic:function(){return So}});var o={};i.r(o),i.d(o,{geoAlbers:function(){return jo},geoAlbersUsa:function(){return Do},geoArea:function(){return Pe},geoAzimuthalEqualArea:function(){return Fo},geoAzimuthalEqualAreaRaw:function(){return Ro},geoAzimuthalEquidistant:function(){return Ea},geoAzimuthalEquidistantRaw:function(){return Da},geoBounds:function(){return Fe},geoCentroid:function(){return Ma},geoCircle:function(){return ri},geoClipAntimeridian:function(){return Ei},geoClipCircle:function(){return Ni},geoClipExtent:function(){return Ca},geoClipRectangle:function(){return Ri},geoConicConformal:function(){return Ga},geoConicConformalRaw:function(){return Aa},geoConicEqualArea:function(){return Oo},geoConicEqualAreaRaw:function(){return Io},geoConicEquidistant:function(){return Fa},geoConicEquidistantRaw:function(){return Ra},geoContains:function(){return ka},geoDistance:function(){return vr},geoEqualEarth:function(){return Yo},geoEqualEarthRaw:function(){return Qo},geoEquirectangular:function(){return un},geoEquirectangularRaw:function(){return ln},geoGnomonic:function(){return Ba},geoGnomonicRaw:function(){return za},geoGraticule:function(){return Rr},geoGraticule10:function(){return Fr},geoIdentity:function(){return Wa},geoInterpolate:function(){return hr},geoLength:function(){return gr},geoMercator:function(){return eo},geoMercatorRaw:function(){return to},geoNaturalEarth1:function(){return Ao},geoNaturalEarth1Raw:function(){return No},geoOrthographic:function(){return Co},geoOrthographicRaw:function(){return Mo},geoPath:function(){return ur},geoProjection:function(){return an},geoProjectionMutator:function(){return sn},geoRotation:function(){return ei},geoStereographic:function(){return wo},geoStereographicRaw:function(){return Lo},geoStream:function(){return qt},geoTransform:function(){return zi},geoTransverseMercator:function(){return Ha},geoTransverseMercatorRaw:function(){return Za}});var a=i(11779),s=i(8890),l=i(77953),u=i(99270),h=i(85507),p=i(14149),c=i(61246),d=i(61687),f=i(94894),g=i(65015),m=i(13987),y=i(17888),v=i(94733),b=i(40242),x=i(67806),P=i(22026),_=i(25974),M=i(71578),C=i(69529),T=i(9317),L=function(t){function e(){var e=t.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"label",{get:function(){var t=this;if(!this._label){var e=this.component.labels.create();this._label=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new _.ku((function(){b.hasValue(t.component)&&t.component.labels.removeValue(e)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.setProperty("color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueLabel",{get:function(){var t=this;if(!this._valueLabel){var e=this.component.valueLabels.create();this._valueLabel=e,this.addSprite(e),this._disposers.push(e),e.parent=this.itemContainer,this._disposers.push(new _.ku((function(){b.hasValue(t.component)&&t.component.valueLabels.removeValue(e)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemContainer",{get:function(){var t=this;if(!this._itemContainer){var e=this.component,i=e.itemContainers.create();i.parent=e,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(t){e.toggleDataItem(t.target.dataItem)}),void 0,!1),i.focusable&&(i.events.on("hit",(function(t){e.focusedItem=void 0}),void 0,!1),i.events.on("focus",(function(t){e.focusedItem=t.target.dataItem}),void 0,!1),i.events.on("blur",(function(t){e.focusedItem=void 0}),void 0,!1)),this._disposers.push(new _.ku((function(){b.hasValue(t.component)&&t.component.itemContainers.removeValue(i)}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var n=this.dataContext;if((n instanceof l.z||n instanceof P.jy)&&!n.isDisposed()){var r=function(t){i.readerChecked=t.visible,i.events.disableType("toggled"),i.isActive=!t.visible,i.events.enableType("toggled")};n.addDisposer(new _.ku((function(){t.component&&t.component.dataItems.remove(t)}))),n instanceof P.jy?(i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1)),i.addDisposer(n.events.on("hidden",(function(t){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")}),void 0,!1)),i.addDisposer(n.events.on("shown",(function(t){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")}),void 0,!1))):i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marker",{get:function(){var t=this;if(!this._marker){var e=this.component.markers.create();this._marker=e,e.parent=this.itemContainer,this.addSprite(e),this._disposers.push(e),this._disposers.push(new _.ku((function(){b.hasValue(t.component)&&t.component.markers.removeValue(e)})))}return this._marker},enumerable:!0,configurable:!0}),e}(l.z),w=function(){this.createMarker=!0},S=function(t){function e(){var e=t.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new p.W;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=M.c.pointer,i.background.fillOpacity=0,e.itemContainers=new u.o(i),e._disposers.push(new u.zQ(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push((0,g.S)().body.events.on("keyup",(function(t){if(d.d.isKey(t.event,"enter")&&e.focusedItem){var i=e.focusedItem,n=i.itemContainer;n.togglable?e.toggleDataItem(i):n.clickable&&n.events.isEnabled("hit")&&(n.dispatchImmediately("hit",{event:t}),e.focusedItem=i)}}),e));var n=new y.h,r=new p.W;r.width=23,r.height=23,r.interactionsEnabled=!1,r.applyOnClones=!0,r.setStateOnChildren=!0,r.background.fillOpacity=0,r.background.strokeOpacity=0,r.propertyFields.fill="fill",r.valign="middle";var o=n.getFor("disabledBackground");r.events.on("childadded",(function(t){var e=t.newValue.states.create("active");e.properties.stroke=o,e.properties.fill=o})),e.markers=new u.o(r),e._disposers.push(new u.zQ(e.markers)),e._disposers.push(e.markers.template);var a=r.createChild(h.c);a.width=(0,m.aQ)(100),a.height=(0,m.aQ)(100),a.applyOnClones=!0,a.propertyFields.fill="fill",a.strokeOpacity=0;var s=new c._;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=n.getFor("disabledBackground"),e.labels=new u.o(s),e._disposers.push(new u.zQ(e.labels)),e._disposers.push(e.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var l=new c._;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=n.getFor("disabledBackground"),l.interactionsEnabled=!1,e.valueLabels=new u.o(l),e._disposers.push(new u.zQ(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},e.prototype.createDataItem=function(){return new L},e.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),t.prototype.validateDataElements.call(this)},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e);var i=e.itemContainer,n=e.marker;v.used(e.label);var r=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var o=e.label.maxWidth;e.label.width instanceof m.gG||(e.label.width=void 0),o>0&&(e.label.maxWidth=o),"right"==r.align&&(r.width=void 0);var a=e.dataContext.legendSettings,s=e.dataContext;!s.createLegendMarker||this.useDefaultMarker&&s instanceof P.jy?this.markers.template.propertyFields.fill=void 0:e.childrenCreated||(s.createLegendMarker(n),e.childrenCreated=!0),s.updateLegendValue&&s.updateLegendValue(),s.component&&s.component.updateLegendValue&&s.component.updateLegendValue(s),r.invalid&&r.validate(),""==r.text||void 0==r.text?r.__disabled=!0:r.__disabled=!1,!a||void 0==a.itemValueText&&void 0==a.valueText||(r.__disabled=!1);var l=e.dataContext.visible;void 0===l&&(l=!0),l=b.toBoolean(l),e.dataContext.visible=l,i.events.disableType("toggled"),i.isActive=!l,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},e.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),n=0;this.labels.each((function(t){t.invalid&&(t.maxWidth=void 0,t.validate()),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>n&&(n=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var r=0;this.valueLabels.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>r&&(r=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var o=0;this.markers.each((function(t){t.invalid&&t.validate(),t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight>o&&(o=t.measuredWidth+t.pixelMarginLeft+t.pixelMarginRight)}));var a,s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,u=n+r+o;b.isNumber(i)?((i-=l)>u&&(i=u),a=i-o-r):a=n,this.labels.each((function(t){("right"==e.valueLabels.template.align||t.measuredWidth>a)&&(t.width instanceof m.gG||(t.width=Math.min(t.maxWidth,a-t.pixelMarginLeft-t.pixelMarginRight),t.maxWidth=t.width))})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(t){t.width=r-t.pixelMarginRight-t.pixelMarginLeft})),t.prototype.afterDraw.call(this)},e.prototype.handleScrollbar=function(){var t=this.scrollbar;this.scrollable&&t&&(t.height=this.measuredHeight,t.x=this.measuredWidth-t.pixelWidth-t.pixelMarginLeft,this.contentHeight>this.measuredHeight?(t.visible=!0,t.thumb.height=t.height*this.measuredHeight/this.contentHeight,this.paddingRight=t.pixelWidth+t.pixelMarginLeft+ +t.pixelMarginRight):t.visible=!1,t.handleThumbPosition(),this.updateMasks())},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t)&&("left"==t||"right"==t?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",b.isNumber(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=(0,m.aQ)(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(t){this.setPropertyValue("useDefaultMarker",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(t){if(this.setPropertyValue("scrollable",t,!0))if(t){var e=this.createChild(T.L);this.scrollbar=e,e.isMeasured=!1,e.orientation="vertical",e.endGrip.__disabled=!0,e.startGrip.__disabled=!0,e.visible=!1,e.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(e.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){var e=t.shift.y,i=this.scrollbar;if(i){var n=e/1e3*this.measuredHeight/this.contentHeight,r=i.end-i.start;e>0?(i.start=x.max(0,i.start-n),i.end=i.start+r):(i.end=x.min(1,i.end-n),i.start=i.end-r)}},e.prototype.updateMasks=function(){var t=this;this.scrollbar&&this.itemContainers.each((function(e){e.dy=-t.scrollbar.thumb.pixelY*t.contentHeight/t.measuredHeight,e.maskRectangle={x:0,y:-e.dy,width:t.measuredWidth,height:t.measuredHeight}}))},e.prototype.toggleDataItem=function(t){var e=t.dataContext;!e.visible||e.isHiding||e instanceof P.jy&&e.isHidden?(t.color=t.colorOrig,e.appeared=!0,t.itemContainer.isActive=!1,!0===e.hidden&&(e.hidden=!1),e.show?e.show():e.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,t.label.readerTitle))):(t.itemContainer.isActive=!0,e.appeared=!0,e.hide?e.hide():e.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,t.label.readerTitle)),t.color=(new y.h).getFor("disabledBackground"))},Object.defineProperty(e.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.handleDataItemPropertyChange=function(t,e){t.valueLabel.invalidate(),t.label.invalidate()},e}(s.w);f.i.registeredClasses.Legend=S,C.IH.push({relevant:C.Xf.widthXS,state:function(t,e){if(t instanceof S&&("left"==t.position||"right"==t.position)){var i=t.states.create(e);return i.properties.position="bottom",i}return null}}),C.IH.push({relevant:C.Xf.heightXS,state:function(t,e){if(t instanceof S&&("top"==t.position||"bottom"==t.position)){var i=t.states.create(e);return i.properties.position="right",i}return null}}),C.IH.push({relevant:C.Xf.isXS,state:function(t,e){if(t instanceof S){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var V=i(81497),I=i(99929),O=i(46618),j=function(t){function e(){var e=t.call(this)||this;e._axis=new _.cx,e.dataItems=new u.aV,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new y.h,n=new O.$;n.fill=i.getFor("background"),n.stroke=(0,I.$_)(),n.fillOpacity=.9,n.zIndex=0,e._fillShape=n;var r=new O.$;r.fill=(0,I.$_)(),r.stroke=i.getFor("grid"),r.strokeOpacity=.3,r.zIndex=1,e._startLine=r;var o=new O.$;return o.fill=(0,I.$_)(),o.stroke=(0,I.$_)("#000000"),o.strokeOpacity=.3,o.zIndex=2,e._endLine=o,e._disposers.push(e._axis),e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(e.prototype,"startLine",{get:function(){return this._startLine},set:function(t){this._startLine&&this._startLine.dispose(),this._startLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLine",{get:function(){return this._endLine},set:function(t){this._endLine&&this._endLine.dispose(),this._endLine=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillShape",{get:function(){return this._fillShape},set:function(t){this._fillShape&&this._fillShape.dispose(),this._fillShape=t,this.addBreakSprite(t)},enumerable:!0,configurable:!0}),e.prototype.addBreakSprite=function(t){t.parent=this,t.isMeasured=!1,this._disposers.push(t)},Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis.get()},set:function(t){if(this._axis.get()!==t){this._axis.set(t,t.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),t.renderer.createBreakSprites(this);var e=t.axisBreaks.template;this.startLine.copyFrom(e.startLine),this.endLine.copyFrom(e.endLine),this.fillShape.copyFrom(e.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(t){this.setPropertyValue("breakSize",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){var t=this.axis.renderer;if(t)return t.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.draw=function(){(t.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(e.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(t){this.setPropertyValue("startValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(t){this.setPropertyValue("endValue",t)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e}(p.W);f.i.registeredClasses.AxisBreak=j;var k,D=i(7109),E=i(59358),N=i(181),A=i(31518),G=i(80550),R=function(t){function e(){var e=t.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.grid).disabled)return;e=i.clone()}else{if((i=t.renderer.grid.template).disabled)return;e=t.renderer.grid.create(),this._disposers.push(new _.ku((function(){t.renderer.grid.removeValue(e)})))}this.grid=e,e.shouldClone=!1,this._disposers.push(e),e.axis=this.component}}return this._grid},set:function(t){this._grid&&this._grid!=t&&(G.remove(this.sprites,this._grid),this._grid.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(G.remove(t.dataItem.sprites,t),t.dataItem.grid=void 0),this.addSprite(t)),this._grid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){if(!this._tick){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.tick).disabled)return;e=i.clone()}else{if((i=t.renderer.ticks.template).disabled)return;e=t.renderer.ticks.create(),this._disposers.push(new _.ku((function(){t.renderer.ticks.removeValue(e)})))}this.tick=e,e.axis=this.component,e.shouldClone=!1,this._disposers.push(e)}}return this._tick},set:function(t){this._tick&&this._tick!=t&&(G.remove(this.sprites,this._tick),this._tick.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(G.remove(t.dataItem.sprites,t),t.dataItem.tick=void 0),this.addSprite(t)),this._tick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){if(!this._label){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if((i=t.axisRanges.template.label).disabled)return;e=i.clone()}else{if((i=t.renderer.labels.template).disabled)return;e=t.renderer.labels.create(),this._disposers.push(new _.ku((function(){t.renderer.labels.removeValue(e)})))}this._disposers.push(e),this.label=e,e.shouldClone=!1,e.axis=this.component,e.virtualParent=t}}return this._label},set:function(t){this._label&&this._label!=t&&(G.remove(this.sprites,this._label),this._label.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(G.remove(t.dataItem.sprites,t),t.dataItem.label=void 0),this.addSprite(t)),this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisFill",{get:function(){if(!this._axisFill){var t=this.component;if(t){var e,i=void 0;if(this.isRange){if(i=t.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;e=i.clone()}else{if((i=t.renderer.axisFills.template).disabled)return;e=t.renderer.axisFills.create(),this._disposers.push(new _.ku((function(){t.renderer.axisFills.removeValue(e)})))}this.axisFill=e,e.shouldClone=!1,this._disposers.push(e)}}return this._axisFill},set:function(t){this._axisFill&&this._axisFill!=t&&(G.remove(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),t&&(t.dataItem&&t.dataItem!=this&&(G.remove(t.dataItem.sprites,t),t.dataItem.axisFill=void 0),t.axis=this.component,this.addSprite(t)),this._axisFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this._label&&(this._label.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contents",{get:function(){if(!this._contents){var t=new p.W;this.addSprite(t),t.isMeasured=!1,this._contents=t;var e=this.component;if(e){var i=e.renderer.createFill(this.component);i.disabled=!1,i.axis=e,this.addSprite(i),this._mask=i,t.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(t){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),t&&t.dataItems.push(this),this._axisBreak=t},enumerable:!0,configurable:!0}),e.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},e.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},e.prototype.hasProperty=function(e){return"component"==e||t.prototype.hasProperty.call(this,e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},e.prototype.setVisibility=function(e,i){t.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(e.prototype,"bullet",{get:function(){return this._bullet},set:function(t){this._bullet&&this._bullet!=t&&(G.remove(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=t,t&&this.addSprite(t)},enumerable:!0,configurable:!0}),e}(l.z);!function(t){t[t.Start=0]="Start",t[t.Middle=.5]="Middle",t[t.End=1]="End"}(k||(k={}));var F=function(t){function e(){var i=t.call(this)||this;if(i._gridCount=10,i._series=new u.aV,i.autoDispose=!0,i._axisItemCount=0,i.constructor===e)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0,i.zoomable=!0;var n=new y.h;i.title=new c._,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new N.ListIterator(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var r=new D.u;i._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=i;var o=r.background;return o.cornerRadius=0,o.fill=n.getFor("alternativeBackground"),o.stroke=o.fill,o.strokeWidth=1,o.fillOpacity=1,r.label.fill=n.getFor("alternativeText"),i.tooltip=r,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!0)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(t){t.hideTooltipWhileZooming&&(t.tooltip.hide(),t.tooltip.preventShow=!1)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)}),void 0,!1),i.applyTheme(),i}return(0,a.ZT)(e,t),e.prototype.fillRule=function(t,e){b.isNumber(e)||(e=t.index),e/2==Math.round(e/2)?(t.axisFill.__disabled=!0,t.axisFill.opacity=0):(t.axisFill.opacity=1,t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new R},e.prototype.invalidateLayout=function(){t.prototype.invalidateLayout.call(this),N.each(this.series.iterator(),(function(t){t.invalidateLayout()}))},e.prototype.invalidateSeries=function(){N.each(this.series.iterator(),(function(t){t.invalidate()}))},e.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},e.prototype.updateGridCount=function(){if(this.renderer){var t=this.axisLength/this.renderer.minGridDistance;t!=this._gridCount&&(this._gridCount=t,this.clearCache())}},e.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),t.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},e.prototype.initRenderer=function(){},e.prototype.appendDataItem=function(t){var e=this.renderer,i=t.tick;i&&(i.above?i.parent=e.bulletsContainer:i.parent=e.gridContainer),t.label&&(t.label.parent=e);var n=t.axisFill;n&&(n.above?n.parent=e.bulletsContainer:n.parent=e.gridContainer);var r=t.grid;r&&(r.above?r.parent=e.bulletsContainer:r.parent=e.gridContainer),t.bullet&&(t.bullet.parent=e.bulletsContainer)},e.prototype.validate=function(){t.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},e.prototype.validateAxisRanges=function(){var t=this;N.each(this.axisRanges.iterator(),(function(e){t.appendDataItem(e),t.validateDataElement(e),e.grid&&e.grid.validate(),e.tick&&e.tick.validate(),e.axisFill&&e.axisFill.validate(),e.label&&e.label.validate()}))},e.prototype.validateBreaks=function(){this._axisBreaks&&N.each(this._axisBreaks.iterator(),(function(t){t.invalidate()}))},e.prototype.processBreak=function(t){var e=t.newValue;e.parent=this.renderer.breakContainer,e.axis=this},e.prototype.registerSeries=function(t){var e=this;return this.series.moveValue(t),new _.FV([new _.ku((function(){e.series.removeValue(t)})),this.events.on("lengthchanged",t.invalidate,t,!1),this.events.on("lengthchanged",t.createMask,t,!1),this.events.on("startchanged",t.invalidate,t,!1),this.events.on("endchanged",t.invalidate,t,!1)])},Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},set:function(t){if(t!=this._renderer){this._renderer=t,t.chart=this.chart,t.axis=this,t.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(t.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var e=this.renderer.labels.create();this._disposers.push(e),e.dataItem=this.dataItems.template.clone(),e.text="L",e.parent=this.renderer,e.shouldClone=!1,e.fillOpacity=0,e.opacity=0,e.strokeOpacity=0,e.interactionsEnabled=!1,e.validate(),this.ghostLabel=e,this.events.on("beforedatavalidated",(function(){e.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),e.prototype.positionToAngle=function(t){return this.renderer.positionToAngle(t)},e.prototype.pointToPosition=function(t){return this.renderer.pointToPosition(t)},e.prototype.positionToCoordinate=function(t){return this.renderer.positionToCoordinate(t)},e.prototype.getAnyRangePath=function(t,e){return this.renderer.getPositionRangePath(t,e)},e.prototype.anyToPosition=function(t){return 0},e.prototype.anyToPoint=function(t){return{x:0,y:0,angle:0}},e.prototype.getPositionRangePath=function(t,e){return this.renderer?this.renderer.getPositionRangePath(t,e):""},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)&&(t&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(t){this.setPropertyValue("toggleZoomOutButton",t)},enumerable:!0,configurable:!0}),e.prototype.hideTooltip=function(e){t.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(e||(t=this.toAxisPosition(t)),!b.isNumber(t)||t<this.start||t>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var n=this.renderer;i.parent||(i.parent=this.tooltipContainer);var r=n.tooltipLocation,o=this.getCellStartPosition(t),a=this.getCellEndPosition(t);if("fixed"==this.tooltipPosition&&(t=o+(a-o)*r),t=x.fitToRange(t,this.start,this.end),this._tooltipPosition!=t){this._tooltipPosition=t;var s=n.tooltipLocation2,l=n.positionToPoint(o,s),u=n.positionToPoint(a,s);this.currentItemStartPoint=l,this.currentItemEndPoint=u,n.fullWidthTooltip&&(i.width=u.x-l.x,i.height=u.y-l.y);var h=n.positionToPoint(t,s),p=v.spritePointToSvg(h,this.renderer.line);i.text=this.getTooltipText(t),i.text&&(i.delayedPointTo(p),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},e.prototype.toAxisPosition=function(t){if(void 0!=(t=this.renderer.toAxisPosition(t)))return t*=this.end-this.start,t=this.renderer.inversed?this.end-t:this.start+t},e.prototype.toGlobalPosition=function(t){return this.renderer.inversed?t=this.end-t:t-=this.start,t/(this.end-this.start)},e.prototype.getTooltipText=function(t){},e.prototype.updateTooltip=function(t,e){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=t,i.setBounds(v.spriteRectToSvg(e,this.renderer.line)))},e.prototype.roundPosition=function(t,e,i){return t},e.prototype.getCellStartPosition=function(t){return t},e.prototype.getCellEndPosition=function(t){return t},Object.defineProperty(e.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var t=this.createDataItem();t.isRange=!0,t.axisFill=this.renderer.axisFills.template.clone(),t.grid=this.renderer.grid.template.clone(),t.tick=this.renderer.ticks.template.clone(),t.label=this.renderer.labels.template.clone(),t.isTemplate=!0,t.component=this,t.axisFill.disabled=!1,t.tick.disabled=!1,t.grid.disabled=!1,t.label.disabled=!1,this._axisRanges=new u.o(t),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new u.zQ(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),e.prototype.processAxisRange=function(t){var e=t.newValue;e.component=this,e.isRange=!0},Object.defineProperty(e.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new E.Rj(this.createAxisBreak(),(function(t,e){return A.order(t.adjustedStartValue,e.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new u.zQ(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),e.prototype.createAxisBreak=function(){return new j},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.aV),this._series},enumerable:!0,configurable:!0}),e.prototype.processSeriesDataItems=function(){},e.prototype.processSeriesDataItem=function(t,e){},e.prototype.postProcessSeriesDataItems=function(t){},e.prototype.postProcessSeriesDataItem=function(t){},e.prototype.updateAxisBySeries=function(){},e.prototype.hideUnusedDataItems=function(){var t=this,e=this._dataItemsIterator;e.createNewItems=!1,N.each(e.iterator(),(function(e){t.validateDataElement(e),e.__disabled=!0})),e.clear(),e.createNewItems=!0},e.prototype.getSeriesDataItem=function(t,e,i){},e.prototype.getAngle=function(t,e,i,n,r){},e.prototype.getX=function(t,e,i,n,r){},e.prototype.getPositionX=function(t,e,i,n,r){},e.prototype.getY=function(t,e,i,n,r){},e.prototype.getPositionY=function(t,e,i,n,r){},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.dataChangeUpdate=function(){},e.prototype.seriesDataChangeUpdate=function(t){},e.prototype.adjustDifference=function(t,e){var i=e-t;if(b.isNumber(i))return this._axisBreaks&&N.eachContinue(this._axisBreaks.iterator(),(function(n){var r=n.adjustedStartValue,o=n.adjustedEndValue;if(b.isNumber(r)&&b.isNumber(o)){if(r>e)return!1;if(o>=t&&b.isNumber(r)&&b.isNumber(o)){var a=n.breakSize,s=x.intersection({start:r,end:o},{start:t,end:e});s&&(i-=(s.end-s.start)*(1-a))}return!0}})),i},e.prototype.isInBreak=function(t){if(this._axisBreaks)return N.find(this._axisBreaks.iterator(),(function(e){return t>=e.adjustedStartValue&&t<=e.adjustedEndValue}))},e.prototype.fixAxisBreaks=function(){var t=this;if(this._axisBreaks){var e=this._axisBreaks;if(e.length>0){G.each(N.toArray(e.iterator()),(function(e){var i=x.min(e.startValue,e.endValue),n=x.max(e.startValue,e.endValue);e.adjustedStartValue=i,e.adjustedEndValue=n,t._axisBreaks.update(e)}));var i=e.first,n=Math.min(i.startValue,i.endValue);N.each(e.iterator(),(function(t){var e=t.adjustedStartValue,i=t.adjustedEndValue;e<n&&(e=n,i<n&&(i=n)),t.adjustedStartValue=e,t.adjustedEndValue=i}))}}},Object.defineProperty(e.prototype,"startIndex",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.getPositionLabel=function(t){return Math.round(100*t)+"%x"},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.createSeriesRange=function(t){var e=this.axisRanges.create();return e.component=this,e.axisFill=this.renderer.axisFills.template.clone(),e.axisFill.disabled=!1,e.axisFill.fillOpacity=0,e.grid=this.renderer.grid.template.clone(),e.grid.disabled=!0,e.tick=this.renderer.ticks.template.clone(),e.tick.disabled=!0,e.label=this.renderer.labels.template.clone(),e.label.disabled=!0,e.addDisposer(new _.ku((function(){t.axisRanges.removeValue(e)}))),t.axisRanges.push(e),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},e.prototype.resetIterators=function(){this._dataItemsIterator.reset()},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.axisRanges)&&b.isArray(e.axisRanges))for(var i=0,n=e.axisRanges.length;i<n;i++){var r=e.axisRanges[i];b.hasValue(r.series)&&b.isString(r.series)&&this.map.hasKey(r.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(r.series)),delete r.series,e.axisRanges[i].config=r)}t.prototype.processConfig.call(this,e)},e.prototype.configOrder=function(e,i){return e==i?0:"title"==e?1:"title"==i||"component"==e?-1:"component"==i?1:t.prototype.configOrder.call(this,e,i)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this._title!=t&&this._title.dispose(),t&&(this._title=t,t.parent=this,t.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(t){this.setPropertyValue("zoomable",t)},enumerable:!0,configurable:!0}),e}(s.w);f.i.registeredClasses.Axis=F,f.i.registeredClasses.AxisDataItem=R,C.IH.push({relevant:C.Xf.maybeXS,state:function(t,e){if(t instanceof F&&t.tooltip){var i=t.states.create(e);return i.properties.cursorTooltipEnabled=!1,i}return null}});var z=function(t){function e(){var e=t.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new y.h;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=(0,I.$_)(),e.applyTheme(),e.interactionsEnabled=!1,e}return(0,a.ZT)(e,t),e}(P.jy);f.i.registeredClasses.AxisLine=z;var B=function(t){function e(e){var i=t.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var n=new y.h;return i.fill=n.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return(0,a.ZT)(e,t),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e.prototype.draw=function(){t.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&b.isNumber(this.startPosition)&&b.isNumber(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this.element.attr({d:t}),!0)},Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e}(P.jy);f.i.registeredClasses.AxisFill=B;var W=function(t){function e(){var e=t.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new y.h;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=(0,I.$_)(),e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(P.jy);f.i.registeredClasses.Grid=W,C.IH.push({relevant:C.Xf.maybeXS,state:function(t,e){if(t instanceof W){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var Z=function(t){function e(){var e=t.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(c._);f.i.registeredClasses.AxisLabel=Z;var H=function(t){function e(){var e=t.call(this)||this;e.className="Tick";var i=new y.h;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(t){this.setPropertyValue("length",t,!0)},enumerable:!0,configurable:!0}),e}(P.jy);f.i.registeredClasses.Tick=H;var X=function(t){function e(){var e=t.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(H);f.i.registeredClasses.AxisTick=X;var Q=function(t){function e(){var e=t.call(this)||this;e._chart=new _.cx,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(p.W);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=(0,m.aQ)(100),i.height=(0,m.aQ)(100),e.gridContainer=i,i.events.on("maxsizechanged",(function(){e.inited&&e.invalidateAxisItems()}),e,!1);var n=e.createChild(p.W);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=(0,m.aQ)(100),n.height=(0,m.aQ)(100),e.breakContainer=n;var r=e.createChild(p.W);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=(0,m.aQ)(100),r.height=(0,m.aQ)(100),e.bulletsContainer=r,e.line=e.createChild(z),e.line.shouldClone=!1,e.line.strokeOpacity=0;var o=e.createChild(W);o.shouldClone=!1,e.baseGrid=o;var a=e._disposers;return a.push(o),a.push(e.line),a.push(i),a.push(n),a.push(r),a.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},e.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.positionItem=function(t,e){t&&t.moveTo(e)},e.prototype.positionToPoint=function(t,e){return{x:0,y:0}},e.prototype.positionToAngle=function(t){return 0},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return e.renderer.inversed?(e.end-t)*i:(t-e.start)*i},e.prototype.updateGridContainer=function(){},e.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},e.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},e.prototype.coordinateToPosition=function(t,e){var i,n=this.axis,r=n.axisFullLength;return i=n.renderer.inversed?n.end-t/r:t/r+n.start,x.round(i,5)},e.prototype.pointToPosition=function(t){return 0},e.prototype.getPositionRangePath=function(t,e){return""},e.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},e.prototype.updateGridElement=function(t,e,i){},e.prototype.updateTickElement=function(t,e,i){},e.prototype.updateBullet=function(t,e,i){},e.prototype.updateLabelElement=function(t,e,i,n){},e.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},e.prototype.updateAxisLine=function(){},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(e.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.toggleVisibility=function(t,e,i,n){var r=this.axis,o=t.dataItem;o&&o instanceof R&&(b.isNumber(o.minPosition)&&(i=o.minPosition),b.isNumber(o.maxPosition)&&(n=o.maxPosition));var a=r.start+(r.end-r.start)*(i-1e-4),s=r.start+(r.end-r.start)*(n+1e-4);t.disabled||(t.__disabled=e<a||e>s)},e.prototype.createBreakSprites=function(t){},Object.defineProperty(e.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new u.o(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.zQ(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),e.prototype.createFill=function(t){return new B(t)},Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new u.o(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.zQ(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),e.prototype.createGrid=function(){return new W},Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new u.o(t),this._disposers.push(new u.zQ(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),e.prototype.createTick=function(){return new X},Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new u.o(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new u.zQ(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createLabel=function(){return new Z},Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},e.prototype.toAxisPosition=function(t){return t},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(p.W);f.i.registeredClasses.AxisRenderer=Q;var Y=i(25212),U=i(12137),K=function(t){function e(){var e=t.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e}(p.W);f.i.registeredClasses.AxisBullet=K;var q=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=(0,m.aQ)(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="horizontal"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.y=t.pixelY,e.height=t.axisLength}},e.prototype.toAxisPosition=function(t){var e=this.axis;if(e){var i=1-t,n=e.relativePositionSprite,r=e.pixelY;if(n?r=v.spritePointToSprite({x:0,y:this.pixelY},this.parent,n).y:n=e.parent,n)return 1-(i-r/n.innerHeight)/(e.axisLength/n.innerHeight)}return t},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof m.gG||(e.height=(0,m.aQ)(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},e.prototype.updateTooltip=function(){if(this.axis){var t=2e3,e=0,i=t,n=this.axisLength;this.opposite?this.inside&&(e=-2e3,i=t):this.inside||(e=-2e3,i=t),this.axis.updateTooltip("horizontal",{x:e,y:0,width:i,height:n})}},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:0,y:this.positionToCoordinate(t)}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},e.prototype.coordinateToPosition=function(t,e){var i,n=this.axis,r=n.axisFullLength;return i=n.renderer.inversed?1-n.start-t/r:t/r+(1-n.end),x.round(i,5)},e.prototype.getPositionRangePath=function(t,e){var i=x.fitToRange(this.positionToCoordinate(t),0,this.axisLength),n=x.fitToRange(this.positionToCoordinate(e),0,this.axisLength),r=Math.abs(n-i),o=this.getWidth(),a=Math.min(i,n);return U.rectToPath({x:0,y:a,width:o,height:r},!0)},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var n=this.positionToPoint(e);t.path=U.moveTo({x:0,y:0})+U.lineTo({x:this.getWidth(),y:0}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var n=this.positionToPoint(e),r=t.length;try{v.used(this.axis.title.measuredWidth)}catch(o){}n.x=v.spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?r*=t.inside?-1:1:r*=t.inside?1:-1,t.path=U.moveTo({x:0,y:0})+U.lineTo({x:r,y:0}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=U.moveTo({x:0,y:0})+U.lineTo({x:0,y:this.axisLength})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),n=this.axisLength,r=e.basePoint.y,o=this.baseGrid;if(r<-.2||r>n+.2)o.hide(0);else{var a=v.spritePointToSprite({x:0,y:0},this.gridContainer,o.parent).x;o.path=U.moveTo({x:0,y:0})+U.lineTo({x:i,y:0}),o.moveTo({x:a,y:r}),o.show(0)}},e.prototype.updateLabelElement=function(t,e,i,n){b.hasValue(n)||(n=t.location),e+=(i-e)*n,t.isMeasured=!t.inside;var r,o=this.positionToPoint(e),a=0,s=this.gridContainer.maxWidth;this.opposite?(t.inside?(r="right","left"==t.align&&(a=-s,r="left"),"center"==t.align&&(a=-s/2,r="middle")):r="left",o.x=0+a):(t.inside?(r="left","right"==t.align&&(a=s,r="right"),"center"==t.align&&(a=s/2,r="middle")):r="right",o.x=this.measuredWidth+a),0==t.rotation&&(t.horizontalCenter=r),this.positionItem(t,o),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,n=e.endLine,r=e.fillShape,o=e.startPoint,a=e.endPoint,s=e.pixelMarginLeft,l=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;o.y=x.fitToRange(o.y,-1,this.axisLength+1),a.y=x.fitToRange(a.y,-1,this.axisLength+1),o.y==a.y&&(o.y<0||o.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var u=Math.abs(l-s);i.x=s,i.height=0,i.width=u,n.x=s,n.height=0,n.width=u,r.width=u,r.height=Math.abs(a.y-o.y),r.x=s,r.y=a.y},e.prototype.createBreakSprites=function(t){t.startLine=new O.$,t.endLine=new O.$;var e=new Y.T;e.setWavedSides(!0,!1,!0,!1),t.fillShape=e},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return e.renderer.inversed?(t-e.start)*i:(e.end-t)*i},e.prototype.updateBullet=function(t,e,i){var n=.5;t instanceof K&&(n=t.location),e+=(i-e)*n;var r=this.positionToPoint(e);r.x=v.spritePointToSprite({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e}(Q);f.i.registeredClasses.AxisRendererY=q,C.IH.push({relevant:C.Xf.widthS,state:function(t,e){if(t instanceof q){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),C.IH.push({relevant:C.Xf.widthXS,state:function(t,e){if(t instanceof q){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var $=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),e}(j);f.i.registeredClasses.ValueAxisBreak=$;var J=i(10712),tt=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),e}(R),et=function(t){function e(){var e=t.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(x.round(e/i.step/2,5)==Math.round(e/i.step/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new tt},e.prototype.createAxisBreak=function(){return new $},e.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},e.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var n=function(t){var e={},i={};r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(t);r&&J.each(r.values,(function(t){var n=r.values[t].workingValue;b.isNumber(n)&&(b.isNumber(e[t])?e[t]+=Math.abs(n):e[t]=Math.abs(n),b.isNumber(i[t])?i[t]+=n:i[t]=n)}))}})),r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(t);r&&J.each(r.values,(function(t){var n=r.values[t].workingValue;b.isNumber(n)&&(r.setCalculatedValue(t,e[t],"total"),r.setCalculatedValue(t,100*n/e[t],"totalPercent"),r.setCalculatedValue(t,i[t],"sum"))}))}}))},r=this,o=e;o<i;++o)n(o)}}},e.prototype.validate=function(){this.axisLength<=0||(t.prototype.validate.call(this),this.getMinMax(),b.isNumber(this._minAdjusted)||this.dataItems.each((function(t){t.value=null})),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},e.prototype.calculateZoom=function(){if(b.isNumber(this.min)&&b.isNumber(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),n=this.adjustMinMax(t,e,i,this._gridCount,!0),r=v.decimalPlaces(n.step);this._stepDecimalPlaces=r,t=x.round(t,r),e=x.round(e,r);var o=(n=this.adjustMinMax(t,e,i,this._gridCount,!0)).step;if(this.syncWithAxis){var a=this.getCache(t+"-"+e);b.isNumber(a)&&(o=a)}else t=n.min,e=n.max;(this._minZoomed!=t||this._maxZoomed!=e||this._step!=o||this._dsc)&&(this._dsc=!1,this._minZoomed=t,this._maxZoomed=e,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},e.prototype.fixSmallStep=function(t){return 1+t==1?(t*=2,this.fixSmallStep(t)):t},e.prototype.validateAxisElements=function(){var t=this;if(b.isNumber(this.max)&&b.isNumber(this.min)){var e=this.minZoomed-2*this._step;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(e=Math.floor(this.minZoomed/this._step)*this._step)&&(e=this.minZoomed);else e=Math.floor(e/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var r=0,o=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;e<=i;){if(!this.isInBreak(e)){var a=n.find((function(t){return t.value===e}));a.__disabled&&(a.__disabled=!1),this.appendDataItem(a),a.axisBreak=void 0,(a.value!=e||o)&&(a.value=e,a.text=this.formatLabel(e),a.label&&a.label.invalid&&a.label.validate(),a.value>=this.min&&a.value<=this.max&&a.label&&("Y"==this.axisLetter&&a.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&a.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=a.label.currentText,this.ghostLabel.validate())),this.validateDataElement(a)}r++;var s=e;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+r):e+=this._step;else e+=this._step;var l=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(l<1){var u=Math.round(Math.abs(Math.log(Math.abs(l))*Math.LOG10E))+2;if(u=Math.min(13,u),s==(e=x.round(e,u))){e=i;break}}}var h=this._axisBreaks;if(h){var p=this.renderer;N.each(h.iterator(),(function(e){if(e.breakSize>0&&x.getDistance(e.startPoint,e.endPoint)>p.minGridDistance)for(var i=e.adjustedMin;i<=e.adjustedMax;){if(i>=e.adjustedStartValue&&i<=e.adjustedEndValue){var r=n.find((function(t){return t.value===i}));r.__disabled&&(r.__disabled=!1),t.appendDataItem(r),r.axisBreak=e,r.value!=i&&(r.value=i,r.text=t.formatLabel(i),r.label&&r.label.invalid&&r.label.validate()),t.validateDataElement(r)}i+=e.adjustedStep}}))}}},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,n=e.value,r=e.endValue,o=this.valueToPosition(n);e.position=o;var a=o,s=this.valueToPosition(n+this._step);b.isNumber(r)&&(s=a=this.valueToPosition(r)),e.point=i.positionToPoint(o);var l=e.tick;l&&!l.disabled&&i.updateTickElement(l,o,a);var u=e.grid;u&&!u.disabled&&i.updateGridElement(u,o,a);var h=e.label;h&&!h.disabled&&i.updateLabelElement(h,o,a);var p=e.axisFill;p&&!p.disabled&&(i.updateFillElement(p,o,s),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,o,a);var c=e.mask;c&&i.updateFillElement(c,o,s)},e.prototype.formatLabel=function(t){return this.adjustLabelPrecision&&0!=t?this.numberFormatter.format(t,void 0,this._stepDecimalPlaces):this.numberFormatter.format(t)},Object.defineProperty(e.prototype,"basePoint",{get:function(){var t=this.baseValue,e=this.valueToPosition(t);return this.renderer.positionToPoint(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),e.prototype.anyToPosition=function(t){return this.valueToPosition(t)},e.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),n=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:n}},e.prototype.anyToPoint=function(t){return this.valueToPoint(t)},e.prototype.valueToPosition=function(t){if(b.isNumber(t)){var e=this.min,i=this.max;if(b.isNumber(e)&&b.isNumber(i)){var n=this._difference,r=this._axisBreaks;r&&r.length>0&&N.eachContinue(r.iterator(),(function(n){var r=n.adjustedStartValue,o=n.adjustedEndValue;if(b.isNumber(r)&&b.isNumber(o)){if(t<r)return!1;if(x.intersect({start:r,end:o},{start:e,end:i})){r=Math.max(r,e),o=Math.min(o,i);var a=n.breakSize;t>o?e+=(o-r)*(1-a):t<r||(t=r+(t-r)*a)}}return!0}));var o=void 0;if(this.logarithmic){var a=this.treatZeroAs;b.isNumber(a)&&t<=a&&(t=a),o=(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else o=(t-e)/n;return o}}return 0},e.prototype.invalidateLabels=function(){t.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(t){t.value=void 0})),this.invalidate())},e.prototype.positionToValue=function(t){var e=this.min,i=this.max;if(b.isNumber(e)&&b.isNumber(i)){var n=i-e,r=null,o=this._axisBreaks;return o&&o.length>0&&N.eachContinue(o.iterator(),(function(o){var a=o.startPosition,s=o.endPosition,l=o.adjustedStartValue,u=o.adjustedEndValue;if(b.isNumber(l)&&b.isNumber(u)){if(l>i)return!1;if(x.intersect({start:l,end:u},{start:e,end:i})){l=x.max(l,e),u=x.min(u,i);var h=o.breakSize;if(n-=(u-l)*(1-h),t>s)e+=(u-l)*(1-h);else if(!(t<a))return r=l+(t-a)/(s-a)*(u-l),!1}return!0}})),b.isNumber(r)||(r=this.logarithmic?Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):t*n+e),r}},e.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},e.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},e.prototype.pointToPosition=function(t){return this.renderer instanceof q?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},e.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},e.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(b.isNumber(this._minDefined)&&b.isNumber(this._maxDefined)||(this.series.each((function(n){if(!n.ignoreMinMax){var r=n.min(t);b.isNumber(r)&&r<e&&(e=r);var o=n.max(t);b.isNumber(o)&&o>i&&(i=o)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(t){if(!t.ignoreMinMax){var n=x.min(t.value,t.endValue),r=x.max(t.value,t.endValue);(n<e||!b.isNumber(e))&&(e=n),(r>i||!b.isNumber(i))&&(i=r)}}))),this.logarithmic){var n=this.treatZeroAs;b.isNumber(n)&&e<=0&&(e=n),e<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==e&&0==i&&(i=.9,e=-.9),b.isNumber(this._minDefined)&&(e=this._minDefined),b.isNumber(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),b.isNumber(e)&&b.isNumber(i)){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var r=this.adjustDifference(e,i);if(e=this.fixMin(e),(i=this.fixMax(i))-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var o=Math.log(Math.abs(i))*Math.LOG10E,a=Math.pow(10,Math.floor(o));a/=10,this._deltaMinMax=a}e-=this._deltaMinMax,i+=this._deltaMinMax}e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax;var s=this.strictMinMax;b.isNumber(this._maxDefined)&&(s=!0);var l=this.adjustMinMax(e,i,r,this._gridCount,s);if(e=l.min,r=(i=l.max)-e,l=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=l.min,i=l.max,this.strictMinMax&&(e=b.isNumber(this._minDefined)?this._minDefined:this._minReal,(i=b.isNumber(this._maxDefined)?this._maxDefined:this._maxReal)-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=l.step,b.isNumber(e)||b.isNumber(i)||(this.start=0,this.end=1,this.renderer.labels.each((function(t){t.dataItem.text=""}))),(this._minAdjusted!=e||this._maxAdjusted!=i)&&b.isNumber(e)&&b.isNumber(i)){var u=this._minMaxAnimation;if(this._extremesChanged&&b.isNumber(this._minAdjusted)&&b.isNumber(this._maxAdjusted)&&this.inited){if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,(u=this.animateMinMax(e,i))&&!u.isFinished()?(u.events.on("animationprogress",this.validateDataItems,this),u.events.on("animationended",(function(){t.series.each((function(t){t.validate()})),t.validateDataItems(),t.handleSelectionExtremesChange()})),this._minMaxAnimation=u):this.series.each((function(t){t.invalidate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},e.prototype.fixMin=function(t){return t},e.prototype.fixMax=function(t){return t},e.prototype.adjustMinMax=function(t,e,i,n,r){n<=1&&(n=1),n=Math.round(n);var o=t,a=e;0===i&&(i=Math.abs(e));var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),u=l/=10;r&&(u=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),this.strictMinMax?(this._minDefined>0&&(t=this._minDefined),this._maxDefined):(t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E)))):(r?(t=Math.floor(t/l)*l,e=Math.ceil(e/l)*l):(t=Math.ceil(t/l)*l-u,e=Math.floor(e/l)*l+u),t<0&&o>=0&&(t=0),e>0&&a<=0&&(e=0)),s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=10;var h=Math.ceil(i/n/l)*l,p=Math.pow(10,Math.floor(Math.log(Math.abs(h))*Math.LOG10E)),c=Math.ceil(h/p);c>5?c=10:c<=5&&c>2&&(c=5),h=Math.ceil(h/(p*c))*p*c,this.maxPrecision<Number.MAX_VALUE&&h!=x.ceil(h,this.maxPrecision)&&(h=x.ceil(h,this.maxPrecision));var d=0;if(p<1&&(d=Math.round(Math.abs(Math.log(Math.abs(p))*Math.LOG10E))+1,h=x.round(h,d)),!this.logarithmic){var f=Math.floor(t/h);t=x.round(h*f,d);var g=void 0;(g=r?Math.floor(e/h):Math.ceil(e/h))==f&&g++,(e=x.round(h*g,d))<a&&(e+=h),t>o&&(t-=h)}return{min:t,max:e,step:h}},Object.defineProperty(e.prototype,"min",{get:function(){var t=this._minAdjusted;return b.isNumber(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this._maxAdjusted;return b.isNumber(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(t){this.setPropertyValue("adjustLabelPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.registerSeries=function(e){return new _.FV([t.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},e.prototype.handleSelectionExtremesChange=function(){var t,e,i=this,n=!0;if(N.each(this.series.iterator(),(function(r){if(!r.ignoreMinMax&&!r.isHidden&&!r.outOfRange){r.visible&&!r.isHiding&&(n=!1);var o=r.selectionMin(i),a=r.selectionMax(i);b.isNumber(o)&&(!b.isNumber(t)||o<t)&&(t=o),b.isNumber(a)&&(!b.isNumber(e)||a>e)&&(e=a)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(i){if(!i.ignoreMinMax){var n=x.min(i.value,i.endValue),r=x.max(i.value,i.endValue);n<t&&(t=n),r>e&&(e=r)}})),b.isNumber(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),b.isNumber(this._maxDefined)?e=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(e=this._maxReal),t==e){t-=this._deltaMinMax,e+=this._deltaMinMax;var r=this.adjustMinMax(t,e,0,this._gridCount,this.strictMinMax);t=r.min,e=r.max}var o=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,o,this._gridCount);t=a.min,e=a.max,t-=(e-t)*this.extraMin,e+=(e-t)*this.extraMax,t=x.fitToRange(t,this.min,this.max),e=x.fitToRange(e,this.min,this.max),o=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,o,this._gridCount,!0),t=a.min,e=a.max,this.strictMinMax&&(t=x.max(t,this._minDefined),e=x.min(e,this._maxDefined));var s=a.step;this.syncWithAxis&&(a=this.syncAxes(t,e,s),t=a.min,e=a.max,this.invalidate()),s=a.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(t),u=this.valueToPosition(e);n&&!this.syncWithAxis&&(l=0,u=1);var h=0;this.syncWithAxis?(h=5,this.setCache(t+"-"+e,s)):(this._step==s&&this._minZoomed==t&&this._maxZoomed==e||(this._dsc=!0),this._step=s,this._minZoomed=t,this._maxZoomed=e),this.keepSelection||this.zoom({start:l,end:u},!1,!1,h)},Object.defineProperty(e.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&(this.invalidate(),this.series.each((function(t){t.invalidateDataItems()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.handleExtremesChange=function(){var t=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){this.dataItems.each((function(e){e.label&&e.label.pixelWidth>0&&(t.ghostLabel.text=e.label.currentText)}))}},e.prototype.getX=function(t,e,i,n,r){return this.renderer.positionToPoint(this.getPositionX(t,e,i,n,r)).x},e.prototype.getPositionX=function(t,e,i,n,r){var o=t.getWorkingValue(e);b.hasValue(n)||(n="valueX");var a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue,this.logarithmic&&a>0&&(o=0));var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),s},e.prototype.getY=function(t,e,i,n,r){return this.renderer.positionToPoint(this.getPositionY(t,e,i,n,r)).y},e.prototype.getPositionY=function(t,e,i,n,r){var o=t.getWorkingValue(e);b.hasValue(n)||(n="valueY");var a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue,this.logarithmic&&a>0&&(o=0));var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),s},e.prototype.getAngle=function(t,e,i,n,r){var o=t.getWorkingValue(e),a=t.getValue(n,"stack");b.isNumber(o)||(o=this.baseValue);var s=this.valueToPosition(o+a);return r&&(s=x.fitToRange(s,r.start,r.end)),this.positionToAngle(s)},e.prototype.getAnyRangePath=function(t,e,i){var n=this.valueToPosition(t),r=this.valueToPosition(e);return this.getPositionRangePath(n,r)},e.prototype.getTooltipText=function(t){var e=x.round(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},e.prototype.zoomToValues=function(t,e,i,n){var r=(t-this.min)/(this.max-this.min),o=(e-this.min)/(this.max-this.min);this.zoom({start:r,end:o},i,n)},Object.defineProperty(e.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:x.max(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:x.min(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(t){var i=t.adjustedStartValue,n=t.adjustedEndValue,r=n-i,o=Math.ceil(r*t.breakSize)*e._gridCount/(e.max-e.min),a=e.adjustMinMax(i,n,r,o,!0);t.adjustedStep=a.step,t.adjustedMin=a.min,t.adjustedMax=a.max})),this._difference=this.adjustDifference(this.min,this.max)},e.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},e.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(e.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){e.clearCache(),e._disposers.push(f.i.events.once("exitframe",(function(){e.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(t){this.setPropertyValue("treatZeroAs",t,!0)},enumerable:!0,configurable:!0}),e.prototype.syncAxes=function(t,e,i){var n=this.syncWithAxis;if(n){b.isNumber(t)||(t=this.min),b.isNumber(e)||(e=this.max),b.isNumber(i)||(i=this._step);var r=Math.round((n.maxZoomed-n.minZoomed)/n.step),o=Math.round((e-t)/i);if(b.isNumber(r)&&b.isNumber(o))for(var a=!1,s=0,l=.01*(e-t),u=t,h=e,p=i;1!=a;)if(a=this.checkSync(u,h,p,r),++s>1e3&&(a=!0),a)t=u,e=h,i=p;else{s/3==Math.round(s/3)?(u=t-l*s,t>=0&&u<0&&(u=0)):(h=e+l*s)<=0&&h>0&&(h=0);var c=this.adjustMinMax(u,h,h-u,this._gridCount,!0);u=c.min,h=c.max,p=c.step}}return{min:t,max:e,step:i}},e.prototype.checkSync=function(t,e,i,n){for(var r=(e-t)/i,o=1;o<n;o++)if(x.round(r/o,1)==n||r*o==n)return!0;return!1},e.prototype.processConfig=function(e){e&&b.hasValue(e.syncWithAxis)&&b.isString(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),t.prototype.processConfig.call(this,e)},e}(F);f.i.registeredClasses.ValueAxis=et,f.i.registeredClasses.ValueAxisDataItem=tt;var it=function(t){function e(){var e=t.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=(0,m.aQ)(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.setAxis=function(e){t.prototype.setAxis.call(this,e),e.layout="vertical"},e.prototype.updateGridContainer=function(){var t=this.axis;if(t){var e=this.gridContainer;e.x=t.pixelX,e.width=t.axisLength}},e.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof m.gG||(e.width=(0,m.aQ)(100)),v.used(this.line);var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},e.prototype.updateTooltip=function(){if(this.axis){var t=1e3,e=this.line.pixelX,i=this.line.pixelY,n=this.axisLength,r=t;this.opposite?this.inside||(i=-1e3,r=t):this.inside&&(i=-1e3,r=t),this.axis.updateTooltip("vertical",{x:e,y:i,width:n,height:r})}},e.prototype.updateLabelElement=function(t,e,i,n){b.hasValue(n)||(n=t.location),e+=(i-e)*n;var r=this.positionToPoint(e);t.isMeasured=!t.inside;var o,a=0,s=this.gridContainer.maxHeight;this.opposite?(t.inside?(o="top","bottom"==t.valign&&(a=s,o="bottom"),"middle"==t.valign&&(a=s/2,o="middle")):o="bottom",r.y=a):(t.inside?(o="bottom","top"==t.valign&&(a=-s,o="top"),"middle"==t.valign&&(a=-s/2,o="middle")):o="top",r.y+=a),0==t.rotation&&(t.verticalCenter=o),this.positionItem(t,r),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(e.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){return{x:this.positionToCoordinate(t),y:0}},e.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},e.prototype.getPositionRangePath=function(t,e){var i=x.fitToRange(this.positionToCoordinate(t),0,this.axisLength),n=x.fitToRange(this.positionToCoordinate(e),0,this.axisLength),r=Math.abs(n-i),o=this.getHeight(),a=Math.min(i,n);return U.rectToPath({x:a,y:0,width:r,height:o},!0)},e.prototype.updateBreakElement=function(e){t.prototype.updateBreakElement.call(this,e);var i=e.startLine,n=e.endLine,r=e.fillShape,o=e.startPoint,a=e.endPoint,s=e.pixelMarginLeft,l=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;o.x=x.fitToRange(o.x,-1,this.axisLength+1),a.x=x.fitToRange(a.x,-1,this.axisLength+1),o.x==a.x&&(o.x<0||o.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,i.y=s,i.width=0,i.height=l,n.y=s,n.width=0,n.height=l,r.height=l,r.width=Math.abs(a.x-o.x),r.y=s,r.x=o.x},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var n=this.positionToPoint(e);t.path=U.moveTo({x:0,y:0})+U.lineTo({x:0,y:this.getHeight()}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var n=this.positionToPoint(e),r=t.length;n.y=v.spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?r*=t.inside?1:-1:r*=t.inside?-1:1,t.path=U.moveTo({x:0,y:0})+U.lineTo({x:0,y:r}),this.positionItem(t,n),this.toggleVisibility(t,e,0,1)},e.prototype.updateAxisLine=function(){this.line.path=U.moveTo({x:0,y:0})+U.lineTo({x:this.axisLength,y:0})},e.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),n=this.axisLength,r=this.baseGrid,o=e.basePoint.x;if(o<-.2||o>n+.2)r.hide(0);else{var a=v.spritePointToSprite({x:0,y:0},this.gridContainer,r.parent).y;r.path=U.moveTo({x:0,y:0})+U.lineTo({x:0,y:i}),r.moveTo({x:o,y:a}),r.show(0)}},e.prototype.createBreakSprites=function(t){t.startLine=new O.$,t.endLine=new O.$;var e=new Y.T;e.setWavedSides(!1,!0,!1,!0),t.fillShape=e},e.prototype.toAxisPosition=function(t){var e=t,i=this.axis;if(i){var n=i.relativePositionSprite,r=i.pixelX;if(n?r=v.spritePointToSprite({x:this.pixelX,y:0},this.parent,n).x:n=i.parent,n)return(e-r/n.innerWidth)/(i.axisLength/n.innerWidth)}return t},e.prototype.updateBullet=function(t,e,i){var n=.5;t instanceof K&&(n=t.location),e+=(i-e)*n;var r=this.positionToPoint(e);r.y=v.spritePointToSprite({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e}(Q);f.i.registeredClasses.AxisRendererX=it,C.IH.push({relevant:C.Xf.heightXS,state:function(t,e){if(t instanceof it){var i=t.states.create(e);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),C.IH.push({relevant:C.Xf.heightXXS,state:function(t,e){if(t instanceof it){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var nt=i(83702),rt=function(t){function e(){var e=t.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(p.W),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new h.c;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new u.o(i),e._disposers.push(new u.zQ(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.getMinFromRules=function(t){var e,i=this.series;if(i)return N.eachContinue(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.min,!1)})),e},e.prototype.getMaxFromRules=function(t){var e,i=this.series;if(i)return N.each(i.heatRules.iterator(),(function(i){return i.property!=t||(e=i.max,!1)})),e},e.prototype.validate=function(){t.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,n=this.maxColor;if(b.hasValue(i)||(i=(0,I.p9)(this.getMinFromRules("fill"))),b.hasValue(n)||(n=(0,I.p9)(this.getMaxFromRules("fill"))),e){var r=e.fill;!b.hasValue(i)&&r instanceof I.Il&&(i=r),!b.hasValue(n)&&r instanceof I.Il&&(n=r)}b.hasValue(n)||(n=(0,I.p9)(this.getMaxFromRules("fill")));var o=b.toNumber(this.getMinFromRules("fillOpacity"));b.isNumber(o)||(o=1);var a=b.toNumber(this.getMaxFromRules("fillOpacity"));b.isNumber(a)||(a=1);var s=b.toNumber(this.getMinFromRules("strokeOpacity"));b.isNumber(s)||(s=1);var l=b.toNumber(this.getMaxFromRules("strokeOpacity"));b.isNumber(l)||(l=1);for(var u=(0,I.p9)(this.getMinFromRules("stroke")),h=(0,I.p9)(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var c=this.markers.getIndex(p);if(c||((c=this.markers.create()).parent=this.markerContainer,c.height=(0,m.aQ)(100),c.width=(0,m.aQ)(100)),1==this.markerCount){var d=new V.o;if(this.reverseOrder?(d.addColor(n,a),d.addColor(i,o)):(d.addColor(i,o),d.addColor(n,a)),"vertical"==this.orientation&&(d.rotation=-90),c.fill=d,b.hasValue(u)&&b.hasValue(h)){var f=new V.o;this.reverseOrder?(f.addColor(h,l),f.addColor(u,s)):(f.addColor(u,s),f.addColor(h,l)),"vertical"==this.orientation&&(f.rotation=-90),c.stroke=f}}else{var g=p;this.reverseOrder&&(g=this.markerCount-p-1);var y=new I.Il(nt.interpolate(i.rgb,n.rgb,g/this.markerCount));c.fill=y;var v=o+(a-o)*g/this.markerCount;if(c.fillOpacity=v,b.hasValue(u)&&b.hasValue(h)){var x=new I.Il(nt.interpolate(u.rgb,h.rgb,g/this.markerCount));c.stroke=x;var P=s+(l-s)*g/this.markerCount;c.strokeOpacity=P}}}var _=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?_.minGridDistance=this.measuredWidth/this.markerCount:_.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();p=this.markerCount;for(var M=this.markers.length;p<M;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(e.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(t){t instanceof I.Il||(t=(0,I.p9)(t)),this.setColorProperty("minColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(t){t instanceof I.Il||(t=(0,I.p9)(t)),this.setColorProperty("maxColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(t){this.setPropertyValue("markerCount",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t),this.valueAxis.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t),this.valueAxis.max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0);var e=this.markerContainer,i=this.valueAxis;"horizontal"==t?(b.hasValue(this.width)||(this.width=200),this.height=void 0,i.width=(0,m.aQ)(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",e.width=(0,m.aQ)(100),e.height=void 0,i.renderer instanceof it||(i.renderer=new it)):(b.hasValue(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",e.width=void 0,e.height=(0,m.aQ)(100),i.height=(0,m.aQ)(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof q||(i.renderer=new q),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var n=i.renderer;n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.baseGrid.disabled=!0,n.labels.template.padding(2,3,2,3),n.minHeight=void 0,n.minWidth=void 0,this.markerContainer.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(et),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(t){this._valueAxis=t,t.parent=this,t.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this._series=t;var i="value";try{var n=t.heatRules.getIndex(0).dataField;n&&(i=n)}catch(r){}this.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high),t.dataItem.events.on("calculatedvaluechanged",(function(n){e.updateMinMax(t.dataItem.values[i].low,t.dataItem.values[i].high)}),void 0,!1),t.heatRules.events.on("inserted",this.invalidate,this,!1),t.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),e.prototype.updateMinMax=function(t,e){var i=this.valueAxis;b.isNumber(this.minValue)||(i.min=t,i.invalidate()),b.isNumber(this.maxValue)||(i.max=e,i.invalidate())},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.series)&&b.isString(e.series)&&b.isString(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,n=this.map.events.on("insertKey",(function(t){t.key==i&&(this.series=t.newValue,n.dispose())}),this);this._disposers.push(n),delete e.series}t.prototype.processConfig.call(this,e)},e}(p.W);f.i.registeredClasses.HeatLegend=rt;var ot=i(67197),at=function(t){function e(){var e=t.call(this)||this;e.className="Grip";var i=new y.h;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var n=new P.jy;n.element=e.paper.add("path");var r=U.moveTo({x:-6,y:0});return r+=U.lineTo({x:6,y:0}),r+=U.moveTo({x:-8,y:-6}),r+=U.lineTo({x:0,y:-12}),r+=U.lineTo({x:8,y:-6}),r+=U.moveTo({x:-8,y:6}),r+=U.lineTo({x:0,y:12}),r+=U.lineTo({x:8,y:6}),n.path=r,n.strokeWidth=2,n.fillOpacity=0,n.pixelPerfect=!0,n.padding(0,4,0,4),n.stroke=i.getFor("text"),n.strokeOpacity=.7,n.align="center",n.valign="middle",e.icon=n,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.events.on("down",(function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose()})),e.events.on("out",(function(t){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout((function(){e.hide()}),e.autoHideDelay))})),e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=(0,m.aQ)(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=(0,m.aQ)(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=(0,m.aQ)(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=(0,m.aQ)(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=(0,m.aQ)(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),e}(ot.z);f.i.registeredClasses.Grip=at;var st=function(t){function e(){var e=t.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(l.z),lt=function(t){function e(){var i=t.call(this)||this;if(i._legend=new _.cx,i.constructor===e)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var n=new c._;i.titles=new u.o(n),i._disposers.push(new u.zQ(i.titles)),i._disposers.push(n),i.width=(0,m.aQ)(100),i.height=(0,m.aQ)(100),i.layout="vertical";var r=i.createChild(p.W);r.shouldClone=!1,r.layout="vertical",r.width=(0,m.aQ)(100),r.height=(0,m.aQ)(100),i.chartAndLegendContainer=r;var o=r.createChild(p.W);return o.shouldClone=!1,o.width=(0,m.aQ)(100),o.height=(0,m.aQ)(100),i.chartContainer=o,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(t){i.processTitle(t),i.updateReaderTitleReferences()}),i,!1),i.titles.events.on("removed",(function(t){i.updateReaderTitleReferences()}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return(0,a.ZT)(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},e.prototype.draw=function(){this.fixLayout(),t.prototype.draw.call(this)},e.prototype.fixLayout=function(){var t=this.legend;if(t){var e=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,"absolute"!=t.position&&(t.x=void 0,t.y=void 0),t.position){case"left":e.layout="horizontal",t.toBack();break;case"right":e.layout="horizontal",t.toFront();break;case"top":e.layout="vertical",t.toBack();break;case"bottom":e.layout="vertical",t.toFront();break;case"absolute":t.isMeasured=!1}}},e.prototype.feedLegend=function(){},e.prototype.processTitle=function(t){var e=t.newValue;return e.parent=this,e.toBack(),e.shouldClone=!1,e.align="center",e.uidAttr(),e},e.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var t=[];N.each(this.titles.iterator(),(function(e){t.push(e.uid)})),this.setSVGAttribute({"aria-labelledby":t.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend.get()},set:function(t){this.setLegend(t)},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(t){var e=this;this._legend.get()!==t&&(t?(t.parent=this.chartAndLegendContainer,this._legend.set(t,t.events.on("propertychanged",(function(t){"position"==t.property&&e.fixLayout()}),void 0,!1)),t.addDisposer(new _.ku((function(){e.legend=void 0})))):this._legend.reset(),this.feedLegend())},e.prototype.dispose=function(){this.legend&&this.legend.dispose(),t.prototype.dispose.call(this)},e.prototype.processConfig=function(e){e&&b.hasValue(e.legend)&&!b.hasValue(e.legend.type)&&(e.legend.type="Legend"),t.prototype.processConfig.call(this,e)},e.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),t.prototype.copyFrom.call(this,e)},Object.defineProperty(e.prototype,"dragGrip",{get:function(){var t=this;if(!this._dragGrip){var e=this.tooltipContainer.createChild(at);e.align="right",e.valign="middle",e.hide(0),e.events.on("down",(function(e){e.touch&&(t.interactionsEnabled=!1)})),e.events.on("up",(function(e){t.interactionsEnabled=!0})),this.events.on("down",(function(t){t.touch&&e.show()})),this._dragGrip=e}return this._dragGrip},set:function(t){this._dragGrip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(t){this.parent.focusable=t},enumerable:!0,configurable:!0}),e}(s.w);f.i.registeredClasses.Chart=lt,C.IH.push({relevant:C.Xf.widthXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return t.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),t.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),C.IH.push({relevant:C.Xf.heightXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return t.pixelPaddingTop>10&&(i.properties.paddingTop=10),t.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),C.IH.push({relevant:C.Xf.widthXXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),C.IH.push({relevant:C.Xf.heightXXS,state:function(t,e){if(t instanceof lt){var i=t.states.create(e);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var ut=i(30945),ht=function(t){function e(){var e=t.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(t){if(this.setPropertyValue("locationX",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(t){if(this.setPropertyValue("locationY",t)){var e=this.dataItem;e&&e.component&&e.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(t){this.setPropertyValue("xField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(t){this.setPropertyValue("yField",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(t){this.setPropertyValue("isDynamic",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(t){this.setPropertyValue("copyToLegendMarker",t)},enumerable:!0,configurable:!0}),e}(p.W);f.i.registeredClasses.Bullet=ht,C.IH.push({relevant:C.Xf.isXS,state:function(t,e){if(t instanceof ht){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var pt=i(27285),ct=i(49947),dt=function(t){function e(){var e=t.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ut.Xy,this._disposers.push(new ut.a7(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.bullets.clear(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),e}(l.z),ft=function(t){function e(){var i=t.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new w,i._tmin=new ut.Xy,i._tmax=new ut.Xy,i._smin=new ut.Xy,i._smax=new ut.Xy,i.dataItemsByAxis=new ut.Xy,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===e)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new u.aV,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(p.W),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(P.jy),i._disposers.push(i.mainContainer);var n=i.mainContainer.createChild(p.W);return i._shouldBeReady.push(n),n.shouldClone=!1,n.layout="none",n.virtualParent=i,i._disposers.push(n),i.bulletsContainer=n,i.tooltip=new D.u,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=ct.cubicIn,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return(0,a.ZT)(e,t),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),pt.Y.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},e.prototype.createDataItem=function(){return new dt},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),e.prototype.positionBullet=function(t){},e.prototype.processBullet=function(t){var e=this,i=t.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(t){e.itemsFocusable()&&(i.focusable=!0)})),this.invalidate()},e.prototype.removeBullet=function(t){var e=t.oldValue;this.dataItems.each((function(t){var i=t.bullets.getKey(e.uid);i&&i.dispose()})),this.invalidate()},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.processValues(!1)},e.prototype.getFirstValue=function(t,e){for(var i=e;i>=0;i--){var n=this.dataItems.getIndex(i).getActualWorkingValue(t);if(b.isNumber(n))return n}return null},e.prototype.getAbsoluteFirstValue=function(t){for(var e=0;e<this.dataItems.length;e++){var i=this.dataItems.getIndex(e).values[t].value;if(b.isNumber(i))return i}return null},e.prototype.rangeChangeUpdate=function(){t.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},e.prototype.processValues=function(t){var e=this;if(!this.simplifiedProcessing){var i=this.dataItems,n={},r={},o={},a={},s={},l={},u={},h={},p={},c={},d=x.max(0,this.startIndex);d=x.min(d,this.dataItems.length);var f=x.min(this.endIndex,this.dataItems.length);if(b.isNumber(d)||(d=0),b.isNumber(f)||(f=this.dataItems.length),d>0){var g=i.getIndex(d-1);J.each(g.values,(function(t,e){var i=g.getActualWorkingValue(t);b.isNumber(i)&&(h[t]=i)}))}for(var m=function(t){var f=i.getIndex(t);J.each(f.values,(function(t,i){var g=f.getActualWorkingValue(t);if(b.isNumber(g)){b.isNumber(n[t])||(n[t]=0),n[t]++,b.isNumber(r[t])||(r[t]=0),r[t]+=g,b.isNumber(o[t])||(o[t]=0),o[t]+=Math.abs(g),b.isNumber(l[t])||(l[t]=g),u[t]=g,b.isNumber(a[t])?a[t]>g&&(a[t]=g):a[t]=g,b.isNumber(s[t])?s[t]<g&&(s[t]=g):s[t]=g,b.isNumber(p[t])||(p[t]=e.getFirstValue(t,d)),b.isNumber(c[t])||(c[t]=e.getAbsoluteFirstValue(t)),f.setCalculatedValue(t,g-p[t],"change"),f.setCalculatedValue(t,(g-p[t])/p[t]*100,"changePercent"),f.setCalculatedValue(t,g-c[t],"startChange"),f.setCalculatedValue(t,(g-c[t])/c[t]*100,"startChangePercent");var m=h[t];b.isNumber(m)||(m=g),f.setCalculatedValue(t,g-m,"previousChange"),f.setCalculatedValue(t,(g-m)/m*100,"previousChangePercent"),h[t]=g}}))},y=d;y<f;y++)m(y);if(this.calculatePercent){var v=function(t){var n=i.getIndex(t);J.each(n.values,(function(t){var i=o[t],r=n.getActualWorkingValue(t);if(b.isNumber(r))if(i>0){e.usePercentHack&&r==i&&(i=n.values[t].value);var a=r/i*100;n.setCalculatedValue(t,a,"percent")}else n.setCalculatedValue(t,0,"percent")}))};for(y=d;y<f;y++)v(y)}if(d>0){var P=i.getIndex(d-1);J.each(P.values,(function(t){var e=P.values[t].value;P.setCalculatedValue(t,e-l[t],"change"),P.setCalculatedValue(t,(e-l[t])/l[t]*100,"changePercent")}))}var _=this.dataItem;J.each(_.values,(function(t){_.setCalculatedValue(t,r[t],"sum"),_.setCalculatedValue(t,o[t],"absoluteSum"),_.setCalculatedValue(t,r[t]/n[t],"average"),_.setCalculatedValue(t,l[t],"open"),_.setCalculatedValue(t,u[t],"close"),_.setCalculatedValue(t,a[t],"low"),_.setCalculatedValue(t,s[t],"high"),_.setCalculatedValue(t,n[t],"count")}))}},e.prototype.validate=function(){v.isIE()&&this.filters.clear(),N.each(this.axisRanges.iterator(),(function(t){t.validate()})),t.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){(n=this.dataItems.getIndex(i))&&n.bullets.each((function(t,e){e.__disabled=!0}))}for(i=this.dataItems.length-1;i>this.endIndex;i--){var n;(n=this.dataItems.getIndex(i))&&n.bullets.each((function(t,e){e.__disabled=!0}))}}else this.bulletsContainer.children.each((function(t){t.__disabled=!0}));this.updateTooltipBounds()},e.prototype.updateTooltipBounds=function(){if(this.topParent){var t={x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight};this.tooltip.setBounds(t)}},e.prototype.shouldCreateBullet=function(t,e){return!0},e.prototype.validateDataElement=function(e){var i=this;t.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(t){var n=e.bullets.getKey(t.uid);if(i.shouldCreateBullet(e,t)){if(!n){var r=t.propertyFields.disabled,o=e.dataContext;r&&o&&!1===o[r]?(t.applyOnClones=!1,t.disabled=!1,n=t.clone(),t.disabled=!0,t.applyOnClones=!0):n=t.clone(),n.shouldClone=!1,e.addSprite(n),i.visible&&!i.isHiding||n.hide(0)}var a=n.dataItem;if(a!=e){a&&a.bullets.setKey(t.uid,void 0);var s=i.itemReaderText;n instanceof ht&&(s||(s="{"+n.xField+"}: {"+n.yField+"}"),n.isDynamic&&(e.events.on("workingvaluechanged",n.deepInvalidate,n,!1),i.dataItem.events.on("workingvaluechanged",n.deepInvalidate,n,!1)),n.deepInvalidate()),n.focusable&&(n.events.on("focus",(function(t){n.readerTitle=i.populateString(s,n.dataItem)}),void 0,!1),n.events.on("blur",(function(t){n.readerTitle=""}),void 0,!1)),n.hoverable&&(n.events.on("over",(function(t){n.readerTitle=i.populateString(s,n.dataItem)}),void 0,!1),n.events.on("out",(function(t){n.readerTitle=""}),void 0,!1))}n.parent=i.bulletsContainer,e.bullets.setKey(t.uid,n),n.maxWidth=e.itemWidth,n.maxHeight=e.itemHeight,n.__disabled=!1,i.positionBullet(n)}else n&&(n.__disabled=!0)}))):this.bulletsContainer.visible=!1},e.prototype.handleDataItemWorkingValueChange=function(t,e){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){this._ignoreMinMax=t,this.invalidateDataItems()},enumerable:!0,configurable:!0}),e.prototype.createMask=function(){},e.prototype.processAxisRange=function(t){this.rangesContainer||(this.rangesContainer=this.createChild(p.W),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var e=t.newValue;e&&(e.contents.parent=this.rangesContainer,e.isRange=!0,e.events.on("valuechanged",this.invalidateDataItems,this,!1))},e.prototype.getAxisField=function(t){},e.prototype.showTooltipAtPosition=function(t,e){},Object.defineProperty(e.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(t){this.setPropertyValue("minBulletDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new u.o(new ht),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new u.zQ(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),e.prototype.createLegendMarker=function(t){},Object.defineProperty(e.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(t){this.setPropertyValue("hiddenInLegend",t)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(t){this.setPropertyValue("name",t);var e=this.legendDataItem;e&&(e.component.invalidate(),e.component.invalidateRawData()),this.readerTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemReaderText",{get:function(){var t=this._itemReaderText;return t||(this.tooltipText?t=v.plainText(this.tooltipText):this.tooltipHTML&&(t=v.plainText(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",t):t},set:function(t){this._itemReaderText=t,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),e.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(e.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(t){this._legendDataItem=t,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(t,e){if(this.legendDataItem){var i=this.legendSettings,n=this.legendDataItem,r=n.label,o=n.valueLabel;t&&!t.isDisposed()||e?(o&&(i.itemValueText&&(o.text=i.itemValueText),o.dataItem=t),r&&(i.itemLabelText&&(r.text=i.itemLabelText),r.dataItem=t)):(r&&((i.labelText||void 0!=i.itemLabelText)&&(r.text=i.labelText),r.dataItem=this.dataItem),o&&((i.valueText||void 0!=i.itemValueText)&&(o.text=i.valueText),o.dataItem=this.dataItem))}},e.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,t.prototype.copyFrom.call(this,e)},e.prototype.raiseCriticalError=function(t){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",t).message,this._chart.modal.closable=!1,pt.Y.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),pt.Y.verbose&&console.log(t)},e.prototype.applyFilters=function(){var e=this;t.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),N.each(this.filters.iterator(),(function(t){e.bulletsContainer.filters.push(t.clone())}))},Object.defineProperty(e.prototype,"heatRules",{get:function(){var t=this;return this._heatRules||(this._heatRules=new u.aV,this._heatRules.events.on("inserted",(function(e){var i=e.newValue,n=i.target;if(n){var r=i.dataField;b.hasValue(r)||(r="value");var o=t.dataItem,a=i.property,s=b.toNumber(i.minValue),l=b.toNumber(i.maxValue);b.isNumber(s)||b.isNumber(l)||t.dataItem.events.on("calculatedvaluechanged",(function(e){e.property==r&&N.each(t.dataItems.iterator(),(function(t){var e=!1;G.each(t.sprites,(function(t){if(t.clonedFrom==n){var i=t;i[a]=i[a],e=!0}})),e||G.each(t.sprites,(function(t){t instanceof p.W&&N.each(t.children.iterator(),(function(t){if(t.className==n.className){var e=t;e[a]=e[a]}else t instanceof p.W&&t.deepInvalidate()}))}))}))})),t.dataItems.template.events.on("workingvaluechanged",(function(t){if(t.property==r){var e=t.target,i=!1;G.each(e.sprites,(function(t){if(t.clonedFrom==n){var e=t;e[a]=e[a],i=!0}})),i||G.each(e.sprites,(function(t){t instanceof p.W&&N.each(t.children.iterator(),(function(t){if(t.className==n.className){var e=t;e[a]=e[a]}else t instanceof p.W&&t.deepInvalidate()}))}))}})),n.adapter.add(a,(function(t,e,n){var a=b.toNumber(i.minValue),s=b.toNumber(i.maxValue),l=i.min,u=i.max;if(e instanceof P.jy){var h=e.propertyFields[n];if(h&&e.dataItem){var p=e.dataItem.dataContext;if(p&&b.hasValue(p[h]))return t}}var c=e.dataItem;if((b.isNumber(a)||(a=o.values[r].low),b.isNumber(s)||(s=o.values[r].high),c)&&c.values[r]){var d=c.getActualWorkingValue(r);if(b.hasValue(l)&&b.hasValue(u)&&b.isNumber(a)&&b.isNumber(s)&&b.isNumber(d)){var f=void 0;if(f=i.logarithmic?(Math.log(d)*Math.LOG10E-Math.log(a)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(a)*Math.LOG10E):(d-a)/(s-a),!b.isNumber(d)||b.isNumber(f)&&Math.abs(f)!=1/0||(f=.5),b.isNumber(l))return l+(u-l)*f;if(l instanceof I.Il)return new I.Il(nt.interpolate(l.rgb,u.rgb,f))}}return t}))}}))),this._heatRules},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){var i;if(e){if(b.hasValue(e.bullets)&&b.isArray(e.bullets))for(var n=0,r=e.bullets.length;n<r;n++){var o=e.bullets[n];b.hasValue(o.type)||(o.type="Bullet")}b.hasValue(e.heatRules)&&b.isArray(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(t.prototype.processConfig.call(this,e),i){for(n=0,r=i.length;n<r;n++){var a=i[n],s=this;if(b.hasValue(a.target)&&b.isString(a.target))if(this.map.hasKey(a.target))s=this.map.getKey(a.target);else for(var l=a.target.split("."),h=0;h<l.length;h++)if(s instanceof u.aV){var p=s.getIndex(b.toNumber(l[h]));s=p||s[l[h]]}else{var c=l[h].match(/^(.*)\[([0-9]+)\]/);s=c?s[c[1]]instanceof u.aV?s[c[1]].getIndex(b.toNumber(c[2])):s[c[1]][b.toNumber(c[2])]:s[l[h]]}a.target=s,b.hasValue(a.min)&&(a.min=this.maybeColorOrPercent(a.min)),b.hasValue(a.max)&&(a.max=this.maybeColorOrPercent(a.max))}t.prototype.processConfig.call(this,{heatRules:i})}},e.prototype.configOrder=function(e,i){return e==i?0:"heatRules"==e?1:"heatRules"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(s.w);f.i.registeredClasses.Series=ft,f.i.registeredClasses.SeriesDataItem=dt;var gt=i(59688),mt=function(t){function e(){var e=t.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(st),yt=function(t){function e(){var e=t.call(this)||this;e.className="SerialChart",e.colors=new gt.U,e._usesData=!1;var i=e.chartContainer.createChild(p.W);i.shouldClone=!1,i.width=(0,m.aQ)(100),i.height=(0,m.aQ)(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var n=e.chartContainer.createChild(p.W);return n.shouldClone=!1,n.width=(0,m.aQ)(100),n.height=(0,m.aQ)(100),n.isMeasured=!1,n.zIndex=3,n.layout="none",e.bulletsContainer=n,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.o(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new u.zQ(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesRemoved=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),this.dataUsers.each((function(t){t.invalidateDataItems()})),e.autoDispose?e.dispose():(e.parent=void 0,e.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var n=this.legend.dataItems,r=n.length-1;r>=0;r--){var o=n.getIndex(r);o&&o.dataContext==e&&i.dataItems.remove(o)}for(r=i.data.length-1;r>=0;r--){var a=i.data[r];a&&a==e&&G.remove(i.data,a)}}},e.prototype.handleSeriesAdded=function(t){var e=this,i=t.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new _.ku((function(){e.dataUsers.removeValue(i)}))),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i))},e.prototype.handleLegendSeriesAdded=function(t){t.hiddenInLegend||this.legend&&this.legend.addData(t)},e.prototype.handleSeriesAdded2=function(t){var e=this;this.dataInvalid||this._disposers.push(f.i.events.once("exitframe",(function(){t.data&&0!=t.data.length||(t.data=e.data,t.showOnInit&&(t.reinit(),t.setPropertyValue("showOnInit",!1),t.showOnInit=!0),t.isDisposed()||t.events.once("datavalidated",(function(){t.data==e.data&&(t._data=[])})))})))},e.prototype.feedLegend=function(){var t=this.legend;if(t){var e=[];N.each(this.series.iterator(),(function(t){t.hiddenInLegend||e.push(t)})),t.dataFields.name="name",t.data=e}},e.prototype.createSeries=function(){return new ft},Object.defineProperty(e.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(t){this.setPropertyValue("colors",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(t){this.setPropertyValue("patterns",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},e.prototype.appear=function(){t.prototype.appear.call(this),this.series.each((function(t){t.showOnInit&&t.inited&&t.appear()}))},e}(lt);f.i.registeredClasses.SerialChart=yt;var vt=i(15671),bt=i(43144),xt=function(){function t(){(0,vt.Z)(this,t),this._partials=new Float64Array(32),this._n=0}return(0,bt.Z)(t,[{key:"add",value:function(t){for(var e=this._partials,i=0,n=0;n<this._n&&n<32;n++){var r=e[n],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(e[i++]=a),t=o}return e[i]=t,this._n=i+1,this}},{key:"valueOf",value:function(){var t,e,i,n=this._partials,r=this._n,o=0;if(r>0){for(o=n[--r];r>0&&(t=o,!(i=(e=n[--r])-((o=t+e)-t))););r>0&&(i<0&&n[r-1]<0||i>0&&n[r-1]>0)&&(e=2*i)==(t=o+e)-o&&(o=t)}return o}}]),t}();var Pt=1e-6,_t=1e-12,Mt=Math.PI,Ct=Mt/2,Tt=Mt/4,Lt=2*Mt,wt=180/Mt,St=Mt/180,Vt=Math.abs,It=Math.atan,Ot=Math.atan2,jt=Math.cos,kt=Math.ceil,Dt=Math.exp,Et=(Math.floor,Math.hypot),Nt=Math.log,At=Math.pow,Gt=Math.sin,Rt=Math.sign||function(t){return t>0?1:t<0?-1:0},Ft=Math.sqrt,zt=Math.tan;function Bt(t){return t>1?0:t<-1?Mt:Math.acos(t)}function Wt(t){return t>1?Ct:t<-1?-Ct:Math.asin(t)}function Zt(t){return(t=Gt(t/2))*t}function Ht(){}function Xt(t,e){t&&Yt.hasOwnProperty(t.type)&&Yt[t.type](t,e)}var Qt={Feature:function(t,e){Xt(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)Xt(i[n].geometry,e)}},Yt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ut(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Ut(i[n],e,0)},Polygon:function(t,e){Kt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Kt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)Xt(i[n],e)}};function Ut(t,e,i){var n,r=-1,o=t.length-i;for(e.lineStart();++r<o;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function Kt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Ut(t[i],e,1);e.polygonEnd()}function qt(t,e){t&&Qt.hasOwnProperty(t.type)?Qt[t.type](t,e):Xt(t,e)}var $t,Jt,te,ee,ie,ne,re,oe,ae,se,le,ue,he,pe,ce,de,fe=new xt,ge=new xt,me={point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){fe=new xt,me.lineStart=ye,me.lineEnd=ve},polygonEnd:function(){var t=+fe;ge.add(t<0?Lt+t:t),this.lineStart=this.lineEnd=this.point=Ht},sphere:function(){ge.add(Lt)}};function ye(){me.point=be}function ve(){xe($t,Jt)}function be(t,e){me.point=xe,$t=t,Jt=e,te=t*=St,ee=jt(e=(e*=St)/2+Tt),ie=Gt(e)}function xe(t,e){var i=(t*=St)-te,n=i>=0?1:-1,r=n*i,o=jt(e=(e*=St)/2+Tt),a=Gt(e),s=ie*a,l=ee*o+s*jt(r),u=s*n*Gt(r);fe.add(Ot(u,l)),te=t,ee=o,ie=a}function Pe(t){return ge=new xt,qt(t,me),2*ge}function _e(t){return[Ot(t[1],t[0]),Wt(t[2])]}function Me(t){var e=t[0],i=t[1],n=jt(i);return[n*jt(e),n*Gt(e),Gt(i)]}function Ce(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Te(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Le(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function we(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Se(t){var e=Ft(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ve={point:Ie,lineStart:je,lineEnd:ke,polygonStart:function(){Ve.point=De,Ve.lineStart=Ee,Ve.lineEnd=Ne,pe=new xt,me.polygonStart()},polygonEnd:function(){me.polygonEnd(),Ve.point=Ie,Ve.lineStart=je,Ve.lineEnd=ke,fe<0?(ne=-(oe=180),re=-(ae=90)):pe>Pt?ae=90:pe<-Pt&&(re=-90),de[0]=ne,de[1]=oe},sphere:function(){ne=-(oe=180),re=-(ae=90)}};function Ie(t,e){ce.push(de=[ne=t,oe=t]),e<re&&(re=e),e>ae&&(ae=e)}function Oe(t,e){var i=Me([t*St,e*St]);if(he){var n=Te(he,i),r=Te([n[1],-n[0],0],n);Se(r),r=_e(r);var o,a=t-se,s=a>0?1:-1,l=r[0]*wt*s,u=Vt(a)>180;u^(s*se<l&&l<s*t)?(o=r[1]*wt)>ae&&(ae=o):u^(s*se<(l=(l+360)%360-180)&&l<s*t)?(o=-r[1]*wt)<re&&(re=o):(e<re&&(re=e),e>ae&&(ae=e)),u?t<se?Ae(ne,t)>Ae(ne,oe)&&(oe=t):Ae(t,oe)>Ae(ne,oe)&&(ne=t):oe>=ne?(t<ne&&(ne=t),t>oe&&(oe=t)):t>se?Ae(ne,t)>Ae(ne,oe)&&(oe=t):Ae(t,oe)>Ae(ne,oe)&&(ne=t)}else ce.push(de=[ne=t,oe=t]);e<re&&(re=e),e>ae&&(ae=e),he=i,se=t}function je(){Ve.point=Oe}function ke(){de[0]=ne,de[1]=oe,Ve.point=Ie,he=null}function De(t,e){if(he){var i=t-se;pe.add(Vt(i)>180?i+(i>0?360:-360):i)}else le=t,ue=e;me.point(t,e),Oe(t,e)}function Ee(){me.lineStart()}function Ne(){De(le,ue),me.lineEnd(),Vt(pe)>Pt&&(ne=-(oe=180)),de[0]=ne,de[1]=oe,he=null}function Ae(t,e){return(e-=t)<0?e+360:e}function Ge(t,e){return t[0]-e[0]}function Re(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Fe(t){var e,i,n,r,o,a,s;if(ae=oe=-(ne=re=1/0),ce=[],qt(t,Ve),i=ce.length){for(ce.sort(Ge),e=1,o=[n=ce[0]];e<i;++e)Re(n,(r=ce[e])[0])||Re(n,r[1])?(Ae(n[0],r[1])>Ae(n[0],n[1])&&(n[1]=r[1]),Ae(r[0],n[1])>Ae(n[0],n[1])&&(n[0]=r[0])):o.push(n=r);for(a=-1/0,e=0,n=o[i=o.length-1];e<=i;n=r,++e)r=o[e],(s=Ae(n[1],r[0]))>a&&(a=s,ne=r[0],oe=n[1])}return ce=de=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[oe,ae]]}var ze=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeriesDataItem",e.values.value={},e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.properties.zoomLevel},set:function(t){this.setProperty("zoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){return this.properties.zoomGeoPoint},set:function(t){this.setProperty("zoomGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return this._east},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return this._west},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return this._south},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return this._north},enumerable:!0,configurable:!0}),e.prototype.updateExtremes=function(){var t=this.getFeature().geometry;if(t){var e=Fe(t),i=e[0][0],n=e[0][1],r=e[1][1],o=e[1][0],a=!1;r!=this.north&&(this._north=x.round(r,6),a=!0),n!=this.south&&(this._south=x.round(n,6),a=!0),o!=this.east&&(this._east=x.round(o,6),a=!0),i!=this.west&&(this._west=x.round(i,6),a=!0),this._east<this._west&&(this._east=180,this._west=-180),a&&this.component.invalidateDataItems()}},e.prototype.getFeature=function(){return{}},e}(dt),Be=function(t){function e(){var e=t.call(this)||this;return e.className="MapSeries",e.isMeasured=!1,e.nonScalingStroke=!0,e.dataFields.value="value",e.ignoreBounds=!1,e.tooltip&&(e.tooltip.showInViewport=!0),e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new ze},e.prototype.checkInclude=function(t,e,i){if(t){if(0==t.length)return!1;if(-1==t.indexOf(i))return!1}return!(e&&e.length>0&&-1!=e.indexOf(i))},Object.defineProperty(e.prototype,"useGeodata",{get:function(){return this.getPropertyValue("useGeodata")},set:function(t){this.setPropertyValue("useGeodata",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"include",{get:function(){return this.getPropertyValue("include")},set:function(t){this.setPropertyValue("include",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.processIncExc=function(){this.invalidateData()},Object.defineProperty(e.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(t){this.setPropertyValue("ignoreBounds",t)&&this.chart&&this.chart.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclude",{get:function(){return this.getPropertyValue("exclude")},set:function(t){this.setPropertyValue("exclude",t)&&this.processIncExc()},enumerable:!0,configurable:!0}),e.prototype.handleObjectAdded=function(t){var e=t.newValue;e.parent=this,e.series=this,e.strokeWidth=e.strokeWidth},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){if(t!=this._geodata){this._geodata=t,this.reverseGeodata&&this.chart.processReverseGeodata(this._geodata);for(var e=this.data.length-1;e>=0;e--)1==this.data[e].madeFromGeoData&&this.data.splice(e,1);this.disposeData(),this.invalidateData()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseGeodata",{get:function(){return this.getPropertyValue("reverseGeodata")},set:function(t){this.setPropertyValue("reverseGeodata",t)&&this._geodata&&this.chart.processReverseGeodata(this._geodata)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geodataSource",{get:function(){return this._dataSources.geodata||this.getDataSource("geodata"),this._dataSources.geodata},set:function(t){var e=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=t,this._dataSources.geodata.component=this,this.events.on("inited",(function(){e.loadData("geodata")}),void 0,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.getFeatures=function(){},e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,n;this.dataItems.each((function(r){(r.north>t||!b.isNumber(t))&&(t=r.north),(r.south<e||!b.isNumber(e))&&(e=r.south),(r.west<n||!b.isNumber(n))&&(n=r.west),(r.east>i||!b.isNumber(i))&&(i=r.east)})),this._mapObjects&&this._mapObjects.each((function(r){(r.north>t||!b.isNumber(t))&&(t=r.north),(r.south<e||!b.isNumber(e))&&(e=r.south),(r.west<n||!b.isNumber(n))&&(n=r.west),(r.east>i||!b.isNumber(i))&&(i=r.east)})),this.north==t&&this.east==i&&this.south==e&&this.west==n||(this._north=t,this._east=i,this._west=n,this._south=e,this.dispatch("geoBoundsChanged"),this.ignoreBounds||this.chart.updateExtremes())},Object.defineProperty(e.prototype,"north",{get:function(){return b.isNumber(this._northDefined)?this._northDefined:this._north},set:function(t){this._northDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return b.isNumber(this._southDefined)?this._southDefined:this._south},set:function(t){this._southDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return b.isNumber(this._westDefined)?this._westDefined:this._west},set:function(t){this._westDefined=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return b.isNumber(this._eastDefined)?this._eastDefined:this._east},set:function(t){this._eastDefined=t},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(b.hasValue(e.geodata)&&b.isString(e.geodata)){var i=e.geodata;if(b.hasValue(window["am4geodata_"+e.geodata]))e.geodata=window["am4geodata_"+e.geodata];else try{e.geodata=JSON.parse(e.geodata)}catch(n){throw Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect.")}}t.prototype.processConfig.call(this,e)},e.prototype.asIs=function(e){return"geodata"==e||t.prototype.asIs.call(this,e)},e.prototype.updateTooltipBounds=function(){this.tooltip&&this.topParent&&this.tooltip.setBounds({x:10,y:10,width:this.topParent.maxWidth-20,height:this.topParent.maxHeight-20})},e}(ft);f.i.registeredClasses.MapSeries=Be,f.i.registeredClasses.MapSeriesDataItem=ze;var We=function(t){function e(){var e=t.call(this)||this;return e.className="MapObject",e.isMeasured=!1,e.layout="none",e.clickable=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.validate=function(){this.series&&this.series.itemReaderText&&(this.readerTitle=this.series.itemReaderText),t.prototype.validate.call(this)},e.prototype.updateExtremes=function(){var t=this.getFeature();if(t){var e=t.geometry;if(e){var i=Fe(e),n=i[0][0],r=i[0][1],o=i[1][1],a=i[1][0],s=!1;o!=this.north&&(this._north=x.round(o,8),s=!0),r!=this.south&&(this._south=x.round(r),s=!0),a!=this.east&&(this._east=x.round(a),s=!0),n!=this.west&&(this._west=x.round(n),s=!0),s&&(this.dispatch("geoBoundsChanged"),this.series&&this.series.invalidateDataItems())}}},e.prototype.getFeature=function(){return{}},Object.defineProperty(e.prototype,"east",{get:function(){return b.isNumber(this._east)?this._east:this.dataItem?this.dataItem.east:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return b.isNumber(this._west)?this._west:this.dataItem?this.dataItem.west:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return b.isNumber(this._south)?this._south:this.dataItem?this.dataItem.south:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return b.isNumber(this._north)?this._north:this.dataItem?this.dataItem.north:void 0},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(e){var i=t.prototype.showTooltip.call(this,e);return i&&"always"==this.showTooltipOn&&!this.series.chart.events.has("mappositionchanged",this.handleTooltipMove,this)&&this.addDisposer(this.series.chart.events.on("mappositionchanged",this.handleTooltipMove,this)),i},e.prototype.handleTooltipMove=function(t){this.tooltip.isHidden||this.showTooltip()},e.prototype.setDataItem=function(e){t.prototype.setDataItem.call(this,e),this.applyAccessibility()},e}(p.W);f.i.registeredClasses.MapObject=We;var Ze=function(t){function e(){var e=t.call(this)||this;return e.className="MapImage",e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"latitude",{get:function(){var t=this.getPropertyValue("latitude");return!b.isNumber(t)&&this.dataItem&&this.dataItem.geoPoint&&(t=this.dataItem.geoPoint.latitude),t},set:function(t){this.setPropertyValue("latitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){var t=this.getPropertyValue("longitude");return!b.isNumber(t)&&this.dataItem&&this.dataItem.geoPoint&&(t=this.dataItem.geoPoint.longitude),t},set:function(t){this.setPropertyValue("longitude",t,!1,!0),this.updateExtremes()},enumerable:!0,configurable:!0}),e.prototype.validatePosition=function(){if(b.isNumber(this.latitude)&&b.isNumber(this.longitude)){var e=this.series.chart.projection.d3Projection([this.longitude,this.latitude]),i=this.series.chart.projection.d3Path({type:"Point",coordinates:[this.longitude,this.latitude]});this.__disabled=!i,this.moveTo({x:e[0],y:e[1]})}t.prototype.validatePosition.call(this)},e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:[this.longitude,this.latitude]}}},e}(We);f.i.registeredClasses.MapImage=Ze;var He=i(39569),Xe=i(11423),Qe=i.n(Xe);function Ye(t){return function(){return t}}function Ue(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i}function Ke(t,e){return[Vt(t)>Mt?t+Math.round(-t/Lt)*Lt:t,e]}function qe(t,e,i){return(t%=Lt)?e||i?Ue(Je(t),ti(e,i)):Je(t):e||i?ti(e,i):Ke}function $e(t){return function(e,i){return[(e+=t)>Mt?e-Lt:e<-Mt?e+Lt:e,i]}}function Je(t){var e=$e(t);return e.invert=$e(-t),e}function ti(t,e){var i=jt(t),n=Gt(t),r=jt(e),o=Gt(e);function a(t,e){var a=jt(e),s=jt(t)*a,l=Gt(t)*a,u=Gt(e),h=u*i+s*n;return[Ot(l*r-h*o,s*i-u*n),Wt(h*r+l*o)]}return a.invert=function(t,e){var a=jt(e),s=jt(t)*a,l=Gt(t)*a,u=Gt(e),h=u*r-l*o;return[Ot(l*r+u*o,s*i+h*n),Wt(h*i-s*n)]},a}function ei(t){function e(e){return(e=t(e[0]*St,e[1]*St))[0]*=wt,e[1]*=wt,e}return t=qe(t[0]*St,t[1]*St,t.length>2?t[2]*St:0),e.invert=function(e){return(e=t.invert(e[0]*St,e[1]*St))[0]*=wt,e[1]*=wt,e},e}function ii(t,e,i,n,r,o){if(i){var a=jt(e),s=Gt(e),l=n*i;null==r?(r=e+n*Lt,o=e-l/2):(r=ni(a,r),o=ni(a,o),(n>0?r<o:r>o)&&(r+=n*Lt));for(var u,h=r;n>0?h>o:h<o;h-=l)u=_e([a,-s*jt(h),-s*Gt(h)]),t.point(u[0],u[1])}}function ni(t,e){(e=Me(e))[0]-=t,Se(e);var i=Bt(-e[1]);return((-e[2]<0?-i:i)+Lt-Pt)%Lt}function ri(){var t,e,i=Ye([0,0]),n=Ye(90),r=Ye(6),o={point:function(i,n){t.push(i=e(i,n)),i[0]*=wt,i[1]*=wt}};function a(){var a=i.apply(this,arguments),s=n.apply(this,arguments)*St,l=r.apply(this,arguments)*St;return t=[],e=qe(-a[0]*St,-a[1]*St,0).invert,ii(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(i="function"===typeof t?t:Ye([+t[0],+t[1]]),a):i},a.radius=function(t){return arguments.length?(n="function"===typeof t?t:Ye(+t),a):n},a.precision=function(t){return arguments.length?(r="function"===typeof t?t:Ye(+t),a):r},a}function oi(t){return G.map(t,(function(t){var e=t[0],i=t[1],n=[];return e&&n.push(si(e)),i&&n.push(si(i)),n}))}function ai(t){return G.map(t,(function(t){return si(t)}))}function si(t){return G.map(t,(function(t){return ui(t)}))}function li(t){return G.map(t,hi)}function ui(t){return{longitude:t[0],latitude:t[1]}}function hi(t){return[t.longitude,t.latitude]}function pi(t){return G.map(t,(function(t){return G.map(t,hi)}))}function ci(t){return G.map(t,(function(t){var e=t[0],i=t[1],n=[];return e&&n.push(li(e)),i&&n.push(li(i)),n}))}function di(t,e,i){return[ri().center([t,e]).radius(i)().coordinates]}function fi(t,e,i,n){var r=[];-180==n&&(n=-179.9999),-90==i&&(i=-89.9999),90==t&&(t=89.9999),180==e&&(e=179.9999);for(var o=Math.min(90,(e-n)/Math.ceil((e-n)/90)),a=(t-i)/Math.ceil((t-i)/90),s=n;s<e;s+=o){var l=[];r.push([l]),s+o>e&&(o=e-s);for(var u=s;u<=s+o;u+=5)l.push([u,t]);for(var h=t;h>=i;h-=a)l.push([s+o,h]);for(u=s+o;u>=s;u-=5)l.push([u,i]);for(h=i;h<=t;h+=a)l.push([s,h])}return r}Ke.invert=Ke;var gi=function(t){function e(){var e=t.call(this)||this;e.className="MapPolygon",e.polygon=e.createChild(He.m),e.polygon.shouldClone=!1,e.polygon.applyOnClones=!0,e.setPropertyValue("precision",.5);var i=new y.h;return e.fill=i.getFor("secondaryButton"),e.stroke=i.getFor("secondaryButtonStroke"),e.strokeOpacity=1,e.tooltipPosition="pointer",e.nonScalingStroke=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){var t=this.getPropertyValue("multiGeoPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiGeoPolygon),t},set:function(t){this.setPropertyValue("multiGeoPolygon",t,!0),this.multiPolygon=ci(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){var t=this.getPropertyValue("multiPolygon");return!t&&this.dataItem&&(t=this.dataItem.multiPolygon),t},set:function(t){this.setPropertyValue("multiPolygon",t)&&(this.updateExtremes(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.validate=function(){if(this.series){var e=this.series.chart.projection,i=e.d3Path;if(this.multiPolygon){if(this.series){var n={type:"MultiPolygon",coordinates:this.multiPolygon};e.d3Projection.precision(this.precision),this.polygon.path=i(n)}if(this.series.calculateVisualCenter){var r=0,o=this.multiPolygon[0];if(this.multiPolygon.length>1)for(var a=0;a<this.multiPolygon.length;a++){var s=this.multiPolygon[a],l=Pe({type:"Polygon",coordinates:s});l>r&&(o=s,r=l)}var u=Qe()(o);this._visualLongitude=u[0],this._visualLatitude=u[1]}else this._visualLongitude=this.longitude,this._visualLatitude=this.latitude}}t.prototype.validate.call(this)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLatitude",{get:function(){var t=this.getPropertyValue("visualLatitude");return b.isNumber(t)?t:this._adapterO?this._adapterO.apply("visualLatitude",this._visualLatitude):this._visualLatitude},set:function(t){this.setPropertyValue("visualLatitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visualLongitude",{get:function(){var t=this.getPropertyValue("visualLongitude");return b.isNumber(t)?t:this._adapterO?this._adapterO.apply("visualLongitude",this._visualLongitude):this._visualLongitude},set:function(t){this.setPropertyValue("visualLongitude",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){return this.polygon.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){return this.polygon.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.polygon.copyFrom(e.polygon)},e.prototype.updateExtremes=function(){t.prototype.updateExtremes.call(this)},Object.defineProperty(e.prototype,"boxArea",{get:function(){return(this.north-this.south)*(this.east-this.west)},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).x},e.prototype.getTooltipY=function(){return this.series.chart.projection.convert({longitude:this.visualLongitude,latitude:this.visualLatitude}).y},Object.defineProperty(e.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(t){this.setPropertyValue("precision",t,!0)},enumerable:!0,configurable:!0}),e}(We);f.i.registeredClasses.MapPolygon=gi;var mi=function(t){function e(){var e=t.call(this)||this;return e.className="MapPolygonSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.getFeature=function(){if(this.multiPolygon&&this.multiPolygon.length>0)return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:this.multiPolygon}}},Object.defineProperty(e.prototype,"mapPolygon",{get:function(){var t=this;if(!this._mapPolygon){var e=this.component.mapPolygons.create();this._mapPolygon=e,this.addSprite(e),this._disposers.push(new _.ku((function(){t.component&&t.component.mapPolygons.removeValue(e)}))),this.mapObject=e}return this._mapPolygon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this.multiPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPolygon",{get:function(){return this._multiPolygon},set:function(t){this._multiPolygon=t,this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},set:function(t){this._geoPolygon=t,this.multiGeoPolygon=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoPolygon",{get:function(){return this._multiGeoPolygon},set:function(t){this._multiGeoPolygon=t,this.multiPolygon=ci(t)},enumerable:!0,configurable:!0}),e}(ze),yi=function(t){function e(){var e=t.call(this)||this;return e.calculateVisualCenter=!1,e.className="MapPolygonSeries",e.dataFields.multiPolygon="multiPolygon",e.dataFields.polygon="polygon",e.dataFields.geoPolygon="geoPolygon",e.dataFields.multiGeoPolygon="multiGeoPolygon",e.setPropertyValue("sortPolygonsBy","area"),e.setPropertyValue("sortPolygonsReversed",!1),e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new mi},e.prototype.processIncExc=function(){this.mapPolygons.clear(),t.prototype.processIncExc.call(this)},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this._dataSources.geodata?void 0:this.chart.geodata;if(this.geodata&&(e=this.geodata),e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var n=function(t,e){var n=i[t],o=n.geometry;if(o){var a=o.type,s=n.id;if(r.chart.geodataNames&&r.chart.geodataNames[s]&&(n.properties.name=r.chart.geodataNames[s]),"Polygon"==a||"MultiPolygon"==a){if(!r.checkInclude(r.include,r.exclude,s))return"continue";var l=o.coordinates;l&&"Polygon"==a&&(l=[l]);var u=G.find(r.data,(function(t,e){return t.id==s}));u?u.multiPolygon||(u.multiPolygon=l):(u={multiPolygon:l,id:s,madeFromGeoData:!0},r.data.push(u)),v.softCopyProperties(n.properties,u)}}},r=this,o=0,a=i.length;o<a;o++)n(o)}}t.prototype.validateData.call(this)},e.prototype.validate=function(){if(t.prototype.validate.call(this),this.dataItems.each((function(t){v.used(t.mapPolygon)})),"none"!=this.sortPolygonsBy){var e=this.sortPolygonsBy,i=this.sortPolygonsReversed;this.mapPolygons.sort((function(t,n){var r="",o="",a=-1,s=1;switch(e){case"area":r=t.boxArea,o=n.boxArea,a=-1,s=1;break;case"name":r=t.dataItem.dataContext.name||"",o=n.dataItem.dataContext.name||"",a=1,s=-1;break;case"id":r=t.dataItem.dataContext.id||"",o=n.dataItem.dataContext.id||"",a=1,s=-1;break;case"latitude":r=i?t.south:t.north,o=i?n.south:n.north,a=-1,s=1;break;case"longitude":r=i?t.east:t.west,o=i?n.east:n.west,a=1,s=-1}return r<o?i?s:a:r>o?i?a:s:0})),this.mapPolygons.each((function(t,e){t.validate(),t.zIndex||t.propertyFields.zIndex||(t.zIndex=1e6-e)}))}},Object.defineProperty(e.prototype,"mapPolygons",{get:function(){if(!this._mapPolygons){var t=new gi,e=new u.o(t);this._disposers.push(new u.zQ(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapPolygons=e,this._mapObjects=e}return this._mapPolygons},enumerable:!0,configurable:!0}),e.prototype.getPolygonById=function(t){return N.find(this.mapPolygons.iterator(),(function(e){return e.dataItem.dataContext.id==t}))},e.prototype.copyFrom=function(e){this.mapPolygons.template.copyFrom(e.mapPolygons.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapPolygons.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},Object.defineProperty(e.prototype,"sortPolygonsBy",{get:function(){return this.getPropertyValue("sortPolygonsBy")},set:function(t){this.setPropertyValue("sortPolygonsBy",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortPolygonsReversed",{get:function(){return this.getPropertyValue("sortPolygonsReversed")},set:function(t){this.setPropertyValue("sortPolygonsReversed",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e}(Be);function vi(){var t,e=[];return{point:function(e,i,n){t.push([e,i,n])},lineStart:function(){e.push(t=[])},lineEnd:Ht,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function bi(t,e){return Vt(t[0]-e[0])<Pt&&Vt(t[1]-e[1])<Pt}function xi(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function Pi(t,e,i,n,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i,n=t[0],a=t[e];if(bi(n,a)){if(!n[2]&&!a[2]){for(r.lineStart(),o=0;o<e;++o)r.point((n=t[o])[0],n[1]);return void r.lineEnd()}a[0]+=2e-6}s.push(i=new xi(n,t,null,!0)),l.push(i.o=new xi(n,null,i,!1)),s.push(i=new xi(a,t,null,!1)),l.push(i.o=new xi(a,null,i,!0))}})),s.length){for(l.sort(e),_i(s),_i(l),o=0,a=l.length;o<a;++o)l[o].e=i=!i;for(var u,h,p=s[0];;){for(var c=p,d=!0;c.v;)if((c=c.n)===p)return;u=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(o=0,a=u.length;o<a;++o)r.point((h=u[o])[0],h[1]);else n(c.x,c.n.x,1,r);c=c.n}else{if(d)for(u=c.p.z,o=u.length-1;o>=0;--o)r.point((h=u[o])[0],h[1]);else n(c.x,c.p.x,-1,r);c=c.p}u=(c=c.o).z,d=!d}while(!c.v);r.lineEnd()}}}function _i(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Mi(t){return Vt(t[0])<=Mt?t[0]:Rt(t[0])*((Vt(t[0])+Mt)%Lt-Mt)}function Ci(t,e){var i=Mi(e),n=e[1],r=Gt(n),o=[Gt(i),-jt(i),0],a=0,s=0,l=new xt;1===r?n=Ct+Pt:-1===r&&(n=-Ct-Pt);for(var u=0,h=t.length;u<h;++u)if(c=(p=t[u]).length)for(var p,c,d=p[c-1],f=Mi(d),g=d[1]/2+Tt,m=Gt(g),y=jt(g),v=0;v<c;++v,f=x,m=_,y=M,d=b){var b=p[v],x=Mi(b),P=b[1]/2+Tt,_=Gt(P),M=jt(P),C=x-f,T=C>=0?1:-1,L=T*C,w=L>Mt,S=m*_;if(l.add(Ot(S*T*Gt(L),y*M+S*jt(L))),a+=w?C+T*Lt:C,w^f>=i^x>=i){var V=Te(Me(d),Me(b));Se(V);var I=Te(o,V);Se(I);var O=(w^C>=0?-1:1)*Wt(I[2]);(n>O||n===O&&(V[0]||V[1]))&&(s+=w^C>=0?1:-1)}}return(a<-Pt||a<Pt&&l<-1e-12)^1&s}f.i.registeredClasses.MapPolygonSeries=yi,f.i.registeredClasses.MapPolygonSeriesDataItem=mi;var Ti=i(71002);function Li(){Li=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,i){return t[e]=i}}function l(t,e,i,n){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),a=new M(n||[]);return o._invoke=function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return T()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=x(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=u(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,a),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function p(){}function c(){}function d(){}var f={};s(f,r,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==e&&i.call(m,r)&&(f=m);var y=d.prototype=p.prototype=Object.create(f);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var h=l.arg,p=h.value;return p&&"object"==(0,Ti.Z)(p)&&i.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(p).then((function(t){h.value=t,a(h)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function x(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=u(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return c.prototype=d,s(y,"constructor",d),s(d,"constructor",c),c.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var a=new b(l(e,i,n,r),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,r,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=C,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),_(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;_(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},t}var wi=i(40181);function Si(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,wi.Z)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}var Vi=Li().mark(Ii);function Ii(t){var e,i,n;return Li().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=Si(t),r.prev=1,e.s();case 3:if((i=e.n()).done){r.next=8;break}return n=i.value,r.delegateYield(n,"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r.catch(1),e.e(r.t1);case 13:return r.prev=13,e.f(),r.finish(13);case 16:case"end":return r.stop()}}),Vi,null,[[1,10,13,16]])}function Oi(t){return Array.from(Ii(t))}function ji(t,e,i,n){return function(r){var o,a,s,l=e(r),u=vi(),h=e(u),p=!1,c={point:d,lineStart:g,lineEnd:m,polygonStart:function(){c.point=y,c.lineStart=v,c.lineEnd=b,a=[],o=[]},polygonEnd:function(){c.point=d,c.lineStart=g,c.lineEnd=m,a=Oi(a);var t=Ci(o,n);a.length?(p||(r.polygonStart(),p=!0),Pi(a,Di,t,i,r)):t&&(p||(r.polygonStart(),p=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),p&&(r.polygonEnd(),p=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,i){t(e,i)&&r.point(e,i)}function f(t,e){l.point(t,e)}function g(){c.point=f,l.lineStart()}function m(){c.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),h.point(t,e)}function v(){h.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),h.lineEnd();var t,e,i,n,l=h.clean(),c=u.result(),d=c.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(i=c[0]).length-1)>0){for(p||(r.polygonStart(),p=!0),r.lineStart(),t=0;t<e;++t)r.point((n=i[t])[0],n[1]);r.lineEnd()}}else d>1&&2&l&&c.push(c.pop().concat(c.shift())),a.push(c.filter(ki))}return c}}function ki(t){return t.length>1}function Di(t,e){return((t=t.x)[0]<0?t[1]-Ct-Pt:Ct-t[1])-((e=e.x)[0]<0?e[1]-Ct-Pt:Ct-e[1])}var Ei=ji((function(){return!0}),(function(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Mt:-Mt,l=Vt(o-i);Vt(l-Mt)<Pt?(t.point(i,n=(n+a)/2>0?Ct:-Ct),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),e=0):r!==s&&l>=Mt&&(Vt(i-r)<Pt&&(i-=r*Pt),Vt(o-s)<Pt&&(o-=s*Pt),n=function(t,e,i,n){var r,o,a=Gt(t-i);return Vt(a)>Pt?It((Gt(e)*(o=jt(n))*Gt(i)-Gt(n)*(r=jt(e))*Gt(t))/(r*o*a)):(e+n)/2}(i,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(i=o,n=a),r=s},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}),(function(t,e,i,n){var r;if(null==t)r=i*Ct,n.point(-Mt,r),n.point(0,r),n.point(Mt,r),n.point(Mt,0),n.point(Mt,-r),n.point(0,-r),n.point(-Mt,-r),n.point(-Mt,0),n.point(-Mt,r);else if(Vt(t[0]-e[0])>Pt){var o=t[0]<e[0]?Mt:-Mt;r=i*o/2,n.point(-o,r),n.point(0,r),n.point(o,r)}else n.point(e[0],e[1])}),[-Mt,-Ct]);function Ni(t){var e=jt(t),i=6*St,n=e>0,r=Vt(e)>Pt;function o(t,i){return jt(t)*jt(i)>e}function a(t,i,n){var r=[1,0,0],o=Te(Me(t),Me(i)),a=Ce(o,o),s=o[0],l=a-s*s;if(!l)return!n&&t;var u=e*a/l,h=-e*s/l,p=Te(r,o),c=we(r,u);Le(c,we(o,h));var d=p,f=Ce(c,d),g=Ce(d,d),m=f*f-g*(Ce(c,c)-1);if(!(m<0)){var y=Ft(m),v=we(d,(-f-y)/g);if(Le(v,c),v=_e(v),!n)return v;var b,x=t[0],P=i[0],_=t[1],M=i[1];P<x&&(b=x,x=P,P=b);var C=P-x,T=Vt(C-Mt)<Pt;if(!T&&M<_&&(b=_,_=M,M=b),T||C<Pt?T?_+M>0^v[1]<(Vt(v[0]-x)<Pt?_:M):_<=v[1]&&v[1]<=M:C>Mt^(x<=v[0]&&v[0]<=P)){var L=we(d,(-f+y)/g);return Le(L,c),[v,_e(L)]}}}function s(e,i){var r=n?t:Mt-t,o=0;return e<-r?o|=1:e>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}return ji(o,(function(t){var e,i,l,u,h;return{lineStart:function(){u=l=!1,h=1},point:function(p,c){var d,f=[p,c],g=o(p,c),m=n?g?0:s(p,c):g?s(p+(p<0?Mt:-Mt),c):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,f))||bi(e,d)||bi(f,d))&&(f[2]=1),g!==l)h=0,g?(t.lineStart(),d=a(f,e),t.point(d[0],d[1])):(d=a(e,f),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(r&&e&&n^g){var y;m&i||!(y=a(f,e,!0))||(h=0,n?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&bi(e,f)||t.point(f[0],f[1]),e=f,l=g,i=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(u&&l)<<1}}}),(function(e,n,r,o){ii(o,t,i,r,e,n)}),n?[0,-t]:[-Mt,t-Mt])}var Ai=1e9,Gi=-Ai;function Ri(t,e,i,n){function r(r,o){return t<=r&&r<=i&&e<=o&&o<=n}function o(r,o,s,u){var h=0,p=0;if(null==r||(h=a(r,s))!==(p=a(o,s))||l(r,o)<0^s>0)do{u.point(0===h||3===h?t:i,h>1?n:e)}while((h=(h+s+4)%4)!==p);else u.point(o[0],o[1])}function a(n,r){return Vt(n[0]-t)<Pt?r>0?0:3:Vt(n[0]-i)<Pt?r>0?2:1:Vt(n[1]-e)<Pt?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var i=a(t,1),n=a(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,h,p,c,d,f,g,m,y,v,b=a,x=vi(),P={point:_,lineStart:function(){P.point=M,u&&u.push(h=[]);y=!0,m=!1,f=g=NaN},lineEnd:function(){l&&(M(p,c),d&&m&&x.rejoin(),l.push(x.result()));P.point=_,m&&b.lineEnd()},polygonStart:function(){b=x,l=[],u=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,r=u.length;i<r;++i)for(var o,a,s=u[i],l=1,h=s.length,p=s[0],c=p[0],d=p[1];l<h;++l)o=c,a=d,c=(p=s[l])[0],d=p[1],a<=n?d>n&&(c-o)*(n-a)>(d-a)*(t-o)&&++e:d<=n&&(c-o)*(n-a)<(d-a)*(t-o)&&--e;return e}(),i=v&&e,r=(l=Oi(l)).length;(i||r)&&(a.polygonStart(),i&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Pi(l,s,e,o,a),a.polygonEnd());b=a,l=u=h=null}};function _(t,e){r(t,e)&&b.point(t,e)}function M(o,a){var s=r(o,a);if(u&&h.push([o,a]),y)p=o,c=a,d=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var l=[f=Math.max(Gi,Math.min(Ai,f)),g=Math.max(Gi,Math.min(Ai,g))],x=[o=Math.max(Gi,Math.min(Ai,o)),a=Math.max(Gi,Math.min(Ai,a))];!function(t,e,i,n,r,o){var a,s=t[0],l=t[1],u=0,h=1,p=e[0]-s,c=e[1]-l;if(a=i-s,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>u&&(u=a)}if(a=r-s,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<h&&(h=a)}if(a=n-l,c||!(a>0)){if(a/=c,c<0){if(a<u)return;a<h&&(h=a)}else if(c>0){if(a>h)return;a>u&&(u=a)}if(a=o-l,c||!(a<0)){if(a/=c,c<0){if(a>h)return;a>u&&(u=a)}else if(c>0){if(a<u)return;a<h&&(h=a)}return u>0&&(t[0]=s+u*p,t[1]=l+u*c),h<1&&(e[0]=s+h*p,e[1]=l+h*c),!0}}}}}(l,x,t,e,i,n)?s&&(b.lineStart(),b.point(o,a),v=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),s||b.lineEnd(),v=!1)}f=o,g=a,m=s}return P}}var Fi=function(t){return t};function zi(t){return{stream:Bi(t)}}function Bi(t){return function(e){var i=new Wi;for(var n in t)i[n]=t[n];return i.stream=e,i}}function Wi(){}Wi.prototype={constructor:Wi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zi=1/0,Hi=Zi,Xi=-Zi,Qi=Xi,Yi={point:function(t,e){t<Zi&&(Zi=t);t>Xi&&(Xi=t);e<Hi&&(Hi=e);e>Qi&&(Qi=e)},lineStart:Ht,lineEnd:Ht,polygonStart:Ht,polygonEnd:Ht,result:function(){var t=[[Zi,Hi],[Xi,Qi]];return Xi=Qi=-(Hi=Zi=1/0),t}};var Ui=Yi;function Ki(t,e,i){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),qt(i,t.stream(Ui)),e(Ui.result()),null!=n&&t.clipExtent(n),t}function qi(t,e,i){return Ki(t,(function(i){var n=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(n/(i[1][0]-i[0][0]),r/(i[1][1]-i[0][1])),a=+e[0][0]+(n-o*(i[1][0]+i[0][0]))/2,s=+e[0][1]+(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([a,s])}),i)}function $i(t,e,i){return qi(t,[[0,0],e],i)}function Ji(t,e,i){return Ki(t,(function(i){var n=+e,r=n/(i[1][0]-i[0][0]),o=(n-r*(i[1][0]+i[0][0]))/2,a=-r*i[0][1];t.scale(150*r).translate([o,a])}),i)}function tn(t,e,i){return Ki(t,(function(i){var n=+e,r=n/(i[1][1]-i[0][1]),o=-r*i[0][0],a=(n-r*(i[1][1]+i[0][1]))/2;t.scale(150*r).translate([o,a])}),i)}var en=jt(30*St);function nn(t,e){return+e?function(t,e){function i(n,r,o,a,s,l,u,h,p,c,d,f,g,m){var y=u-n,v=h-r,b=y*y+v*v;if(b>4*e&&g--){var x=a+c,P=s+d,_=l+f,M=Ft(x*x+P*P+_*_),C=Wt(_/=M),T=Vt(Vt(_)-1)<Pt||Vt(o-p)<Pt?(o+p)/2:Ot(P,x),L=t(T,C),w=L[0],S=L[1],V=w-n,I=S-r,O=v*V-y*I;(O*O/b>e||Vt((y*V+v*I)/b-.5)>.3||a*c+s*d+l*f<en)&&(i(n,r,o,a,s,l,w,S,T,x/=M,P/=M,_,g,m),m.point(w,S),i(w,S,T,x,P,_,u,h,p,c,d,f,g,m))}}return function(e){var n,r,o,a,s,l,u,h,p,c,d,f,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(i,n){i=t(i,n),e.point(i[0],i[1])}function y(){h=NaN,g.point=v,e.lineStart()}function v(n,r){var o=Me([n,r]),a=t(n,r);i(h,p,u,c,d,f,h=a[0],p=a[1],u=n,c=o[0],d=o[1],f=o[2],16,e),e.point(h,p)}function b(){g.point=m,e.lineEnd()}function x(){y(),g.point=P,g.lineEnd=_}function P(t,e){v(n=t,e),r=h,o=p,a=c,s=d,l=f,g.point=v}function _(){i(h,p,u,c,d,f,r,o,n,a,s,l,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return Bi({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}(t)}var rn=Bi({point:function(t,e){this.stream.point(t*St,e*St)}});function on(t,e,i,n,r,o){if(!o)return function(t,e,i,n,r){function o(o,a){return[e+t*(o*=n),i-t*(a*=r)]}return o.invert=function(o,a){return[(o-e)/t*n,(i-a)/t*r]},o}(t,e,i,n,r);var a=jt(o),s=Gt(o),l=a*t,u=s*t,h=a/t,p=s/t,c=(s*i-a*e)/t,d=(s*e+a*i)/t;function f(t,o){return[l*(t*=n)-u*(o*=r)+e,i-u*t-l*o]}return f.invert=function(t,e){return[n*(h*t-p*e+c),r*(d-p*t-h*e)]},f}function an(t){return sn((function(){return t}))()}function sn(t){var e,i,n,r,o,a,s,l,u,h,p=150,c=480,d=250,f=0,g=0,m=0,y=0,v=0,b=0,x=1,P=1,_=null,M=Ei,C=null,T=Fi,L=.5;function w(t){return l(t[0]*St,t[1]*St)}function S(t){return(t=l.invert(t[0],t[1]))&&[t[0]*wt,t[1]*wt]}function V(){var t=on(p,0,0,x,P,b).apply(null,e(f,g)),n=on(p,c-t[0],d-t[1],x,P,b);return i=qe(m,y,v),s=Ue(e,n),l=Ue(i,s),a=nn(s,L),I()}function I(){return u=h=null,w}return w.stream=function(t){return u&&h===t?u:u=rn(function(t){return Bi({point:function(e,i){var n=t(e,i);return this.stream.point(n[0],n[1])}})}(i)(M(a(T(h=t)))))},w.preclip=function(t){return arguments.length?(M=t,_=void 0,I()):M},w.postclip=function(t){return arguments.length?(T=t,C=n=r=o=null,I()):T},w.clipAngle=function(t){return arguments.length?(M=+t?Ni(_=t*St):(_=null,Ei),I()):_*wt},w.clipExtent=function(t){return arguments.length?(T=null==t?(C=n=r=o=null,Fi):Ri(C=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),I()):null==C?null:[[C,n],[r,o]]},w.scale=function(t){return arguments.length?(p=+t,V()):p},w.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],V()):[c,d]},w.center=function(t){return arguments.length?(f=t[0]%360*St,g=t[1]%360*St,V()):[f*wt,g*wt]},w.rotate=function(t){return arguments.length?(m=t[0]%360*St,y=t[1]%360*St,v=t.length>2?t[2]%360*St:0,V()):[m*wt,y*wt,v*wt]},w.angle=function(t){return arguments.length?(b=t%360*St,V()):b*wt},w.reflectX=function(t){return arguments.length?(x=t?-1:1,V()):x<0},w.reflectY=function(t){return arguments.length?(P=t?-1:1,V()):P<0},w.precision=function(t){return arguments.length?(a=nn(s,L=t*t),I()):Ft(L)},w.fitExtent=function(t,e){return qi(w,t,e)},w.fitSize=function(t,e){return $i(w,t,e)},w.fitWidth=function(t,e){return Ji(w,t,e)},w.fitHeight=function(t,e){return tn(w,t,e)},function(){return e=t.apply(this,arguments),w.invert=e.invert&&S,V()}}function ln(t,e){return[t,e]}function un(){return an(ln).scale(152.63)}ln.invert=ln;var hn,pn,cn,dn,fn=new xt,gn=new xt,mn={point:Ht,lineStart:Ht,lineEnd:Ht,polygonStart:function(){mn.lineStart=yn,mn.lineEnd=xn},polygonEnd:function(){mn.lineStart=mn.lineEnd=mn.point=Ht,fn.add(Vt(gn)),gn=new xt},result:function(){var t=fn/2;return fn=new xt,t}};function yn(){mn.point=vn}function vn(t,e){mn.point=bn,hn=cn=t,pn=dn=e}function bn(t,e){gn.add(dn*t-cn*e),cn=t,dn=e}function xn(){bn(hn,pn)}var Pn,_n,Mn,Cn,Tn=mn,Ln=0,wn=0,Sn=0,Vn=0,In=0,On=0,jn=0,kn=0,Dn=0,En={point:Nn,lineStart:An,lineEnd:Fn,polygonStart:function(){En.lineStart=zn,En.lineEnd=Bn},polygonEnd:function(){En.point=Nn,En.lineStart=An,En.lineEnd=Fn},result:function(){var t=Dn?[jn/Dn,kn/Dn]:On?[Vn/On,In/On]:Sn?[Ln/Sn,wn/Sn]:[NaN,NaN];return Ln=wn=Sn=Vn=In=On=jn=kn=Dn=0,t}};function Nn(t,e){Ln+=t,wn+=e,++Sn}function An(){En.point=Gn}function Gn(t,e){En.point=Rn,Nn(Mn=t,Cn=e)}function Rn(t,e){var i=t-Mn,n=e-Cn,r=Ft(i*i+n*n);Vn+=r*(Mn+t)/2,In+=r*(Cn+e)/2,On+=r,Nn(Mn=t,Cn=e)}function Fn(){En.point=Nn}function zn(){En.point=Wn}function Bn(){Zn(Pn,_n)}function Wn(t,e){En.point=Zn,Nn(Pn=Mn=t,_n=Cn=e)}function Zn(t,e){var i=t-Mn,n=e-Cn,r=Ft(i*i+n*n);Vn+=r*(Mn+t)/2,In+=r*(Cn+e)/2,On+=r,jn+=(r=Cn*t-Mn*e)*(Mn+t),kn+=r*(Cn+e),Dn+=3*r,Nn(Mn=t,Cn=e)}var Hn=En;function Xn(t){this._context=t}Xn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Lt)}},result:Ht};var Qn,Yn,Un,Kn,qn,$n=new xt,Jn={point:Ht,lineStart:function(){Jn.point=tr},lineEnd:function(){Qn&&er(Yn,Un),Jn.point=Ht},polygonStart:function(){Qn=!0},polygonEnd:function(){Qn=null},result:function(){var t=+$n;return $n=new xt,t}};function tr(t,e){Jn.point=er,Yn=Kn=t,Un=qn=e}function er(t,e){Kn-=t,qn-=e,$n.add(Ft(Kn*Kn+qn*qn)),Kn=t,qn=e}var ir,nr,rr,or,ar=Jn;function sr(){this._string=[]}function lr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ur(t,e){var i,n,r=4.5;function o(t){return t&&("function"===typeof r&&n.pointRadius(+r.apply(this,arguments)),qt(t,i(n))),n.result()}return o.area=function(t){return qt(t,i(Tn)),Tn.result()},o.measure=function(t){return qt(t,i(ar)),ar.result()},o.bounds=function(t){return qt(t,i(Ui)),Ui.result()},o.centroid=function(t){return qt(t,i(Hn)),Hn.result()},o.projection=function(e){return arguments.length?(i=null==e?(t=null,Fi):(t=e).stream,o):t},o.context=function(t){return arguments.length?(n=null==t?(e=null,new sr):new Xn(e=t),"function"!==typeof r&&n.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"===typeof t?t:(n.pointRadius(+t),+t),o):r},o.projection(t).context(e)}function hr(t,e){var i=t[0]*St,n=t[1]*St,r=e[0]*St,o=e[1]*St,a=jt(n),s=Gt(n),l=jt(o),u=Gt(o),h=a*jt(i),p=a*Gt(i),c=l*jt(r),d=l*Gt(r),f=2*Wt(Ft(Zt(o-n)+a*l*Zt(r-i))),g=Gt(f),m=f?function(t){var e=Gt(t*=f)/g,i=Gt(f-t)/g,n=i*h+e*c,r=i*p+e*d,o=i*s+e*u;return[Ot(r,n)*wt,Ot(o,Ft(n*n+r*r))*wt]}:function(){return[i*wt,n*wt]};return m.distance=f,m}sr.prototype={_radius:4.5,_circle:lr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=lr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var pr={sphere:Ht,point:Ht,lineStart:function(){pr.point=dr,pr.lineEnd=cr},lineEnd:Ht,polygonStart:Ht,polygonEnd:Ht};function cr(){pr.point=pr.lineEnd=Ht}function dr(t,e){nr=t*=St,rr=Gt(e*=St),or=jt(e),pr.point=fr}function fr(t,e){t*=St;var i=Gt(e*=St),n=jt(e),r=Vt(t-nr),o=jt(r),a=n*Gt(r),s=or*i-rr*n*o,l=rr*i+or*n*o;ir.add(Ot(Ft(a*a+s*s),l)),nr=t,rr=i,or=n}function gr(t){return ir=new xt,qt(t,pr),+ir}var mr=[null,null],yr={type:"LineString",coordinates:mr};function vr(t,e){return mr[0]=t,mr[1]=e,gr(yr)}var br=function(){function t(){this.d3Projection=un()}return Object.defineProperty(t.prototype,"d3Projection",{get:function(){return this._d3Projection},set:function(t){this._d3Projection=t,t.precision(.1),this._d3Path=ur().projection(t),this.chart&&this.chart.invalidateProjection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"d3Path",{get:function(){return this._d3Path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.d3Projection.scale()/100},enumerable:!0,configurable:!0}),t.prototype.convert=function(t){var e=this.d3Projection([t.longitude,t.latitude]);if(e)return{x:e[0],y:e[1]}},t.prototype.invert=function(t){var e=this.d3Projection.invert([t.x,t.y]);if(e)return{longitude:e[0],latitude:e[1]}},t.prototype.project=function(t,e){return this.convert({longitude:t*x.DEGREES,latitude:e*x.DEGREES})},t.prototype.unproject=function(t,e){return this.invert({x:t,y:e})},t.prototype.rotate=function(t,e,i,n){var r=e*x.RADIANS,o=i*x.RADIANS;n*=x.RADIANS;var a=t.longitude*x.RADIANS+r,s=t.latitude*x.RADIANS,l=Math.cos(o),u=Math.sin(o),h=Math.cos(n),p=Math.sin(n),c=Math.cos(s),d=Math.cos(a)*c,f=Math.sin(a)*c,g=Math.sin(s),m=g*l+d*u;return{longitude:x.DEGREES*Math.atan2(f*h-m*p,d*l-g*u),latitude:x.DEGREES*Math.asin(m*h+f*p)}},t.prototype.unrotate=function(t,e,i,n){var r=e*x.RADIANS,o=i*x.RADIANS;n*=x.RADIANS;var a=t.longitude*x.RADIANS-r,s=t.latitude*x.RADIANS,l=Math.cos(o),u=Math.sin(o),h=Math.cos(n),p=Math.sin(n),c=Math.cos(s),d=Math.cos(a)*c,f=Math.sin(a)*c,g=Math.sin(s),m=g*h-f*p;return{longitude:x.DEGREES*Math.atan2(f*h+g*p,d*l+m*u),latitude:x.DEGREES*Math.asin(m*l-d*u)}},t.prototype.intermediatePoint=function(t,e,i){var n=hr([t.longitude,t.latitude],[e.longitude,e.latitude])(i);return{longitude:n[0],latitude:n[1]}},t.prototype.multiDistance=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];if(n.length>1)for(var r=1;r<n.length;r++){var o=n[r-1],a=n[r];e+=this.distance(o,a)}}return e},t.prototype.distance=function(t,e){return vr([t.longitude,t.latitude],[e.longitude,e.latitude])},t.prototype.positionToPoint=function(t,e){if(t){var i=this.positionToGeoPoint(t,e),n=this.positionToGeoPoint(t,e-.01),r=this.positionToGeoPoint(t,e+.01);if(n&&r){var o=this.convert(i),a=this.convert(n),s=this.convert(r);return{x:o.x,y:o.y,angle:x.getAngle(a,s)}}}return{x:0,y:0,angle:0}},t.prototype.positionToGeoPoint=function(t,e){if(t){for(var i=this.multiDistance(t),n=0,r=0,o=0,a=void 0,s=void 0,l=0;l<t.length;l++){var u=t[l];if(u.length>1){for(var h=1;h<u.length;h++)if(a=u[h-1],s=u[h],r=n/i,o=(n+=this.distance(a,s))/i,r<=e&&o>e){l=t.length;break}}else 1==u.length&&(a=u[0],s=u[0],r=0,o=1)}if(a&&s){var p=(e-r)/(o-r);return this.intermediatePoint(a,s,p)}}return{longitude:0,latitude:0}},t}();f.i.registeredClasses.Projection=br;var xr=i(40495),Pr=i(23942),_r=function(t){function e(){var e=t.call(this)||this;e._chart=new _.cx,e.className="SmallMap",e.align="left",e.valign="bottom",e.percentHeight=20,e.percentWidth=20,e.margin(5,5,5,5);var i=new y.h;e.background.fillOpacity=.9,e.background.fill=i.getFor("background"),e.events.on("hit",e.moveToPosition,e,!1),e.events.on("maxsizechanged",e.updateMapSize,e,!1),e.seriesContainer=e.createChild(p.W),e.seriesContainer.shouldClone=!1;var n=e.createChild(Pr.A);return n.shouldClone=!1,n.stroke=i.getFor("alternativeBackground"),n.strokeWidth=1,n.strokeOpacity=.5,n.fill=(0,I.$_)(),n.verticalCenter="middle",n.horizontalCenter="middle",n.isMeasured=!1,n.visible=!1,e.rectangle=n,e._disposers.push(e._chart),e.applyTheme(),e}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"series",{get:function(){return this._series||(this._series=new u.aV,this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1)),this._series},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(t){var e=t.newValue;if(this.chart.series.contains(e)){var i=e.clone();this._series.removeValue(e),this._series.push(i),e=i,this.chart.dataUsers.push(i)}e.chart=this.chart,e.parent=this.seriesContainer,e.interactionsEnabled=!1,e.events.on("inited",this.updateMapSize,this,!1),e.hidden=!1},e.prototype.handleSeriesRemoved=function(t){this.invalidate()},e.prototype.moveToPosition=function(t){var e=v.spritePointToSprite(t.spritePoint,this,this.seriesContainer),i=this.chart.seriesPointToGeo(e);this.chart.zoomToGeoPoint(i,this.chart.zoomLevel,!0)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this.chart!=t&&this._chart.set(t,new _.FV([t.events.on("mappositionchanged",this.updateRectangle,this,!1),t.events.on("scaleratiochanged",this.updateMapSize,this,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateRectangle=function(){var t=this.chart,e=t.zoomLevel,i=this.rectangle;i.width=this.pixelWidth/e,i.height=this.pixelHeight/e;var n=Math.min(this.percentWidth,this.percentHeight)/100,r=t.seriesContainer;i.x=Math.ceil(-r.pixelX*n/e)+this.seriesContainer.pixelX,i.y=Math.ceil(-r.pixelY*n/e)+this.seriesContainer.pixelY,i.validate()},e.prototype.updateMapSize=function(){if(this.chart){var t=this.chart.scaleRatio*Math.min(this.percentWidth,this.percentHeight)/100;this.seriesContainer.scale=t;var e={width:0,height:0,x:0,y:0};try{e=this.seriesContainer.group.node.getBBox()}catch(i){}e.width>0&&(this.rectangle.visible=!0),this.seriesContainer.x=this.pixelWidth/2-e.x*t-e.width/2*t,this.seriesContainer.y=this.pixelHeight/2-e.y*t-e.height/2*t,this.updateRectangle(),this.afterDraw()}},e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.rectangle.maskRectangle={x:-1,y:-1,width:Math.ceil(this.pixelWidth+2),height:Math.ceil(this.pixelHeight+2)}},e.prototype.processConfig=function(e){if(e&&b.hasValue(e.series)&&b.isArray(e.series))for(var i=0,n=e.series.length;i<n;i++){var r=e.series[i];b.hasValue(r)&&b.isString(r)&&this.map.hasKey(r)&&(e.series[i]=this.map.getKey(r))}t.prototype.processConfig.call(this,e)},e}(p.W);function Mr(t){var e=Tr(t.longitude),i=Math.asin(Math.sin(t.latitude*x.RADIANS))*x.DEGREES,n=Tr(t.latitude);return Math.abs(n)>90&&(e=Tr(e+180)),t.longitude=e,t.latitude=i,t}function Cr(t){return G.each(t,(function(t){G.each(t,(function(t){Mr(t)}))})),t}function Tr(t){return(t%=360)>180&&(t-=360),t<-180&&(t+=360),t}function Lr(t){return{x:t.longitude,y:t.latitude}}f.i.registeredClasses.SmallMap=_r;var wr=function(t){function e(){var e=t.call(this)||this;return e.adjustRotation=!0,e.className="MapLineObject",e.isMeasured=!1,e.layout="none",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.validatePosition=function(){var e=this.mapLine;if(e){var i=e.positionToPoint(this.position);if(this.x=i.x,this.y=i.y,this.adjustRotation&&(this.rotation=i.angle),this.mapLine.dataItem){var n=this.mapLine.dataItem.component;this.scale=1/n.scale}if(e.shortestDistance){var r=this.mapLine.series.chart.projection,o=r.positionToGeoPoint(e.multiGeoLine,this.position),a=r.d3Path({type:"Point",coordinates:[o.longitude,o.latitude]});this.__disabled=!a}}t.prototype.validatePosition.call(this)},Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){this.setPropertyValue("position",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustRotation",{get:function(){return this.getPropertyValue("adjustRotation")},set:function(t){this.setPropertyValue("adjustRotation",t,!1,!0)},enumerable:!0,configurable:!0}),e}(p.W);f.i.registeredClasses.MapLineObject=wr;var Sr=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.getFeature=function(){return{type:"Feature",geometry:{type:"Point",coordinates:this.point}}},Object.defineProperty(e.prototype,"mapImage",{get:function(){var t=this;if(!this._mapImage){var e=this.component.mapImages.create();this.addSprite(e),this._mapImage=e,this._disposers.push(e),this._disposers.push(new _.ku((function(){t.component&&t.component.mapImages.removeValue(e)}))),this.mapObject=e}return this._mapImage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point",{get:function(){return this._point},set:function(t){this._point=t,this._geoPoint=ui(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiPoint",{get:function(){return[this._point]},set:function(t){this._point=t[0],this._geoPoint=ui(this._point),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoPoint",{get:function(){return this._geoPoint},set:function(t){this._geoPoint=t,this.point=[t.longitude,t.latitude]},enumerable:!0,configurable:!0}),e}(ze),Vr=function(t){function e(){var e=t.call(this)||this;return e.className="MapImageSeries",e.dataFields.multiPoint="multiPoint",e.dataFields.point="point",e.dataFields.geoPoint="geoPoint",e.dataFields.multiGeoPoint="multiGeoPoint",e.ignoreBounds=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new Sr},e.prototype.validateData=function(){var e=this;if(this.data.length>0&&0==this._parseDataFrom&&this.mapImages.clear(),this.useGeodata&&(this.useGeodata||this.geodata)){var i=this.chart.geodata,n=void 0;if("FeatureCollection"==i.type?n=i.features:"Feature"==i.type?n=[i]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(i.type)?n=[{geometry:i}]:console.log("nothing found in geoJSON"),n)for(var r=function(t,e){var i=n[t],r=i.geometry;if(r){var a=r.type,s=i.id;if("Point"==a||"MultiPoint"==a){if(!o.checkInclude(o.include,o.exclude,s))return"continue";var l=r.coordinates;"Point"==a&&(l=[l]);var u=G.find(o.data,(function(t,e){return t.id==s}));u?u.multiPoint||(u.multiPoint=l):(u={multiPoint:l,id:s,madeFromGeoData:!0},o.data.push(u)),v.softCopyProperties(i.properties,u)}}},o=this,a=0,s=n.length;a<s;a++)r(a)}t.prototype.validateData.call(this),N.each(this.dataItems.iterator(),(function(t){var i=t.mapImage;i.isDisposed()||(e.mapImages.moveValue(i),b.isNumber(i.latitude)&&b.isNumber(i.latitude)&&(t.geoPoint={latitude:i.latitude,longitude:i.longitude}))}))},Object.defineProperty(e.prototype,"mapImages",{get:function(){if(!this._mapImages){var t=new Ze,e=new u.o(t);this._disposers.push(new u.zQ(e)),this._disposers.push(e.template),e.template.focusable=!0,e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapImages=e,this._mapObjects=e}return this._mapImages},enumerable:!0,configurable:!0}),e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.mapImage.invalidate()},e.prototype.validate=function(){t.prototype.validate.call(this),N.each(this.mapImages.iterator(),(function(t){t.validatePosition()}))},e.prototype.copyFrom=function(e){this.mapImages.template.copyFrom(e.mapImages.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapImages.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},e.prototype.getImageById=function(t){return N.find(this.mapImages.iterator(),(function(e){var i=e.dataItem.dataContext;if(e.id==t||i&&i.id==t)return!0}))},e}(Be);f.i.registeredClasses.MapImageSeries=Vr,f.i.registeredClasses.MapImageSeriesDataItem=Sr;var Ir=i(33408),Or=i(90640),jr=function(t){function e(){var e=t.call(this)||this;e._imageListeners={},e.className="MapLine",e.createLine(),e.line.stroke=(0,I.$_)(),e.line.parent=e,e.strokeOpacity=1,e.setPropertyValue("precision",.1);var i=new y.h;return e.stroke=i.getFor("grid"),e.shortestDistance=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createLine=function(){this.line=new Or.a},e.prototype.positionToPoint=function(t){return this.shortestDistance?this.series.chart.projection.positionToPoint(this.multiGeoLine,t):this.line?this.line.positionToPoint(t):{x:0,y:0,angle:0}},Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){var t=this.getPropertyValue("multiGeoLine");return!t&&this.dataItem&&this.dataItem.multiGeoLine&&(t=this.dataItem.multiGeoLine),t},set:function(t){if(t&&t.length>0){this.setPropertyValue("multiGeoLine",Cr(t),!0);var e=pi(t);this.setPropertyValue("multiLine",e),this.updateExtremes()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){var t=this.getPropertyValue("multiLine");return!t&&this.dataItem&&this.dataItem.multiLine&&(t=this.dataItem.multiLine),t},set:function(t){this.setPropertyValue("multiLine",t),this.multiGeoLine=ai(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagesToConnect",{get:function(){return this.getPropertyValue("imagesToConnect")},set:function(t){var e=this;if(this.setPropertyValue("imagesToConnect",t,!0),this.handleImagesToConnect(),this.series){var i=this.series.chart;i&&i.series.each((function(t){t instanceof Vr&&(t.isReady()||e._disposers.push(t.events.on("ready",e.handleImagesToConnect,e,!1)))}))}},enumerable:!0,configurable:!0}),e.prototype.handleImagesToConnect=function(){var t,e,i=this;if(this.imagesToConnect){var n=[],r=[n],o=function(t){if(b.isString(t)){var e=s.series.chart;e&&e.series.each((function(e){if(e instanceof Vr){var i=e.getImageById(t);i&&(t=i)}}))}if(t instanceof Ze&&(n.push({longitude:t.longitude,latitude:t.latitude}),!s._imageListeners[t.uid])){var r=t.events.on("propertychanged",(function(t){"longitude"!=t.property&&"latitude"!=t.property||(i.handleImagesToConnect(),i.invalidate())}),s,!1);s._imageListeners[t.uid]=r,s._disposers.push(r)}},s=this;try{for(var l=(0,a.XA)(this.imagesToConnect),u=l.next();!u.done;u=l.next()){o(u.value)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}this.multiGeoLine=r}},e.prototype.validate=function(){var e=this.series.chart;if(this.multiLine){if(this.shortestDistance)e.projection.d3Projection.precision(this.precision),this.line.path=e.projection.d3Path(this.getFeature());else{for(var i=[],n=0,r=this.multiLine.length;n<r;n++){for(var o=this.multiLine[n],a=[],s=0,l=o.length;s<l;s++){var u=o[s],h=this.series.chart.projection.convert({longitude:u[0],latitude:u[1]});a.push(h)}i.push(a)}this.line.segments=i}this._arrow&&this._arrow.validatePosition(),N.each(this.lineObjects.iterator(),(function(t){t.validatePosition()})),this.handleGlobalScale()}else this.imagesToConnect&&this.handleImagesToConnect();t.prototype.validate.call(this)},e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0&&this.multiLine[0]&&this.multiLine[0].length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return this.getPropertyValue("shortestDistance")},set:function(t){this.setPropertyValue("shortestDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineObjects",{get:function(){return this._lineObjects||(this._lineObjects=new u.o(new wr),this._lineObjects.events.on("inserted",this.handleLineObjectAdded,this,!1),this._disposers.push(new u.zQ(this._lineObjects)),this._disposers.push(this._lineObjects.template)),this._lineObjects},enumerable:!0,configurable:!0}),e.prototype.handleLineObjectAdded=function(t){var e=t.newValue;e.mapLine=this,e.shouldClone=!1,e.parent=this},Object.defineProperty(e.prototype,"arrow",{get:function(){if(!this._arrow){var t=this.createChild(wr);t.shouldClone=!1,t.width=8,t.height=10,t.mapLine=this,t.position=.5;var e=t.createChild(Ir.C);e.fillOpacity=1,e.width=(0,m.aQ)(100),e.height=(0,m.aQ)(100),e.rotation=90,e.horizontalCenter="middle",e.verticalCenter="middle",this._arrow=t}return this._arrow},set:function(t){this._arrow=t,t.mapLine=this,t.parent=this},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.line.copyFrom(e.line),this.lineObjects.copyFrom(e.lineObjects),e._arrow&&(this.arrow=e.arrow.clone())},Object.defineProperty(e.prototype,"latitude",{get:function(){return this.north+(this.south-this.north)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.east+(this.west-this.east)/2},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t=this.getPropertyValue("tooltipX");return t instanceof m.gG||(t=(0,m.aQ)(50)),t instanceof m.gG?this.positionToPoint(t.value).x:0},e.prototype.getTooltipY=function(){var t=this.getPropertyValue("tooltipY");return t instanceof m.gG||(t=(0,m.aQ)(50)),t instanceof m.gG?this.positionToPoint(t.value).y:0},Object.defineProperty(e.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(t){this.setPropertyValue("precision",t,!0)},enumerable:!0,configurable:!0}),e}(We);f.i.registeredClasses.MapLine=jr;var kr=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.getFeature=function(){if(this.multiLine&&this.multiLine.length>0)return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.multiLine}}},Object.defineProperty(e.prototype,"mapLine",{get:function(){var t=this;if(!this._mapLine){var e=this.component.mapLines.create();this._mapLine=e,this.addSprite(e),this._disposers.push(e),this._disposers.push(new _.ku((function(){t.component&&t.component.mapLines.removeValue(e)}))),this.mapObject=e}return this._mapLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._line},set:function(t){this._line=t,this.multiLine=[t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._multiLine},set:function(t){this._multiLine=t,this._multiGeoLine=ai(t),this.updateExtremes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geoLine",{get:function(){return this._geoLine},set:function(t){this._geoLine=t,this.multiLine=pi([t])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiGeoLine",{get:function(){return this._multiGeoLine},set:function(t){this._multiGeoLine=t,this.multiLine=pi(t)},enumerable:!0,configurable:!0}),e}(ze),Dr=function(t){function e(){var e=t.call(this)||this;return e.className="MapLineSeries",e.dataFields.multiLine="multiLine",e.dataFields.line="line",e.dataFields.geoLine="geoLine",e.dataFields.multiGeoLine="multiGeoLine",e.ignoreBounds=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new kr},e.prototype.validateData=function(){if(this.useGeodata||this.geodata){var e=this.chart.geodata;if(e){var i=void 0;if("FeatureCollection"==e.type?i=e.features:"Feature"==e.type?i=[e]:-1!=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(e.type)?i=[{geometry:e}]:console.log("nothing found in geoJSON"),i)for(var n=function(t,e){var n=i[t],o=n.geometry;if(o){var a=o.type,s=n.id;if("LineString"==a||"MultiLineString"==a){if(!r.checkInclude(r.include,r.exclude,s))return"continue";var l=o.coordinates,u=G.find(r.data,(function(t,e){return t.id==s}));"LineString"==a&&(l=[l]),u?u.multiLine||(u.multiLine=l):(u={multiLine:l,id:s,madeFromGeoData:!0},r.data.push(u)),v.softCopyProperties(n.properties,u)}}},r=this,o=0,a=i.length;o<a;o++)n(o)}}t.prototype.validateData.call(this)},Object.defineProperty(e.prototype,"mapLines",{get:function(){if(!this._mapLines){var t=this.createLine(),e=new u.o(t);this._disposers.push(new u.zQ(e)),this._disposers.push(e.template),e.events.on("inserted",this.handleObjectAdded,this,!1),this._mapLines=e,this._mapObjects=e}return this._mapLines},enumerable:!0,configurable:!0}),e.prototype.createLine=function(){return new jr},e.prototype.validate=function(){this.dataItems.each((function(t){v.used(t.mapLine)})),t.prototype.validate.call(this),this.mapLines.each((function(t){t.validate()}))},e.prototype.copyFrom=function(e){this.mapLines.template.copyFrom(e.mapLines.template),t.prototype.copyFrom.call(this,e)},e.prototype.getFeatures=function(){var t=this,e=[];return this.dataItems.each((function(t){var i=t.getFeature();i&&e.push(i)})),this.mapLines.each((function(i){if(-1==t.dataItems.indexOf(i._dataItem)){var n=i.getFeature();n&&e.push(n)}})),e},e.prototype.getLineById=function(t){return N.find(this.mapLines.iterator(),(function(e){return e.dataItem.dataContext.id==t}))},e}(Be);f.i.registeredClasses.MapLineSeries=Dr,f.i.registeredClasses.MapLineSeriesDataItem=kr;var Er=function(t){function e(){var e=t.call(this)||this;return e.className="Graticule",e.applyTheme(),e.shortestDistance=!0,e}return(0,a.ZT)(e,t),e}(jr);function Nr(t,e,i){t=+t,e=+e,i=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((e-t)/i)),o=new Array(r);++n<r;)o[n]=t+n*i;return o}function Ar(t,e,i){var n=Nr(t,e-Pt,i).concat(e);return function(t){return n.map((function(e){return[t,e]}))}}function Gr(t,e,i){var n=Nr(t,e-Pt,i).concat(e);return function(t){return n.map((function(e){return[e,t]}))}}function Rr(){var t,e,i,n,r,o,a,s,l,u,h,p,c=10,d=c,f=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Nr(kt(n/f)*f,i,f).map(h).concat(Nr(kt(s/g)*g,a,g).map(p)).concat(Nr(kt(e/c)*c,t,c).filter((function(t){return Vt(t%f)>Pt})).map(l)).concat(Nr(kt(o/d)*d,r,d).filter((function(t){return Vt(t%g)>Pt})).map(u))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[h(n).concat(p(a).slice(1),h(i).reverse().slice(1),p(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(n=+t[0][0],i=+t[1][0],s=+t[0][1],a=+t[1][1],n>i&&(t=n,n=i,i=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[n,s],[i,a]]},y.extentMinor=function(i){return arguments.length?(e=+i[0][0],t=+i[1][0],o=+i[0][1],r=+i[1][1],e>t&&(i=e,e=t,t=i),o>r&&(i=o,o=r,r=i),y.precision(m)):[[e,o],[t,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(f=+t[0],g=+t[1],y):[f,g]},y.stepMinor=function(t){return arguments.length?(c=+t[0],d=+t[1],y):[c,d]},y.precision=function(c){return arguments.length?(m=+c,l=Ar(o,r,90),u=Gr(e,t,m),h=Ar(s,a,90),p=Gr(n,i,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Fr(){return Rr()()}f.i.registeredClasses.Graticule=Er;var zr=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(kr),Br=function(t){function e(){var e=t.call(this)||this;return e.className="GraticuleSeries",e.longitudeStep=10,e.latitudeStep=10,e.north=90,e.south=-90,e.east=-180,e.west=180,e.fitExtent=!0,e.singleSprite=!0,e.events.disableType("geoBoundsChanged"),e.mapLines.template.line.strokeOpacity=.08,e.ignoreBounds=!1,e.hiddenInLegend=!0,e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new zr},e.prototype.validateData=function(){var e=this;t.prototype.validateData.call(this),this.mapLines.clear();var i=Rr();if(i){i.stepMinor([this.longitudeStep,this.latitudeStep]),i.stepMajor([360,360]);var n=this.chart;if(this.fitExtent?i.extent([[n.east,n.north],[n.west,n.south]]):i.extent([[this.east,this.north],[this.west,this.south]]),this.singleSprite){this.mapLines.create().multiLine=i().coordinates}else{var r=i.lines();G.each(r,(function(t){e.mapLines.create().multiLine=[t.coordinates]}))}}},e.prototype.createLine=function(){return new Er},Object.defineProperty(e.prototype,"latitudeStep",{get:function(){return this.getPropertyValue("latitudeStep")},set:function(t){this.setPropertyValue("latitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeStep",{get:function(){return this.getPropertyValue("longitudeStep")},set:function(t){this.setPropertyValue("longitudeStep",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitExtent",{get:function(){return this.getPropertyValue("fitExtent")},set:function(t){this.setPropertyValue("fitExtent",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSprite",{get:function(){return this.getPropertyValue("singleSprite")},set:function(t){this.setPropertyValue("singleSprite",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e}(Dr);f.i.registeredClasses.GraticuleSeries=Br,f.i.registeredClasses.GraticuleSeriesDataItem=zr;var Wr=function(t){function e(){var e=t.call(this)||this;return e.className="MapChartDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(mt),Zr=function(t){function e(){var e=t.call(this)||this;e.scaleRatio=1,e.zoomDuration=1e3,e.zoomEasing=ct.cubicOut,e.minZoomLevel=1,e.maxZoomLevel=32,e._prevZoomGeoPoint={latitude:0,longitude:0},e.className="MapChart",e.projection=new br,e.setPropertyValue("deltaLatitude",0),e.setPropertyValue("deltaLongitude",0),e.setPropertyValue("deltaGamma",0),e.maxPanOut=.7,e.homeZoomLevel=1,e.zoomStep=2,e.layout="absolute",e.centerMapOnZoomOut=!0,e.padding(0,0,0,0),v.used(e.backgroundSeries),e.minWidth=10,e.minHeight=10,e.events.once("inited",e.handleAllInited,e,!1);var i=e.seriesContainer;i.visible=!1,i.inert=!0,i.resizable=!0,i.events.on("transformed",e.handleMapTransform,e,!1),i.events.on("doublehit",e.handleDoubleHit,e,!1),i.events.on("dragged",e.handleDrag,e,!1),i.zIndex=0,i.dragWhileResize=!0,i.adapter.add("scale",(function(t,i){return x.fitToRange(t,e.minZoomLevel,e.maxZoomLevel)})),e.events.on("maxsizechanged",(function(t){0!=t.previousWidth&&0!=t.previousHeight||(e.updateExtremes(),e.updateCenterGeoPoint())}),void 0,!1);var n=e.chartContainer;n.parent=e,n.zIndex=-1,e._disposers.push(e.events.on("maxsizechanged",(function(){if(e.inited){e._mapAnimation&&e._mapAnimation.stop();var t=!0;e.series.each((function(e){e.updateTooltipBounds(),e.inited&&!e.dataInvalid||(t=!1)})),t&&e.updateScaleRatio(),e.zoomToGeoPoint(e._zoomGeoPointReal,e.zoomLevel,!0,0)}}),void 0,!1));var r=n.background;r.fillOpacity=0,r.events.on("down",(function(t){e.seriesContainer.dragStart(t.target.interactions.downPointers.getIndex(0))}),e),r.events.on("up",(function(t){e.seriesContainer.dragStop()}),e),r.events.on("doublehit",e.handleDoubleHit,e),r.focusable=!0,n.events.on("down",e.handleMapDown,e,!1),e.addDisposer(i.events.on("down",(function(){var t=e.seriesContainer.interactions.inertias.getKey("move");t&&t.done()}))),e.background.fillOpacity=0,e._disposers.push((0,g.S)().body.events.on("keyup",(function(t){if(e.topParent.hasFocused){var i=d.d.getEventKey(t.event);if(!e._zoomControl||!e._zoomControl.thumb.isFocused)switch(i){case"up":e.pan({x:0,y:.1});break;case"down":e.pan({x:0,y:-.1});break;case"left":e.pan({x:.1,y:0});break;case"right":e.pan({x:-.1,y:0})}}}),e)),e.mouseWheelBehavior="zoom";var o=(0,g.S)();e._disposers.push(o.body.events.on("down",e.handlePanDown,e)),e._disposers.push(o.body.events.on("up",e.handlePanUp,e));var a=e.seriesContainer.createChild(xr.C);return a.radius=10,a.inert=!0,a.isMeasured=!1,a.events.on("transformed",e.handlePanMove,e,!1),a.interactionsEnabled=!1,a.opacity=0,a.x=0,a.y=0,e.panSprite=a,e.panBehavior="move",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.handlePanDown=function(t){var e=v.documentPointToSvg(t.pointer.point,this.htmlContainer);e.x>0&&e.y>0&&e.x<this.svgContainer.width&&e.y<this.svgContainer.height&&(this._downPointOrig=v.documentPointToSprite(t.pointer.point,this.seriesContainer),this.panSprite.moveTo(this._downPointOrig),this.panSprite.dragStart(t.pointer),this._downDeltaLongitude=this.deltaLongitude,this._downDeltaLatitude=this.deltaLatitude)},e.prototype.handlePanUp=function(t){this._downPointOrig&&this.panSprite.dragStop(t.pointer,!0),this._downPointOrig=void 0},e.prototype.handlePanMove=function(){if(!this.seriesContainer.isResized){if((0,g.S)().areTransformed([this.panSprite.interactions,this.seriesContainer.interactions]))return;var t=this.projection.d3Projection,e=this.panBehavior;if("move"!=e&&"none"!=e&&this._downPointOrig&&t.rotate){var i=t.rotate(),n=i[0],r=i[1],o=i[2];t.rotate([0,0,0]);var a=this.projection.invert(this._downPointOrig),s={x:this.panSprite.pixelX,y:this.panSprite.pixelY},l=void 0;s&&(l=this.projection.invert(s)),t.rotate([n,r,o]),l&&("rotateLat"!=e&&"rotateLongLat"!=e||(this.deltaLatitude=this._downDeltaLatitude+l.latitude-a.latitude),"rotateLong"!=e&&"rotateLongLat"!=e||(this.deltaLongitude=this._downDeltaLongitude+l.longitude-a.longitude))}}},e.prototype.handleAllInited=function(){var t=this,e=!0;if(this.seriesContainer.visible=!0,this.series.each((function(t){t.inited&&!t.dataInvalid||(e=!1)})),e)this.updateCenterGeoPoint(),this.updateScaleRatio(),this.goHome(0);else{var i=f.i.events.once("exitframe",(function(){t.removeDispose(i),t.handleAllInited()}),this,!1);this.addDisposer(i)}},e.prototype.updateZoomGeoPoint=function(){var t=v.svgPointToSprite({x:this.innerWidth/2+this.pixelPaddingLeft,y:this.innerHeight/2+this.pixelPaddingTop},this.series.getIndex(0)),e=this.projection.invert(t);this._zoomGeoPointReal=e},e.prototype.updateCenterGeoPoint=function(){var t,e,i,n;if(this.backgroundSeries){var r=this.backgroundSeries.getFeatures();if(r.length>0){var o=this.projection.d3Path.bounds(r[0].geometry);t=o[0][0],i=o[0][1],e=o[1][0],n=o[1][1]}}else this.series.each((function(r){var o=r.group.node.getBBox();(t>o.x||!b.isNumber(t))&&(t=o.x),(e<o.x+o.width||!b.isNumber(e))&&(e=o.x+o.width),(i>o.y||!b.isNumber(i))&&(i=o.y),(n<o.y+o.height||!b.isNumber(n))&&(n=o.y+o.height)}));this.seriesMaxLeft=t,this.seriesMaxRight=e,this.seriesMaxTop=i,this.seriesMaxBottom=n,this.seriesWidth=e-t,this.seriesHeight=n-i,this.seriesWidth>0&&this.seriesHeight>0?(this.chartContainer.visible=!0,this._centerGeoPoint=this.projection.invert({x:t+(e-t)/2,y:i+(n-i)/2}),this._zoomGeoPointReal&&b.isNumber(this._zoomGeoPointReal.latitude)||(this._zoomGeoPointReal=this._centerGeoPoint)):this.chartContainer.visible=!1},e.prototype.handleDrag=function(){var t=this.zoomLevel*this.scaleRatio,e=this.seriesWidth*t,i=this.seriesHeight*t,n=this.seriesContainer,r=this.seriesMaxLeft*t,o=this.seriesMaxRight*t,a=this.seriesMaxTop*t,s=this.seriesMaxBottom*t,l=n.pixelX,u=n.pixelY,h=this.maxPanOut,p=Math.min(this.maxWidth*(1-h)-e-r,-r);l<p&&(l=p);var c=Math.max(this.maxWidth*h-r,this.maxWidth-o);l>c&&(l=c);var d=Math.min(this.maxHeight*(1-h)-i-a,-a);u<d&&(u=d);var f=Math.max(this.maxHeight*h-a,this.maxHeight-s);u>f&&(u=f),n.moveTo({x:l,y:u},void 0,void 0,!0),this._zoomGeoPointReal=this.zoomGeoPoint},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),b.hasValue(this.readerTitle)||(this.readerTitle=this.language.translate("Map")),b.hasValue(this.background.readerTitle)||(this.background.readerTitle=this.language.translate("Use plus and minus keys on your keyboard to zoom in and out"))},e.prototype.handleMapDown=function(){this._mapAnimation&&this._mapAnimation.stop()},e.prototype.handleDoubleHit=function(t){var e=v.documentPointToSvg(t.point,this.htmlContainer,this.svgContainer.cssScale),i=this.svgPointToGeo(e);this.zoomIn(i)},e.prototype.handleWheel=function(t){var e=this.seriesContainer.interactions.inertias.getKey("move");e&&e.done();var i=v.documentPointToSvg(t.point,this.htmlContainer,this.svgContainer.cssScale),n=this.svgPointToGeo(i);t.shift.y<0?this.zoomIn(n,void 0,this.interactions.mouseOptions.sensitivity):this.zoomOut(n,void 0,this.interactions.mouseOptions.sensitivity)},Object.defineProperty(e.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer=this.chartContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):(this._mouseWheelDisposer&&this._mouseWheelDisposer.dispose(),this.chartContainer.wheelable=!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panBehavior",{get:function(){return this.getPropertyValue("panBehavior")},set:function(t){if(this.setPropertyValue("panBehavior",t)){var e=this.seriesContainer;if(this.panSprite.draggable=!1,e.draggable=!1,"move"===t)e.draggable=!0;else this.panSprite.draggable=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerMapOnZoomOut",{get:function(){return this.getPropertyValue("centerMapOnZoomOut")},set:function(t){this.setPropertyValue("centerMapOnZoomOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this.getPropertyValue("projection")},set:function(t){var e=this;this.setPropertyValue("projection",t)&&(this.invalidateProjection(),t.chart=this,this._backgroundSeries&&this._backgroundSeries.invalidate(),this.inited&&this.updateExtremes(),this.series.each((function(t){t.events.once("validated",(function(){e.updateCenterGeoPoint(),e.updateScaleRatio(),e.goHome(0)}))})))},enumerable:!0,configurable:!0}),e.prototype.validateDataItems=function(){t.prototype.validateDataItems.call(this),this.updateExtremes()},e.prototype.updateExtremes=function(){var t,e,i,n;this.series.each((function(r){r.ignoreBounds||r instanceof Br&&r.fitExtent||((r.north>e||!b.isNumber(e))&&(e=r.north),(r.south<n||!b.isNumber(n))&&(n=r.south),(r.west<i||!b.isNumber(i))&&(i=r.west),(r.east>t||!b.isNumber(t))&&(t=r.east))}));var r=[],o=!1;this.series.each((function(t){t instanceof Br&&!t.fitExtent&&(r=t.getFeatures(),o=!0)})),o||this.series.each((function(t){t.ignoreBounds||t instanceof Br&&t.fitExtent||(r=r.concat(t.getFeatures()))}));var a=x.max(50,this.innerWidth),s=x.max(50,this.innerHeight),l=this.projection.d3Projection;if(r.length>0&&l&&(this.east!=t||this.west!=i||this.north!=e||this.south!=n)){if(this.east=t,this.west=i,this.north=e,this.south=n,l.rotate){var u=l.rotate(),h=u[0],p=u[1],c=u[2];this.deltaLongitude=h,this.deltaLatitude=p,this.deltaGamma=c}var d={type:"FeatureCollection",features:r},f=l.scale();if(l.fitSize([a,s],d),l.scale()!=f&&this.invalidateDataUsers(),this.series.each((function(t){t instanceof Br&&t.invalidateData()})),this._backgroundSeries){var g=this._backgroundSeries.mapPolygons.getIndex(0);g&&(g.multiPolygon=fi(this.north,this.east,this.south,this.west))}this._fitWidth=a,this._fitHeight=s}this._zoomGeoPointReal&&b.isNumber(this._zoomGeoPointReal.latitude)||this.goHome(0)},e.prototype.updateScaleRatio=function(){var t;this.updateCenterGeoPoint();var e=this.innerWidth/this.seriesWidth,i=this.innerHeight/this.seriesHeight;t=x.min(e,i),(b.isNaN(t)||t==1/0)&&(t=1),t!=this.scaleRatio&&(this.scaleRatio=t,N.each(this.series.iterator(),(function(e){e.scale=t,e.updateTooltipBounds()})),this.backgroundSeries.scale=t,this.dispatch("scaleratiochanged"))},e.prototype.svgPointToGeo=function(t){var e=this.series.getIndex(0);if(e){var i=v.svgPointToSprite(t,e);return this.seriesPointToGeo(i)}},e.prototype.geoPointToSVG=function(t){var e=this.series.getIndex(0);if(e){var i=this.geoPointToSeries(t);return v.spritePointToSvg(i,e)}},e.prototype.seriesPointToGeo=function(t){return this.projection.invert(t)},e.prototype.geoPointToSeries=function(t){return this.projection.convert(t)},Object.defineProperty(e.prototype,"geodata",{get:function(){return this._geodata},set:function(t){t!=this._geodata&&(this._geodata=t,this.reverseGeodata&&this.processReverseGeodata(this._geodata),this.invalidateData(),this.dataUsers.each((function(t){for(var e=t.data.length-1;e>=0;e--)1==t.data[e].madeFromGeoData&&t.data.splice(e,1);t.disposeData(),t.invalidateData()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseGeodata",{get:function(){return this.getPropertyValue("reverseGeodata")},set:function(t){this.setPropertyValue("reverseGeodata",t)&&this._geodata&&this.processReverseGeodata(this._geodata)},enumerable:!0,configurable:!0}),e.prototype.processReverseGeodata=function(t){for(var e=0;e<t.features.length;e++)for(var i=t.features[e],n=0;n<i.geometry.coordinates.length;n++)if("MultiPolygon"==i.geometry.type)for(var r=0;r<i.geometry.coordinates[n].length;r++)i.geometry.coordinates[n][r].reverse();else i.geometry.coordinates[n].reverse()},e.prototype.zoomToGeoPoint=function(t,e,i,n,r){var o=this;if(!t){var a=!1;if(this.series.each((function(t){t.dataItems.length>0&&(a=!0)})),!a)return;t=this.zoomGeoPoint}if(t&&b.isNumber(t.longitude)&&b.isNumber(t.latitude)){this._zoomGeoPointReal=t,e=x.fitToRange(e,this.minZoomLevel,this.maxZoomLevel);var s=this.projection.convert(t);if(s){var l=this.geoPointToSVG(t),u=v.svgPointToSprite(l,this);i&&(u={x:this.innerWidth/2,y:this.innerHeight/2}),b.isNumber(n)||(n=this.zoomDuration);var h=u.x-s.x*e*this.scaleRatio,p=u.y-s.y*e*this.scaleRatio;return!r&&e<this.zoomLevel&&this.centerMapOnZoomOut&&e<1.5&&(h=this.innerWidth/2-(this.seriesMaxLeft+(this.seriesMaxRight-this.seriesMaxLeft)/2)*e*this.scaleRatio,p=this.innerHeight/2-(this.seriesMaxTop+(this.seriesMaxBottom-this.seriesMaxTop)/2)*e*this.scaleRatio),this._mapAnimation=this.seriesContainer.animate([{property:"scale",to:e},{property:"x",from:this.seriesContainer.pixelX,to:h},{property:"y",from:this.seriesContainer.pixelY,to:p}],n,this.zoomEasing),this._disposers.push(this._mapAnimation.events.on("animationended",(function(){o._zoomGeoPointReal=o.zoomGeoPoint}))),this.seriesContainer.validatePosition(),this._mapAnimation}}},e.prototype.zoomToMapObject=function(t,e,i,n){void 0==i&&(i=!0);var r=this.seriesContainer.interactions.inertias.getKey("move");if(r&&r.done(),t instanceof Ze)return b.isNaN(e)&&(e=5),this.zoomToGeoPoint({latitude:t.latitude,longitude:t.longitude},e,i,n,!0);var o=t.dataItem;if(o&&b.isNumber(o.zoomLevel)&&(e=o.zoomLevel),t instanceof gi){var a=t.dataItem,s=t.polygon.bbox;0!=s.width&&0!=s.height||(s=t.polygon.group.getBBox()),b.isNumber(e)||(e=Math.min(this.seriesWidth/s.width,this.seriesHeight/s.height));var l=void 0;if(a&&b.hasValue(a.zoomGeoPoint))l=a.zoomGeoPoint;else{var u={x:s.x+s.width/2,y:s.y+s.height/2},h=v.spritePointToSprite(u,t.polygon,t.series);l=this.seriesPointToGeo(h)}return this.zoomToGeoPoint(l,e,!0,n,!0)}},e.prototype.zoomToRectangle=function(t,e,i,n,r,o,a){b.isNaN(r)&&(r=1);var s=x.min(n,e),l=x.max(n,e);n=s,e=l;var u=x.normalizeAngle(180-this.deltaLongitude);u>180&&(u-=360);var h=n+(e-n)/2,p=n-e;n<u&&e>u&&(h+=180,p=x.normalizeAngle(e-n-360));var c=r*Math.min((this.south-this.north)/(i-t),Math.abs((this.west-this.east)/p));return this.zoomToGeoPoint({latitude:t+(i-t)/2,longitude:h},c,o,a,!0)},e.prototype.zoomIn=function(t,e,i){void 0===i&&(i=1);var n=1+(this.zoomStep-1)*i;return n<1&&(n=1),this.zoomToGeoPoint(t,this.zoomLevel*n,!1,e)},e.prototype.zoomOut=function(t,e,i){void 0===i&&(i=1);var n=1+(this.zoomStep-1)*i;return n<1&&(n=1),this.zoomToGeoPoint(t,this.zoomLevel/n,!1,e)},e.prototype.pan=function(t,e){var i=this.geoPointToSVG(this.zoomGeoPoint);i.x+=this.pixelWidth*t.x,i.y+=this.pixelHeight*t.y,this.zoomToGeoPoint(this.svgPointToGeo(i),this.zoomLevel,!0,e,!0)},Object.defineProperty(e.prototype,"zoomGeoPoint",{get:function(){var t=v.spritePointToSvg({x:this.pixelWidth/2,y:this.pixelHeight/2},this);return this.svgPointToGeo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this.seriesContainer.scale},set:function(t){this.seriesContainer.scale=t},enumerable:!0,configurable:!0}),e.prototype.handleMapTransform=function(){this.zoomLevel!=this._prevZoomLevel&&(this.dispatch("zoomlevelchanged"),this._prevZoomLevel=this.zoomLevel,this.svgContainer.readerAlert(this.language.translate("Zoom level changed to %1",this.language.locale,b.castString(this.zoomLevel)))),!this.zoomGeoPoint||this._prevZoomGeoPoint.latitude==this.zoomGeoPoint.latitude&&this._prevZoomGeoPoint.longitude==this.zoomGeoPoint.longitude||this.dispatch("mappositionchanged")},Object.defineProperty(e.prototype,"smallMap",{get:function(){if(!this._smallMap){var t=new _r;this.smallMap=t}return this._smallMap},set:function(t){this._smallMap&&this.removeDispose(this._smallMap),this._smallMap=t,this._smallMap.chart=this,t.parent=this.chartContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomControl",{get:function(){return this._zoomControl},set:function(t){this._zoomControl&&this.removeDispose(this._zoomControl),this._zoomControl=t,t.chart=this,t.parent=this.chartContainer,t.plusButton.exportable=!1,t.minusButton.exportable=!1},enumerable:!0,configurable:!0}),e.prototype.createSeries=function(){return new Be},Object.defineProperty(e.prototype,"deltaLongitude",{get:function(){return this.getPropertyValue("deltaLongitude")},set:function(t){t=x.round(t,3),this.setPropertyValue("deltaLongitude",Tr(t))&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaLatitude",{get:function(){return this.getPropertyValue("deltaLatitude")},set:function(t){t=x.round(t,3),this.setPropertyValue("deltaLatitude",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaGamma",{get:function(){return this.getPropertyValue("deltaGamma")},set:function(t){t=x.round(t,3),this.setPropertyValue("deltaGamma",t)&&(this.rotateMap(),this.updateZoomGeoPoint())},enumerable:!0,configurable:!0}),e.prototype.rotateMap=function(){this.projection.d3Projection&&this.projection.d3Projection.rotate&&(this.projection.d3Projection.rotate([this.deltaLongitude,this.deltaLatitude,this.deltaGamma]),this.invalidateProjection())},Object.defineProperty(e.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(t){this.setPropertyValue("maxPanOut",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeGeoPoint",{get:function(){return this.getPropertyValue("homeGeoPoint")},set:function(t){this.setPropertyValue("homeGeoPoint",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"homeZoomLevel",{get:function(){return this.getPropertyValue("homeZoomLevel")},set:function(t){this.setPropertyValue("homeZoomLevel",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomStep",{get:function(){return this.getPropertyValue("zoomStep")},set:function(t){this.setPropertyValue("zoomStep",t)},enumerable:!0,configurable:!0}),e.prototype.invalidateProjection=function(){this.east=void 0,this.invalidateDataUsers(),this.updateCenterGeoPoint()},Object.defineProperty(e.prototype,"geodataSource",{get:function(){var t=this;this._dataSources.geodata||this.getDataSource("geodata").events.on("parseended",(function(){t.events.once("datavalidated",(function(){t.goHome(0)}))}));return this._dataSources.geodata},set:function(t){var e=this;this._dataSources.geodata&&this.removeDispose(this._dataSources.geodata),this._dataSources.geodata=t,this._dataSources.geodata.component=this,this.events.on("inited",(function(){e.loadData("geodata")}),this,!1),this.setDataSourceEvents(t,"geodata")},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){if(b.hasValue(e.geodata)&&b.isString(e.geodata)){var i=e.geodata;if(b.hasValue(window["am4geodata_"+e.geodata]))e.geodata=window["am4geodata_"+e.geodata];else try{e.geodata=JSON.parse(e.geodata)}catch(n){this.raiseCriticalError(Error("MapChart error: Geodata `"+i+"` is not loaded or is incorrect."),!0)}}b.hasValue(e.projection)&&b.isString(e.projection)&&(e.projection=this.createClassInstance(e.projection)),b.hasValue(e.smallMap)&&!b.hasValue(e.smallMap.type)&&(e.smallMap.type="SmallMap"),b.hasValue(e.zoomControl)&&!b.hasValue(e.zoomControl.type)&&(e.zoomControl.type="ZoomControl"),t.prototype.processConfig.call(this,e)},e.prototype.handleSeriesAdded=function(e){t.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;i.scale=this.scaleRatio,i.events.on("validated",this.updateCenterGeoPoint,this,!1)},e.prototype.configOrder=function(e,i){return e==i?0:"smallMap"==e?1:"smallMap"==i?-1:"series"==e?1:"series"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.asIs=function(e){return"projection"==e||"geodata"==e||t.prototype.asIs.call(this,e)},Object.defineProperty(e.prototype,"centerGeoPoint",{get:function(){return this._centerGeoPoint},enumerable:!0,configurable:!0}),e.prototype.goHome=function(t){var e=this.homeGeoPoint;e||(e=this.centerGeoPoint),e&&this.zoomToGeoPoint(e,this.homeZoomLevel,!0,t,!0)},e.prototype.setPaper=function(e){return this.svgContainer&&(this.svgContainer.hideOverflow=!0),t.prototype.setPaper.call(this,e)},Object.defineProperty(e.prototype,"backgroundSeries",{get:function(){var t=this;if(!this._backgroundSeries){var e=new yi;e.parent=this.seriesContainer,e.chart=this,e.hiddenInLegend=!0,e.mapPolygons.template.focusable=!1,e.addDisposer(new _.ku((function(){t._backgroundSeries=void 0}))),this._disposers.push(e);var i=(new y.h).getFor("background"),n=e.mapPolygons.template.polygon;n.stroke=i,n.fill=i,n.fillOpacity=0,n.strokeOpacity=0,e.mapPolygons.create(),this._backgroundSeries=e}return this._backgroundSeries},enumerable:!0,configurable:!0}),e.prototype.setLegend=function(e){t.prototype.setLegend.call(this,e),e&&(e.parent=this)},e.prototype.setTapToActivate=function(e){t.prototype.setTapToActivate.call(this,e),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.handleTapToActivate=function(){t.prototype.handleTapToActivate.call(this),this.seriesContainer.interactions.isTouchProtected=!1,this.panSprite.interactions.isTouchProtected=!1},e.prototype.handleTapToActivateDeactivation=function(){t.prototype.handleTapToActivateDeactivation.call(this),this.seriesContainer.interactions.isTouchProtected=!0,this.panSprite.interactions.isTouchProtected=!0},e.prototype.asFunction=function(e){return"zoomEasing"==e||t.prototype.asIs.call(this,e)},e.prototype.hasLicense=function(){if(pt.Y.commercialLicense)return!0;if(!t.prototype.hasLicense.call(this))return!1;for(var e=0;e<pt.Y.licenses.length;e++)if(pt.Y.licenses[e].match(/^MP.{5,}/i))return!0;return!1},e}(yt);f.i.registeredClasses.MapChart=Zr;var Hr=i(8392),Xr=function(t){function e(){var e=t.call(this)||this;return e.className="MapSpline",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createLine=function(){this.line=new Hr.o,this.line.tensionX=.8,this.line.tensionY=.8},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(jr);f.i.registeredClasses.MapSpline=Xr;var Qr=i(56537),Yr=function(t){function e(){var e=t.call(this)||this;return e.className="MapArc",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createLine=function(){this.line=new Qr.y},Object.defineProperty(e.prototype,"shortestDistance",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),e}(jr);f.i.registeredClasses.MapArc=Yr;var Ur=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(kr),Kr=function(t){function e(){var e=t.call(this)||this;return e.className="MapSplineSeries",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new Ur},e.prototype.createLine=function(){return new Xr},e}(Dr);f.i.registeredClasses.MapSplineSeries=Kr,f.i.registeredClasses.MapSplineSeriesDataItem=Ur;var qr=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeriesDataItem",e.applyTheme(),e}return(0,a.ZT)(e,t),e}(kr),$r=function(t){function e(){var e=t.call(this)||this;return e.className="MapArcSeries",e.applyTheme(),e}return(0,a.ZT)(e,t),e.prototype.createDataItem=function(){return new qr},e.prototype.createLine=function(){return new Yr},e}(Dr);f.i.registeredClasses.MapArcSeries=$r,f.i.registeredClasses.MapArcSeriesDataItem=qr;var Jr=function(t){function e(){var e=t.call(this)||this;e._chart=new _.cx,e.className="ZoomControl",e.align="right",e.valign="bottom",e.layout="vertical",e.padding(5,5,5,5);var i=new y.h,n=e.createChild(ot.z);n.shouldClone=!1,n.label.text="+",e.plusButton=n;var r=e.createChild(p.W);r.shouldClone=!1,r.background.fill=i.getFor("alternativeBackground"),r.background.fillOpacity=.05,r.background.events.on("hit",e.handleBackgroundClick,e,!1),r.events.on("sizechanged",e.updateThumbSize,e,!1),e.slider=r;var o=r.createChild(ot.z);o.shouldClone=!1,o.padding(0,0,0,0),o.draggable=!0,o.events.on("drag",e.handleThumbDrag,e,!1),e.thumb=o;var a=e.createChild(ot.z);return a.shouldClone=!1,a.label.text="-",e.minusButton=a,e.thumb.role="slider",e.thumb.readerLive="polite",e.thumb.readerTitle=e.language.translate("Use arrow keys to zoom in and out"),e.minusButton.readerTitle=e.language.translate("Press ENTER to zoom in"),e.plusButton.readerTitle=e.language.translate("Press ENTER to zoom out"),e.applyTheme(),e.events.on("propertychanged",(function(t){"layout"==t.property&&e.fixLayout()}),void 0,!1),e._disposers.push(e._chart),e.fixLayout(),e}return(0,a.ZT)(e,t),e.prototype.fixLayout=function(){var t=this.plusButton,e=this.minusButton,i=this.thumb,n=this.slider;t.x=void 0,t.y=void 0,e.x=void 0,e.y=void 0,i.x=void 0,i.y=void 0,n.x=void 0,n.y=void 0,t.padding(6,10,6,10),e.padding(6,10,6,10),e.label.align="center",e.label.valign="middle",t.label.align="center",t.label.valign="middle","vertical"==this.layout?(this.width=40,this.height=void 0,e.width=(0,m.aQ)(100),e.height=void 0,i.width=(0,m.aQ)(100),i.height=void 0,t.width=(0,m.aQ)(100),t.height=void 0,n.width=(0,m.aQ)(100),e.marginTop=1,t.marginBottom=2,n.height=0,e.toFront(),t.toBack(),i.minX=0,i.maxX=0,i.minY=0):"horizontal"==this.layout&&(this.height=40,this.width=void 0,e.height=(0,m.aQ)(100),e.width=void 0,t.height=(0,m.aQ)(100),t.width=void 0,i.height=(0,m.aQ)(100),i.width=void 0,i.minX=0,i.minY=0,i.maxY=0,n.height=(0,m.aQ)(100),n.width=0,e.toBack(),t.toFront())},e.prototype.handleBackgroundClick=function(t){var e=t.target,i=t.spritePoint.y,n=this.chart,r=Math.log(n.maxZoomLevel)/Math.LN2,o=Math.log(n.minZoomLevel)/Math.LN2,a=(e.pixelHeight-i)/e.pixelHeight*(o+(r-o)),s=Math.pow(2,a);n.zoomToGeoPoint(n.zoomGeoPoint,s)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){var e=this;this._chart.set(t,new _.FV([t.events.on("maxsizechanged",this.updateThumbSize,this,!1),t.events.on("zoomlevelchanged",this.updateThumb,this,!1),this.minusButton.events.on("hit",(function(){t.zoomOut(t.zoomGeoPoint)}),t,!1),(0,g.S)().body.events.on("keyup",(function(i){e.topParent.hasFocused&&(d.d.isKey(i.event,"plus")?t.zoomIn():d.d.isKey(i.event,"minus")&&t.zoomOut())}),t),this.plusButton.events.on("hit",(function(){t.zoomIn(t.zoomGeoPoint)}),t,!1)]))},enumerable:!0,configurable:!0}),e.prototype.updateThumbSize=function(){if(this.chart){var t=this.slider,e=this.thumb;"vertical"==this.layout?(e.minHeight=Math.min(this.slider.pixelHeight,20),e.height=t.pixelHeight/this.stepCount,e.maxY=t.pixelHeight-e.pixelHeight,e.pixelHeight<=1?e.visible=!1:e.visible=!0):(e.minWidth=Math.min(this.slider.pixelWidth,20),e.width=t.pixelWidth/this.stepCount,e.maxX=t.pixelWidth-e.pixelWidth,e.pixelWidth<=1?e.visible=!1:e.visible=!0)}},e.prototype.updateThumb=function(){var t=this.slider,e=this.chart,i=this.thumb;if(!i.isDown){var n=(Math.log(e.zoomLevel)-Math.log(this.chart.minZoomLevel))/Math.LN2;"vertical"==this.layout?i.y=t.pixelHeight-(t.pixelHeight-i.pixelHeight)*n/this.stepCount-i.pixelHeight:i.x=t.pixelWidth*n/this.stepCount}},e.prototype.handleThumbDrag=function(){var t,e=this.slider,i=this.chart,n=this.thumb;t=Math.log(this.chart.minZoomLevel)/Math.LN2+(t="vertical"==this.layout?this.stepCount*(e.pixelHeight-n.pixelY-n.pixelHeight)/(e.pixelHeight-n.pixelHeight):this.stepCount*n.pixelX/e.pixelWidth);var r=Math.pow(2,t);i.zoomToGeoPoint(void 0,r,!1,0)},Object.defineProperty(e.prototype,"stepCount",{get:function(){return Math.log(this.chart.maxZoomLevel)/Math.LN2-Math.log(this.chart.minZoomLevel)/Math.LN2},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new h.c},e}(p.W);function to(t,e){return[t,Nt(zt((Ct+e)/2))]}function eo(){return io(to).scale(961/Lt)}function io(t){var e,i,n,r=an(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,u=null;function h(){var o=Mt*a(),s=r(ei(r.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===to?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,i),n]]:[[u,Math.max(s[1]-o,e)],[i,Math.min(s[1]+o,n)]])}return r.scale=function(t){return arguments.length?(a(t),h()):a()},r.translate=function(t){return arguments.length?(s(t),h()):s()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=i=n=null:(u=+t[0][0],e=+t[0][1],i=+t[1][0],n=+t[1][1]),h()):null==u?null:[[u,e],[i,n]]},h()}f.i.registeredClasses.ZoomControl=Jr,to.invert=function(t,e){return[t,2*It(Dt(e))-Ct]};var no=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=eo(),e}return(0,a.ZT)(e,t),e}(br);f.i.registeredClasses.Mercator=no;var ro=Math.abs,oo=Math.atan,ao=(Math.atan2,Math.ceil,Math.cos),so=Math.exp,lo=(Math.floor,Math.log),uo=(Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),ho=Math.tan,po=Math.PI,co=po/2,fo=po/4;Math.SQRT1_2,mo(2),mo(po);function go(t){return t>1?co:t<-1?-co:Math.asin(t)}function mo(t){return t>0?Math.sqrt(t):0}function yo(t,e){return[t,1.25*lo(ho(fo+.4*e))]}yo.invert=function(t,e){return[t,2.5*oo(so(.8*e))-.625*po]};var vo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=an(yo).scale(108.318),e}return(0,a.ZT)(e,t),e}(br);function bo(t,e){for(var i=(1+co)*uo(e),n=0,r=1/0;n<10&&ro(r)>1e-6;n++)e-=r=(e+uo(e)-i)/(1+ao(e));return i=mo(2+po),[t*(1+ao(e))/i,2*e/i]}f.i.registeredClasses.Miller=vo,bo.invert=function(t,e){var i=1+co,n=mo(i/2);return[2*t*n/(1+ao(e*=n)),go((e+uo(e))/i)]};var xo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=an(bo).scale(173.044),e}return(0,a.ZT)(e,t),e}(br);function Po(t){return function(e,i){var n=jt(e),r=jt(i),o=t(n*r);return o===1/0?[2,0]:[o*r*Gt(e),o*Gt(i)]}}function _o(t){return function(e,i){var n=Ft(e*e+i*i),r=t(n),o=Gt(r),a=jt(r);return[Ot(e*o,n*a),Wt(n&&i*o/n)]}}function Mo(t,e){return[jt(e)*Gt(t),Gt(e)]}function Co(){return an(Mo).scale(249.5).clipAngle(90.000001)}f.i.registeredClasses.Eckert6=xo,Mo.invert=_o(Wt);var To=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Co(),e}return(0,a.ZT)(e,t),e}(br);function Lo(t,e){var i=jt(e),n=1+jt(t)*i;return[i*Gt(t)/n,Gt(e)/n]}function wo(){return an(Lo).scale(250).clipAngle(142)}f.i.registeredClasses.Orthographic=To,Lo.invert=_o((function(t){return 2*It(t)}));var So=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=wo(),e}return(0,a.ZT)(e,t),e}(br);function Vo(t){var e=0,i=Mt/3,n=sn(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*St,i=t[1]*St):[e*wt,i*wt]},r}function Io(t,e){var i=Gt(t),n=(i+Gt(e))/2;if(Vt(n)<Pt)return function(t){var e=jt(t);function i(t,i){return[t*e,Gt(i)/e]}return i.invert=function(t,i){return[t/e,Wt(i*e)]},i}(t);var r=1+i*(2*n-i),o=Ft(r)/n;function a(t,e){var i=Ft(r-2*n*Gt(e))/n;return[i*Gt(t*=n),o-i*jt(t)]}return a.invert=function(t,e){var i=o-e,a=Ot(t,Vt(i))*Rt(i);return i*n<0&&(a-=Mt*Rt(t)*Rt(i)),[a/n,Wt((r-(t*t+i*i)*n*n)/(2*n))]},a}function Oo(){return Vo(Io).scale(155.424).center([0,33.6442])}function jo(){return Oo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}f.i.registeredClasses.Stereographic=So;var ko=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=jo(),e}return(0,a.ZT)(e,t),e}(br);function Do(){var t,e,i,n,r,o,a=jo(),s=Oo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Oo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],a=t[1];return o=null,i.point(e,a),o||(n.point(e,a),o)||(r.point(e,a),o)}function p(){return t=e=null,h}return h.invert=function(t){var e=a.scale(),i=a.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?s:r>=.166&&r<.234&&n>=-.214&&n<-.115?l:a).invert(t)},h.stream=function(i){return t&&e===i?t:t=function(t){var e=t.length;return{point:function(i,n){for(var r=-1;++r<e;)t[r].point(i,n)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}([a.stream(e=i),s.stream(i),l.stream(i)])},h.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),p()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],h=+t[1];return i=a.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(u),n=s.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+Pt,h+.12*e+Pt],[o-.214*e-Pt,h+.234*e-Pt]]).stream(u),r=l.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+Pt,h+.166*e+Pt],[o-.115*e-Pt,h+.234*e-Pt]]).stream(u),p()},h.fitExtent=function(t,e){return qi(h,t,e)},h.fitSize=function(t,e){return $i(h,t,e)},h.fitWidth=function(t,e){return Ji(h,t,e)},h.fitHeight=function(t,e){return tn(h,t,e)},h.scale(1070)}f.i.registeredClasses.Albers=ko;var Eo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Do(),e}return(0,a.ZT)(e,t),e}(br);function No(t,e){var i=e*e,n=i*i;return[t*(.8707-.131979*i+n*(n*(.003971*i-.001529*n)-.013791)),e*(1.007226+i*(.015085+n*(.028874*i-.044475-.005916*n)))]}function Ao(){return an(No).scale(175.295)}f.i.registeredClasses.AlbersUsa=Eo,No.invert=function(t,e){var i,n=e,r=25;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Vt(i)>Pt&&--r>0);return[t/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]};var Go=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Ao(),e}return(0,a.ZT)(e,t),e}(br);f.i.registeredClasses.NaturalEarth1=Go;var Ro=Po((function(t){return Ft(2/(1+t))}));function Fo(){return an(Ro).scale(124.75).clipAngle(179.999)}Ro.invert=_o((function(t){return 2*Wt(t/2)}));var zo=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Fo(),e}return(0,a.ZT)(e,t),e}(br);f.i.registeredClasses.AzimuthalEqualArea=zo;var Bo=1.340264,Wo=-.081106,Zo=893e-6,Ho=.003796,Xo=Ft(3)/2;function Qo(t,e){var i=Wt(Xo*Gt(e)),n=i*i,r=n*n*n;return[t*jt(i)/(Xo*(Bo+3*Wo*n+r*(7*Zo+9*Ho*n))),i*(Bo+Wo*n+r*(Zo+Ho*n))]}function Yo(){return an(Qo).scale(177.158)}Qo.invert=function(t,e){for(var i,n=e,r=n*n,o=r*r*r,a=0;a<12&&(o=(r=(n-=i=(n*(Bo+Wo*r+o*(Zo+Ho*r))-e)/(Bo+3*Wo*r+o*(7*Zo+9*Ho*r)))*n)*r*r,!(Vt(i)<_t));++a);return[Xo*t*(Bo+3*Wo*r+o*(7*Zo+9*Ho*r))/jt(n),Wt(Gt(n)/Xo)]};var Uo,Ko,qo,$o,Jo,ta,ea,ia,na,ra,oa,aa,sa,la,ua,ha,pa=function(t){function e(){var e=t.call(this)||this;return e.d3Projection=Yo(),e}return(0,a.ZT)(e,t),e}(br);f.i.registeredClasses.EqualEarth=pa;var ca={sphere:Ht,point:da,lineStart:ga,lineEnd:va,polygonStart:function(){ca.lineStart=ba,ca.lineEnd=xa},polygonEnd:function(){ca.lineStart=ga,ca.lineEnd=va}};function da(t,e){t*=St;var i=jt(e*=St);fa(i*jt(t),i*Gt(t),Gt(e))}function fa(t,e,i){++Uo,qo+=(t-qo)/Uo,$o+=(e-$o)/Uo,Jo+=(i-Jo)/Uo}function ga(){ca.point=ma}function ma(t,e){t*=St;var i=jt(e*=St);la=i*jt(t),ua=i*Gt(t),ha=Gt(e),ca.point=ya,fa(la,ua,ha)}function ya(t,e){t*=St;var i=jt(e*=St),n=i*jt(t),r=i*Gt(t),o=Gt(e),a=Ot(Ft((a=ua*o-ha*r)*a+(a=ha*n-la*o)*a+(a=la*r-ua*n)*a),la*n+ua*r+ha*o);Ko+=a,ta+=a*(la+(la=n)),ea+=a*(ua+(ua=r)),ia+=a*(ha+(ha=o)),fa(la,ua,ha)}function va(){ca.point=da}function ba(){ca.point=Pa}function xa(){_a(aa,sa),ca.point=da}function Pa(t,e){aa=t,sa=e,t*=St,e*=St,ca.point=_a;var i=jt(e);la=i*jt(t),ua=i*Gt(t),ha=Gt(e),fa(la,ua,ha)}function _a(t,e){t*=St;var i=jt(e*=St),n=i*jt(t),r=i*Gt(t),o=Gt(e),a=ua*o-ha*r,s=ha*n-la*o,l=la*r-ua*n,u=Et(a,s,l),h=Wt(u),p=u&&-h/u;na.add(p*a),ra.add(p*s),oa.add(p*l),Ko+=h,ta+=h*(la+(la=n)),ea+=h*(ua+(ua=r)),ia+=h*(ha+(ha=o)),fa(la,ua,ha)}function Ma(t){Uo=Ko=qo=$o=Jo=ta=ea=ia=0,na=new xt,ra=new xt,oa=new xt,qt(t,ca);var e=+na,i=+ra,n=+oa,r=Et(e,i,n);return r<_t&&(e=ta,i=ea,n=ia,Ko<Pt&&(e=qo,i=$o,n=Jo),(r=Et(e,i,n))<_t)?[NaN,NaN]:[Ot(i,e)*wt,Wt(n/r)*wt]}function Ca(){var t,e,i,n=0,r=0,o=960,a=500;return i={stream:function(i){return t&&e===i?t:t=Ri(n,r,o,a)(e=i)},extent:function(s){return arguments.length?(n=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,i):[[n,r],[o,a]]}}}var Ta={Feature:function(t,e){return wa(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)if(wa(i[n].geometry,e))return!0;return!1}},La={Sphere:function(){return!0},Point:function(t,e){return Sa(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Sa(i[n],e))return!0;return!1},LineString:function(t,e){return Va(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Va(i[n],e))return!0;return!1},Polygon:function(t,e){return Ia(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)if(Ia(i[n],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)if(wa(i[n],e))return!0;return!1}};function wa(t,e){return!(!t||!La.hasOwnProperty(t.type))&&La[t.type](t,e)}function Sa(t,e){return 0===vr(t,e)}function Va(t,e){for(var i,n,r,o=0,a=t.length;o<a;o++){if(0===(n=vr(t[o],e)))return!0;if(o>0&&(r=vr(t[o],t[o-1]))>0&&i<=r&&n<=r&&(i+n-r)*(1-Math.pow((i-n)/r,2))<_t*r)return!0;i=n}return!1}function Ia(t,e){return!!Ci(t.map(Oa),ja(e))}function Oa(t){return(t=t.map(ja)).pop(),t}function ja(t){return[t[0]*St,t[1]*St]}function ka(t,e){return(t&&Ta.hasOwnProperty(t.type)?Ta[t.type]:wa)(t,e)}var Da=Po((function(t){return(t=Bt(t))&&t/Gt(t)}));function Ea(){return an(Da).scale(79.4188).clipAngle(179.999)}function Na(t){return zt((Ct+t)/2)}function Aa(t,e){var i=jt(t),n=t===e?Gt(t):Nt(i/jt(e))/Nt(Na(e)/Na(t)),r=i*At(Na(t),n)/n;if(!n)return to;function o(t,e){r>0?e<-Ct+Pt&&(e=-Ct+Pt):e>Ct-Pt&&(e=Ct-Pt);var i=r/At(Na(e),n);return[i*Gt(n*t),r-i*jt(n*t)]}return o.invert=function(t,e){var i=r-e,o=Rt(n)*Ft(t*t+i*i),a=Ot(t,Vt(i))*Rt(i);return i*n<0&&(a-=Mt*Rt(t)*Rt(i)),[a/n,2*It(At(r/o,1/n))-Ct]},o}function Ga(){return Vo(Aa).scale(109.5).parallels([30,30])}function Ra(t,e){var i=jt(t),n=t===e?Gt(t):(i-jt(e))/(e-t),r=i/n+t;if(Vt(n)<Pt)return ln;function o(t,e){var i=r-e,o=n*t;return[i*Gt(o),r-i*jt(o)]}return o.invert=function(t,e){var i=r-e,o=Ot(t,Vt(i))*Rt(i);return i*n<0&&(o-=Mt*Rt(t)*Rt(i)),[o/n,r-Rt(n)*Ft(t*t+i*i)]},o}function Fa(){return Vo(Ra).scale(131.154).center([0,13.9389])}function za(t,e){var i=jt(e),n=jt(t)*i;return[i*Gt(t)/n,Gt(e)/n]}function Ba(){return an(za).scale(144.049).clipAngle(60)}function Wa(){var t,e,i,n,r,o,a,s=1,l=0,u=0,h=1,p=1,c=0,d=null,f=1,g=1,m=Bi({point:function(t,e){var i=b([t,e]);this.stream.point(i[0],i[1])}}),y=Fi;function v(){return f=s*h,g=s*p,o=a=null,b}function b(i){var n=i[0]*f,r=i[1]*g;if(c){var o=r*t-n*e;n=n*t+r*e,r=o}return[n+l,r+u]}return b.invert=function(i){var n=i[0]-l,r=i[1]-u;if(c){var o=r*t+n*e;n=n*t-r*e,r=o}return[n/f,r/g]},b.stream=function(t){return o&&a===t?o:o=m(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,d=i=n=r=null,v()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=i=n=r=null,Fi):Ri(d=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),v()):null==d?null:[[d,i],[n,r]]},b.scale=function(t){return arguments.length?(s=+t,v()):s},b.translate=function(t){return arguments.length?(l=+t[0],u=+t[1],v()):[l,u]},b.angle=function(i){return arguments.length?(e=Gt(c=i%360*St),t=jt(c),v()):c*wt},b.reflectX=function(t){return arguments.length?(h=t?-1:1,v()):h<0},b.reflectY=function(t){return arguments.length?(p=t?-1:1,v()):p<0},b.fitExtent=function(t,e){return qi(b,t,e)},b.fitSize=function(t,e){return $i(b,t,e)},b.fitWidth=function(t,e){return Ji(b,t,e)},b.fitHeight=function(t,e){return tn(b,t,e)},b}function Za(t,e){return[Nt(zt((Ct+e)/2)),-t]}function Ha(){var t=io(Za),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)}Da.invert=_o((function(t){return t})),za.invert=_o(It),Za.invert=function(t,e){return[-e,2*It(Dt(t))-Ct]}},11423:function(t,e,i){var n=i(44613);function r(t,e,i){var r,s,l,u;e=e||1;for(var h=0;h<t[0].length;h++){var p=t[0][h];(!h||p[0]<r)&&(r=p[0]),(!h||p[1]<s)&&(s=p[1]),(!h||p[0]>l)&&(l=p[0]),(!h||p[1]>u)&&(u=p[1])}var c=l-r,d=u-s,f=Math.min(c,d),g=f/2;if(0===f){var m=[r,s];return m.distance=0,m}for(var y=new n(void 0,o),v=r;v<l;v+=f)for(var b=s;b<u;b+=f)y.push(new a(v+g,b+g,g,t));var x=function(t){for(var e=0,i=0,n=0,r=t[0],o=0,s=r.length,l=s-1;o<s;l=o++){var u=r[o],h=r[l],p=u[0]*h[1]-h[0]*u[1];i+=(u[0]+h[0])*p,n+=(u[1]+h[1])*p,e+=3*p}return 0===e?new a(r[0][0],r[0][1],0,t):new a(i/e,n/e,0,t)}(t),P=new a(r+c/2,s+d/2,0,t);P.d>x.d&&(x=P);for(var _=y.length;y.length;){var M=y.pop();M.d>x.d&&(x=M,i&&console.log("found best %d after %d probes",Math.round(1e4*M.d)/1e4,_)),M.max-x.d<=e||(g=M.h/2,y.push(new a(M.x-g,M.y-g,g,t)),y.push(new a(M.x+g,M.y-g,g,t)),y.push(new a(M.x-g,M.y+g,g,t)),y.push(new a(M.x+g,M.y+g,g,t)),_+=4)}i&&(console.log("num probes: "+_),console.log("best distance: "+x.d));var C=[x.x,x.y];return C.distance=x.d,C}function o(t,e){return e.max-t.max}function a(t,e,i,n){this.x=t,this.y=e,this.h=i,this.d=function(t,e,i){for(var n=!1,r=1/0,o=0;o<i.length;o++)for(var a=i[o],l=0,u=a.length,h=u-1;l<u;h=l++){var p=a[l],c=a[h];p[1]>e!==c[1]>e&&t<(c[0]-p[0])*(e-p[1])/(c[1]-p[1])+p[0]&&(n=!n),r=Math.min(r,s(t,e,p,c))}return 0===r?0:(n?1:-1)*Math.sqrt(r)}(t,e,n),this.max=this.d+this.h*Math.SQRT2}function s(t,e,i,n){var r=i[0],o=i[1],a=n[0]-r,s=n[1]-o;if(0!==a||0!==s){var l=((t-r)*a+(e-o)*s)/(a*a+s*s);l>1?(r=n[0],o=n[1]):l>0&&(r+=a*l,o+=s*l)}return(a=t-r)*a+(s=e-o)*s}n.default&&(n=n.default),t.exports=r,t.exports.default=r},44613:function(t,e,i){i.r(e),i.d(e,{default:function(){return o}});var n=i(15671),r=i(43144),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,n.Z)(this,t),this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return(0,r.Z)(t,[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n}},{key:"_down",value:function(t){for(var e=this.data,i=this.compare,n=this.length>>1,r=e[t];t<n;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&i(e[s],a)<0&&(o=s,a=e[s]),i(a,r)>=0)break;e[t]=a,t=o}e[t]=r}}]),t}();function a(t,e){return t<e?-1:t>e?1:0}}}]);
//# sourceMappingURL=391.8edb34b8.chunk.js.map